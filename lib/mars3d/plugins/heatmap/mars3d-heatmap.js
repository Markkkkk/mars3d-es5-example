/**
 * Mars3D三维可视化平台  mars3d-sdk
 *
 * 版本信息：v3.3.1
 * 编译日期：2022-03-20 15:34:46
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x32b427=_0x50a0;(function(_0x1987f8,_0x1af6aa){var _0x429295=_0x50a0,_0x1bbd5e=_0x1987f8();while(!![]){try{var _0x54ce32=parseInt(_0x429295(0x20a))/0x1+parseInt(_0x429295(0x1da))/0x2+-parseInt(_0x429295(0x211))/0x3*(-parseInt(_0x429295(0x1d5))/0x4)+parseInt(_0x429295(0x1d1))/0x5*(parseInt(_0x429295(0x205))/0x6)+-parseInt(_0x429295(0x231))/0x7+-parseInt(_0x429295(0x1ca))/0x8+-parseInt(_0x429295(0x22f))/0x9*(-parseInt(_0x429295(0x1bc))/0xa);if(_0x54ce32===_0x1af6aa)break;else _0x1bbd5e['push'](_0x1bbd5e['shift']());}catch(_0x1db2e5){_0x1bbd5e['push'](_0x1bbd5e['shift']());}}}(_0x14fd,0xcaa92));function _interopNamespace(_0x597d86){var _0x526506=_0x50a0;if(_0x597d86&&_0x597d86[_0x526506(0x228)])return _0x597d86;var _0x419736=Object[_0x526506(0x1d4)](null);return _0x597d86&&Object[_0x526506(0x22c)](_0x597d86)[_0x526506(0x1ac)](function(_0x186bf6){var _0x3fd61c=_0x526506;if(_0x186bf6!==_0x3fd61c(0x1db)){var _0x30da2e=Object['getOwnPropertyDescriptor'](_0x597d86,_0x186bf6);Object[_0x3fd61c(0x1ba)](_0x419736,_0x186bf6,_0x30da2e[_0x3fd61c(0x207)]?_0x30da2e:{'enumerable':!![],'get':function(){return _0x597d86[_0x186bf6];}});}}),_0x419736[_0x526506(0x1db)]=_0x597d86,_0x419736;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x58fb11,_0x4a66eb){var _0x2d9e21=_0x50a0,_0x543563=Object['keys'](_0x58fb11);if(Object[_0x2d9e21(0x1bf)]){var _0x3325cf=Object[_0x2d9e21(0x1bf)](_0x58fb11);_0x4a66eb&&(_0x3325cf=_0x3325cf[_0x2d9e21(0x1c5)](function(_0x2c3d71){var _0x492b6a=_0x2d9e21;return Object['getOwnPropertyDescriptor'](_0x58fb11,_0x2c3d71)[_0x492b6a(0x1f8)];})),_0x543563[_0x2d9e21(0x222)][_0x2d9e21(0x22d)](_0x543563,_0x3325cf);}return _0x543563;}function _objectSpread2(_0x4b0a58){var _0x258633=_0x50a0;for(var _0x289eac=0x1;_0x289eac<arguments[_0x258633(0x1fb)];_0x289eac++){var _0xb5ea63=null!=arguments[_0x289eac]?arguments[_0x289eac]:{};_0x289eac%0x2?ownKeys(Object(_0xb5ea63),!0x0)[_0x258633(0x1ac)](function(_0x2efecb){_defineProperty(_0x4b0a58,_0x2efecb,_0xb5ea63[_0x2efecb]);}):Object[_0x258633(0x1ae)]?Object['defineProperties'](_0x4b0a58,Object[_0x258633(0x1ae)](_0xb5ea63)):ownKeys(Object(_0xb5ea63))['forEach'](function(_0x3591c1){var _0x5d8e31=_0x258633;Object[_0x5d8e31(0x1ba)](_0x4b0a58,_0x3591c1,Object[_0x5d8e31(0x233)](_0xb5ea63,_0x3591c1));});}return _0x4b0a58;}function _classCallCheck(_0x44ce4e,_0x41c8c0){var _0x4c5d22=_0x50a0;if(!(_0x44ce4e instanceof _0x41c8c0))throw new TypeError(_0x4c5d22(0x1ee));}function _defineProperties(_0x199af1,_0x40c49b){var _0x5baf67=_0x50a0;for(var _0x2e8231=0x0;_0x2e8231<_0x40c49b[_0x5baf67(0x1fb)];_0x2e8231++){var _0x524dbe=_0x40c49b[_0x2e8231];_0x524dbe['enumerable']=_0x524dbe[_0x5baf67(0x1f8)]||![],_0x524dbe[_0x5baf67(0x1c7)]=!![];if(_0x5baf67(0x226)in _0x524dbe)_0x524dbe[_0x5baf67(0x1f6)]=!![];Object[_0x5baf67(0x1ba)](_0x199af1,_0x524dbe[_0x5baf67(0x219)],_0x524dbe);}}function _createClass(_0xee46e,_0x4ab3e5,_0x230f84){var _0x2839f0=_0x50a0;if(_0x4ab3e5)_defineProperties(_0xee46e[_0x2839f0(0x1f1)],_0x4ab3e5);if(_0x230f84)_defineProperties(_0xee46e,_0x230f84);return Object[_0x2839f0(0x1ba)](_0xee46e,'prototype',{'writable':![]}),_0xee46e;}function _defineProperty(_0x4d7db6,_0x729d43,_0x1442e6){var _0x4d6ae0=_0x50a0;return _0x729d43 in _0x4d7db6?Object[_0x4d6ae0(0x1ba)](_0x4d7db6,_0x729d43,{'value':_0x1442e6,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x4d7db6[_0x729d43]=_0x1442e6,_0x4d7db6;}function _inherits(_0x21dc0e,_0xcfa039){var _0x5827af=_0x50a0;if(typeof _0xcfa039!==_0x5827af(0x203)&&_0xcfa039!==null)throw new TypeError(_0x5827af(0x1f9));_0x21dc0e[_0x5827af(0x1f1)]=Object[_0x5827af(0x1d4)](_0xcfa039&&_0xcfa039[_0x5827af(0x1f1)],{'constructor':{'value':_0x21dc0e,'writable':!![],'configurable':!![]}}),Object[_0x5827af(0x1ba)](_0x21dc0e,_0x5827af(0x1f1),{'writable':![]});if(_0xcfa039)_setPrototypeOf(_0x21dc0e,_0xcfa039);}function _getPrototypeOf(_0x37bbfc){var _0x110007=_0x50a0;return _getPrototypeOf=Object[_0x110007(0x1ad)]?Object[_0x110007(0x1be)]:function _0x565c20(_0x5533da){var _0x5e8f59=_0x110007;return _0x5533da[_0x5e8f59(0x22e)]||Object[_0x5e8f59(0x1be)](_0x5533da);},_getPrototypeOf(_0x37bbfc);}function _setPrototypeOf(_0x585db0,_0x296569){return _setPrototypeOf=Object['setPrototypeOf']||function _0xe94939(_0x358bca,_0x1a98ae){var _0x383fbf=_0x50a0;return _0x358bca[_0x383fbf(0x22e)]=_0x1a98ae,_0x358bca;},_setPrototypeOf(_0x585db0,_0x296569);}function _isNativeReflectConstruct(){var _0x612ed6=_0x50a0;if(typeof Reflect===_0x612ed6(0x1cf)||!Reflect[_0x612ed6(0x1c2)])return![];if(Reflect[_0x612ed6(0x1c2)]['sham'])return![];if(typeof Proxy===_0x612ed6(0x203))return!![];try{return Boolean[_0x612ed6(0x1f1)]['valueOf'][_0x612ed6(0x1b2)](Reflect[_0x612ed6(0x1c2)](Boolean,[],function(){})),!![];}catch(_0x4d61b9){return![];}}function _assertThisInitialized(_0x85abe8){if(_0x85abe8===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x85abe8;}function _possibleConstructorReturn(_0x951f0f,_0x138299){var _0x5b480a=_0x50a0;if(_0x138299&&(typeof _0x138299===_0x5b480a(0x22b)||typeof _0x138299==='function'))return _0x138299;else{if(_0x138299!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x951f0f);}function _0x14fd(){var _0x316504=['AgvPz2H0','x2fKzgvKsg9VAW','zNvUy3rPB24','uMvJDgfUz2XLuhjPBwL0AxzL','ndK3oti4uMDcBenj','ywrKug9ZAxrPB24','z2v0','z2v0uMvJDgfUz2XL','sgvHDeXHEwvY','ntq5nJm5sePfz3jf','CMDIkde0mcWXndaSmtqWkq','CMDIkdi1nsWYntuSmJu1kq','BwLU','Bg5N','rg9TvxrPBa','x21cB3vUzhnnyxG','mJGXn1H5CgHPyW','zMXVB3i','x2XHC3rFBujVDw5KCW','CMDIkdiXnIWYmtySmJe2kq','zM9YBwf0uMvJDgfUz2XL','Eg1HEa','uMvJDgfUz2XL','yxjJqMX1CLnJywXL','A2v5','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','CgfYC2u','uKvqtefdrq','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','Dg9bCNjHEq','Bwf4','qMXLBMrPBMDtDgf0zq','Ew1PBG','ChvZAa','vxrPBa','y2fUDMfZ','Bg9UBgf0mM1LCMnHDg9Y','DMfSDwu','Eg1PBG','x19LC01VzhvSzq','z3jHzgLLBNrbCMm','x2nYzwf0zufYy0DYyxbOAwm','B2jQzwn0','A2v5CW','yxbWBhK','x19WCM90B19F','odq2odGYvuvuqwnQ','quXqsefFqKXftKq','otyXmZu2owDLuhDvDG','x2DYyxbOAwm','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','zNjVBurLz3jLzxm','AgvHDa','C3r5Bgu','x2HLyxq','y2XPzw50sgvPz2H0','Bgf5zxi','y29UDgfPBMvY','zgvMyxvSDfzHBhvL','x21HCNmZzf9WCML2yxrL','zM9YrwfJAa','C2v0uhjVDg90ExbLt2y','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','u3rLBMnPBez1BMn0Aw9U','Bwf4q2fUDMfZu2L6zq','u3rLBMnPBe9WzxjHDgLVBG','y2fSBa','EwvSBg93','CM91BMq','quXxqvLt','CMvTB3zLq2HPBgq','x2nYzwf0zuDYyxbOAwm','Ew1HEa','x3jLBMrLCMvY','zgvMAw5LuhjVCgvYDhK','C2HVDW','nZbove1kBxK','ywrKtgf5zxi','z2v0uhjVDg90ExbLt2y','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','Bgf0','y2XLyxi','y29UC3rYDwn0','x21HCa','x2XHC3rFAgvHDerHDge','zMLSDgvY','yMX1zq','y29UzMLNDxjHyMXL','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','ug9PBNruCMfUCW','mte5mJaZnJbYzNfdA0y','CMvTB3zLr3jHCgHPyW','x3jLy3rHBMDSzq','BwvYz2u','CMvK','Dw5KzwzPBMvK','D2LKDgG','odvWs09Owwe','x3bVC2L0Aw9UCW','AgvHDfn0EwXL','y3jLyxrL','mty0ofbxtenjqq','zNjVBunHy2HL','twf0zxjPywW','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','x21VDw50zwriB29R','mtm3nta0mKDhzNbRAa','zgvMyxvSDa','qMfZzuXHEwvY','z3jHBNvSyxjPDhK','ChG7','q2vZAxvT','x3nLDe9WDgLVBNniB29R','y29Uy2f0','tgf5zxjvDgLS','B3b0Aw9UCW','y29UzMLNDxjL','Aw1Hz2uVCg5N','CMvNAxn0zxi','r3jHCgHPy0XHEwvY','Cg9ZAxrPB25Z','CMfKAxvZ','x2XHEwvY','BwLUq2fUDMfZu2L6zq','x3jLBw92zwriB29R','yM9KEq','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','zgLMzKHLAwDODa','x2DLDeHLyxrdyw52yxnjBwC','ChjVDg90ExbL','uMvUzgvYu3rHDgu','z3jHCgHPyW','ChG7cIaGicaGicaGAgvPz2H0oG','ywjZ','D3jPDgfIBgu','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','zw51BwvYywjSzq','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','vKvsvevyx0zpuK1bva','BgvUz3rO','Dg9eyxrHvvjm','BwvYy2f0B3iYBg9UBgf0','ywrKr3jHCgHPyW','z3jLzw4','s0vfua'];_0x14fd=function(){return _0x316504;};return _0x14fd();}function _createSuper(_0x94e85c){var _0x14015d=_isNativeReflectConstruct();return function _0x6d8332(){var _0xb8630f=_0x50a0,_0x155a9a=_getPrototypeOf(_0x94e85c),_0x33adb1;if(_0x14015d){var _0x5e4616=_getPrototypeOf(this)['constructor'];_0x33adb1=Reflect[_0xb8630f(0x1c2)](_0x155a9a,arguments,_0x5e4616);}else _0x33adb1=_0x155a9a['apply'](this,arguments);return _possibleConstructorReturn(this,_0x33adb1);};}var HeatMaterial=_0x32b427(0x21a),Cesium=mars3d__namespace[_0x32b427(0x1df)],BaseLayer=mars3d__namespace[_0x32b427(0x1a8)][_0x32b427(0x1dc)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x32b427(0x1c6),0.6:_0x32b427(0x1ff),0.8:_0x32b427(0x1b3),0.9:_0x32b427(0x1ce)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x32b427(0x1c8)][_0x32b427(0x1fa)]},HeatLayer=function(_0xe93a71){var _0x14c441=_0x32b427;_inherits(_0x40a66c,_0xe93a71);var _0x5b49ff=_createSuper(_0x40a66c);function _0x40a66c(){var _0x500d4c=_0x50a0,_0x33632b,_0x1595e4=arguments[_0x500d4c(0x1fb)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x40a66c),_0x33632b=_0x5b49ff['call'](this,_0x1595e4),_0x33632b['options'][_0x500d4c(0x1b0)]=Cesium[_0x500d4c(0x1aa)](_0x33632b['options'][_0x500d4c(0x1b0)],document[_0x500d4c(0x1ed)]['clientWidth']),_0x33632b[_0x500d4c(0x1e3)]['maxCanvasSize']=Math[_0x500d4c(0x20d)](_0x33632b[_0x500d4c(0x1e3)]['maxCanvasSize'],0x1388),_0x33632b['options']['minCanvasSize']=Cesium[_0x500d4c(0x1aa)](_0x33632b[_0x500d4c(0x1e3)][_0x500d4c(0x1eb)],document[_0x500d4c(0x1ed)][_0x500d4c(0x1a7)]),_0x33632b[_0x500d4c(0x1e3)]['minCanvasSize']=Math['max'](_0x33632b[_0x500d4c(0x1e3)]['minCanvasSize'],0x2bc),_0x33632b['options'][_0x500d4c(0x1d3)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x33632b[_0x500d4c(0x1e3)][_0x500d4c(0x1d3)]||{}),_0x33632b[_0x500d4c(0x1e3)]['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x33632b[_0x500d4c(0x1e3)][_0x500d4c(0x236)]||{}),_0x33632b;}return _createClass(_0x40a66c,[{'key':'layer','get':function _0x9b66c1(){return this['_layer'];}},{'key':_0x14c441(0x1d3),'get':function _0x53b1b7(){var _0x253ca1=_0x14c441;return this[_0x253ca1(0x1e3)][_0x253ca1(0x1d3)];},'set':function _0x3dbb3f(_0x1774f5){var _0x3b9239=_0x14c441;this[_0x3b9239(0x1e3)][_0x3b9239(0x1d3)]=mars3d__namespace[_0x3b9239(0x223)][_0x3b9239(0x1cd)](this[_0x3b9239(0x1e3)]['heatStyle'],_0x1774f5),this['_heat']&&this['_heat'][_0x3b9239(0x1e4)](this['options'][_0x3b9239(0x1d3)]);}},{'key':_0x14c441(0x236),'get':function _0x1c6197(){var _0x525abe=_0x14c441;return this[_0x525abe(0x1e3)][_0x525abe(0x236)];},'set':function _0x4e4cd1(_0x509c42){var _0x3e68a2=_0x14c441;this[_0x3e68a2(0x1e3)][_0x3e68a2(0x236)]=mars3d__namespace['Util'][_0x3e68a2(0x1cd)](this[_0x3e68a2(0x1e3)][_0x3e68a2(0x236)],_0x509c42);}},{'key':_0x14c441(0x1e8),'get':function _0x42c6d2(){return this['_positions'];},'set':function _0x50c3ce(_0x56682c){var _0x3d1549=_0x14c441;this[_0x3d1549(0x1d2)]=_0x56682c,this[_0x3d1549(0x1d8)]();}},{'key':'coordinates','get':function _0x134d8b(){var _0x46704a=_0x14c441,_0x3ee98d=[];return this['points'][_0x46704a(0x1ac)](function(_0x1ac116){var _0x3bf7ff=_0x46704a;_0x3ee98d[_0x3bf7ff(0x222)](_0x1ac116[_0x3bf7ff(0x21e)]());}),_0x3ee98d;}},{'key':'rectangle','get':function _0x52f0ca(){var _0x748f03=_0x14c441;return this[_0x748f03(0x1cc)];}},{'key':_0x14c441(0x1e0),'value':function _0x99560f(_0x4bb258){var _0x531e8b=_0x14c441;_0x4bb258[_0x531e8b(0x1e8)]&&(this[_0x531e8b(0x1e8)]=_0x4bb258[_0x531e8b(0x1e8)]);}},{'key':_0x14c441(0x1d9),'value':function _0x35e354(){var _0x1a2e5c=_0x14c441;this[_0x1a2e5c(0x1ea)]=new mars3d__namespace[(_0x1a2e5c(0x1a8))][(_0x1a2e5c(0x1e7))]({'noLayerManage':!![]}),this[_0x1a2e5c(0x1ea)][_0x1a2e5c(0x1ab)]=!![];}},{'key':_0x14c441(0x202),'value':function _0x254bd0(){var _0x3ee9ba=_0x14c441;this[_0x3ee9ba(0x1c3)][_0x3ee9ba(0x1bd)](this[_0x3ee9ba(0x1ea)]),this[_0x3ee9ba(0x1e3)][_0x3ee9ba(0x1e8)]&&(this['positions']=this[_0x3ee9ba(0x1e3)][_0x3ee9ba(0x1e8)]),this[_0x3ee9ba(0x1e3)]['flyTo']&&this['flyToByAnimationEnd']();}},{'key':_0x14c441(0x1ec),'value':function _0xd2fefc(){var _0x1c398c=_0x14c441;this[_0x1c398c(0x1d3)][_0x1c398c(0x1a9)]&&(this['_map'][_0x1c398c(0x1a9)]['removeChild'](this[_0x1c398c(0x1d3)]['container']),delete this[_0x1c398c(0x1d3)][_0x1c398c(0x1a9)]),this[_0x1c398c(0x1c1)](),this['_map']['removeLayer'](this[_0x1c398c(0x1ea)]);}},{'key':_0x14c441(0x206),'value':function _0x4a0bca(_0x48b07b){var _0x5a3955=_0x14c441;this[_0x5a3955(0x1d2)]=this[_0x5a3955(0x1d2)]||[],this['_positions'][_0x5a3955(0x222)](_0x48b07b),this[_0x5a3955(0x1d8)]();}},{'key':_0x14c441(0x1c1),'value':function _0x29714d(){var _0xa0c53=_0x14c441;this[_0xa0c53(0x232)]&&(this[_0xa0c53(0x1ea)][_0xa0c53(0x1cb)](this[_0xa0c53(0x232)],!![]),delete this['_graphic']);}},{'key':'_updatePositionsHook','value':function _0x437144(){var _0x59a476=_0x14c441;if(!this[_0x59a476(0x1bb)]||!this[_0x59a476(0x1c3)]||!this[_0x59a476(0x1e8)]||this[_0x59a476(0x1e8)]['length']===0x0)return this;var _0xa97d50=this[_0x59a476(0x1f0)]();return this[_0x59a476(0x236)]['arc']?this[_0x59a476(0x22a)](_0xa97d50):this['_createGraphic'](_0xa97d50),this;}},{'key':'_getHeatCanvasImg','value':function _0x5b6e65(){var _0x1b61bc=_0x14c441,_0x4766f1,_0xda4b47,_0x1074c5=this[_0x1b61bc(0x1d2)],_0xfbd540=[],_0x2b7ba3,_0x41e585,_0x28b278,_0x393970;_0x1074c5[_0x1b61bc(0x1ac)](function(_0x47ece4){var _0x4dd469=_0x1b61bc,_0x4edaa4=mars3d__namespace['LngLatPoint'][_0x4dd469(0x21b)](_0x47ece4);if(!_0x4edaa4)return;_0x4edaa4[_0x4dd469(0x226)]=_0x47ece4['value']||0x1,_0x2b7ba3===undefined?(_0x2b7ba3=_0x4edaa4[_0x4dd469(0x20e)],_0x41e585=_0x4edaa4[_0x4dd469(0x20e)],_0x28b278=_0x4edaa4[_0x4dd469(0x1c0)],_0x393970=_0x4edaa4[_0x4dd469(0x1c0)]):(_0x2b7ba3=Math[_0x4dd469(0x20d)](_0x2b7ba3,_0x4edaa4[_0x4dd469(0x20e)]),_0x41e585=Math[_0x4dd469(0x21f)](_0x41e585,_0x4edaa4[_0x4dd469(0x20e)]),_0x28b278=Math[_0x4dd469(0x20d)](_0x28b278,_0x4edaa4[_0x4dd469(0x1c0)]),_0x393970=Math[_0x4dd469(0x21f)](_0x393970,_0x4edaa4[_0x4dd469(0x1c0)])),_0xfbd540['push'](_0x4edaa4);});var _0x588e40=this['heatStyle'][_0x1b61bc(0x1e9)]*1.5,_0x38565b={'xmin':_0x2b7ba3,'xmax':_0x41e585,'ymin':_0x28b278,'ymax':_0x393970},_0x15f83e=getMercatorBounds(_0x38565b),_0x4bfd94=Math[_0x1b61bc(0x1f5)](_0x15f83e[_0x1b61bc(0x216)]-_0x15f83e[_0x1b61bc(0x227)]),_0x4b0f84=Math[_0x1b61bc(0x1f5)](_0x15f83e[_0x1b61bc(0x1b8)]-_0x15f83e[_0x1b61bc(0x221)]),_0x177f4a=Math[_0x1b61bc(0x21f)](_0x4bfd94,_0x4b0f84),_0x3d0be=Math[_0x1b61bc(0x20d)](_0x4bfd94,_0x4b0f84);this[_0x1b61bc(0x210)]=_0x177f4a;var _0x2c585c=0x1;if(_0x177f4a>this[_0x1b61bc(0x1e3)][_0x1b61bc(0x1b0)])_0x2c585c=_0x177f4a/this[_0x1b61bc(0x1e3)][_0x1b61bc(0x1b0)],_0x3d0be/_0x2c585c<this['options'][_0x1b61bc(0x1eb)]&&(_0x2c585c=_0x3d0be/this[_0x1b61bc(0x1e3)][_0x1b61bc(0x1eb)]);else _0x3d0be<this['options'][_0x1b61bc(0x1eb)]&&(_0x2c585c=_0x3d0be/this[_0x1b61bc(0x1e3)]['minCanvasSize'],_0x177f4a/_0x2c585c>this['options'][_0x1b61bc(0x1b0)]&&(_0x2c585c=_0x177f4a/this[_0x1b61bc(0x1e3)]['maxCanvasSize']));var _0x4f0796=_0x4bfd94/_0x2c585c+_0x588e40*0x2,_0x4898ee=_0x4b0f84/_0x2c585c+_0x588e40*0x2,_0x18d807=_0x588e40*_0x2c585c;_0x15f83e[_0x1b61bc(0x227)]-=_0x18d807,_0x15f83e[_0x1b61bc(0x221)]-=_0x18d807,_0x15f83e[_0x1b61bc(0x216)]+=_0x18d807,_0x15f83e[_0x1b61bc(0x1b8)]+=_0x18d807,_0x38565b=geLatLngBounds(_0x15f83e),this[_0x1b61bc(0x1cc)]=Cesium[_0x1b61bc(0x217)][_0x1b61bc(0x234)](_0x38565b[_0x1b61bc(0x227)],_0x38565b[_0x1b61bc(0x221)],_0x38565b[_0x1b61bc(0x216)],_0x38565b['ymax']);var _0x5ed784=(_0x4766f1=_0xfbd540[0x0][_0x1b61bc(0x226)])!==null&&_0x4766f1!==void 0x0?_0x4766f1:0x1,_0x2d9f1e=(_0xda4b47=_0xfbd540[0x0]['value'])!==null&&_0xda4b47!==void 0x0?_0xda4b47:0x0,_0x559980=[];_0xfbd540[_0x1b61bc(0x1ac)](function(_0x43283c){var _0x2328f1=_0x1b61bc,_0x27ca08=mars3d__namespace['PointTrans'][_0x2328f1(0x225)]([_0x43283c[_0x2328f1(0x20e)],_0x43283c[_0x2328f1(0x1c0)]]),_0x324227=_0x43283c[_0x2328f1(0x226)]||0x1,_0x1b791a=Math[_0x2328f1(0x1b4)]((_0x27ca08[0x0]-_0x15f83e[_0x2328f1(0x227)])/_0x2c585c),_0x28b388=Math['round']((_0x15f83e['ymax']-_0x27ca08[0x1])/_0x2c585c);_0x5ed784=Math['max'](_0x5ed784,_0x324227),_0x2d9f1e=Math['min'](_0x2d9f1e,_0x324227),_0x559980[_0x2328f1(0x222)]({'x':_0x1b791a,'y':_0x28b388,'value':_0x324227});});var _0x2a702b={'min':_0x2d9f1e,'max':_0x5ed784,'data':_0x559980};this[_0x1b61bc(0x1c4)]=_0x2a702b;(!this[_0x1b61bc(0x213)]||_0x15f83e[_0x1b61bc(0x227)]!==this[_0x1b61bc(0x213)][_0x1b61bc(0x227)]||_0x15f83e['ymin']!==this['_last_mBounds'][_0x1b61bc(0x221)]||_0x15f83e['xmax']!==this[_0x1b61bc(0x213)][_0x1b61bc(0x216)]||_0x15f83e['ymax']!==this[_0x1b61bc(0x213)][_0x1b61bc(0x1b8)])&&(this['_last_mBounds']=_0x15f83e,!this[_0x1b61bc(0x1d3)][_0x1b61bc(0x1a9)]&&(this['heatStyle'][_0x1b61bc(0x1a9)]=mars3d__namespace[_0x1b61bc(0x20f)][_0x1b61bc(0x1d4)]('div','mars3d-heatmap',this['_map'][_0x1b61bc(0x1a9)])),this['heatStyle'][_0x1b61bc(0x1a9)][_0x1b61bc(0x236)]['cssText']=_0x1b61bc(0x21d)[_0x1b61bc(0x1e1)](_0x4f0796,_0x1b61bc(0x1f4))[_0x1b61bc(0x1e1)](_0x4898ee,_0x1b61bc(0x1de)),!this[_0x1b61bc(0x237)]?this[_0x1b61bc(0x237)]=h337__namespace[_0x1b61bc(0x1d4)](this[_0x1b61bc(0x1d3)]):this[_0x1b61bc(0x237)][_0x1b61bc(0x1e4)](this['heatStyle']));this['_heat']['setData'](_0x2a702b);var _0x177c32=this[_0x1b61bc(0x237)][_0x1b61bc(0x1b9)][_0x1b61bc(0x224)][_0x1b61bc(0x1fc)](_0x1b61bc(0x1e5));return this['heatStyle'][_0x1b61bc(0x1a9)]&&(this[_0x1b61bc(0x1c3)][_0x1b61bc(0x1a9)][_0x1b61bc(0x1b6)](this[_0x1b61bc(0x1d3)]['container']),delete this[_0x1b61bc(0x1d3)]['container']),_0x177c32;}},{'key':_0x14c441(0x1b7),'value':function _0x4fb80d(_0x43d5bd){var _0x132ecd=_0x14c441;this[_0x132ecd(0x1c1)](),this[_0x132ecd(0x232)]=new mars3d__namespace['graphic']['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x132ecd(0x1cc)],'appearance':new Cesium[(_0x132ecd(0x1c8))]({'material':new Cesium[(_0x132ecd(0x1d7))]({'fabric':{'uniforms':{'image':_0x43d5bd},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer'][_0x132ecd(0x1fe)](this[_0x132ecd(0x232)]);}},{'key':_0x14c441(0x22a),'value':function _0x5d9886(_0x1aee9e){var _0x1611f7=_0x14c441;this['clear'](),this[_0x1611f7(0x237)][_0x1611f7(0x1e4)](_objectSpread2(_objectSpread2({},this[_0x1611f7(0x1d3)]),{},{'radius':this['heatStyle']['radius']*this['style']['arcRadiusScale'],'blur':this[_0x1611f7(0x1d3)]['blur']*this[_0x1611f7(0x236)][_0x1611f7(0x218)],'gradient':this[_0x1611f7(0x1d3)][_0x1611f7(0x229)]||{0.25:'rgb(0,0,0)',0.55:_0x1611f7(0x20b),0.85:_0x1611f7(0x214),0x1:_0x1611f7(0x20c)}}));var _0x5c9d7b=this[_0x1611f7(0x237)][_0x1611f7(0x1b9)][_0x1611f7(0x224)][_0x1611f7(0x1fc)](_0x1611f7(0x1e5)),_0x1c7539=Cesium[_0x1611f7(0x1f2)][_0x1611f7(0x1d6)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x1611f7(0x1af)][_0x1611f7(0x1b5)],'frontOperation':{'fail':Cesium[_0x1611f7(0x1b1)][_0x1611f7(0x200)],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium[_0x1611f7(0x1b1)][_0x1611f7(0x21c)]},'backFunction':Cesium[_0x1611f7(0x1af)][_0x1611f7(0x1b5)],'backOperation':{'fail':Cesium[_0x1611f7(0x1b1)]['KEEP'],'zFail':Cesium[_0x1611f7(0x1b1)][_0x1611f7(0x200)],'zPass':Cesium[_0x1611f7(0x1b1)][_0x1611f7(0x21c)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x1611f7(0x220)][_0x1611f7(0x230)]}),_0x36963e=Math[_0x1611f7(0x212)](Cesium[_0x1611f7(0x1aa)](this[_0x1611f7(0x236)][_0x1611f7(0x1ef)],this[_0x1611f7(0x210)]*0.02))+0.1,_0x803eff=Cesium['defaultValue'](this[_0x1611f7(0x236)]['splitNum'],0x64),_0x593619=Math['max'](this[_0x1611f7(0x1cc)][_0x1611f7(0x201)],this[_0x1611f7(0x1cc)][_0x1611f7(0x1d0)]);this[_0x1611f7(0x236)][_0x1611f7(0x1dd)]=_0x593619/=_0x803eff,this['_graphic']=new mars3d__namespace[(_0x1611f7(0x1f3))][(_0x1611f7(0x204))](_objectSpread2(_objectSpread2({},this[_0x1611f7(0x1e3)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x1611f7(0x1c8))]({'aboveGround':!![],'renderState':_0x1c7539,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x1aee9e,'repeat':new Cesium['Cartesian2'](0x1,0x1),'color':new Cesium['Color'](0x1,0x1,0x1,0.01),'bumpMap':_0x5c9d7b},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x1611f7(0x1f7)[_0x1611f7(0x1e1)](_0x36963e,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0x1611f7(0x1ea)][_0x1611f7(0x1fe)](this[_0x1611f7(0x232)]);}},{'key':_0x14c441(0x208),'value':function _0x172411(_0x46e052){var _0x5db9fe=_0x14c441;return _0x46e052!==null&&_0x46e052!==void 0x0&&_0x46e052['isFormat']&&this[_0x5db9fe(0x1cc)]?mars3d__namespace['PolyUtil'][_0x5db9fe(0x215)](this[_0x5db9fe(0x1cc)]):this[_0x5db9fe(0x1cc)];}}]),_0x40a66c;}(BaseLayer);mars3d__namespace[_0x32b427(0x1a8)][_0x32b427(0x209)]=HeatLayer,mars3d__namespace[_0x32b427(0x1e2)][_0x32b427(0x1e6)](_0x32b427(0x235),HeatLayer);function getMercatorBounds(_0x4de350){var _0x5dd5ab=_0x32b427,_0x157610=mars3d__namespace[_0x5dd5ab(0x1c9)][_0x5dd5ab(0x225)]([_0x4de350[_0x5dd5ab(0x227)],_0x4de350[_0x5dd5ab(0x221)]]),_0x491754=mars3d__namespace[_0x5dd5ab(0x1c9)][_0x5dd5ab(0x225)]([_0x4de350['xmax'],_0x4de350[_0x5dd5ab(0x1b8)]]);return{'xmin':_0x157610[0x0],'ymin':_0x157610[0x1],'xmax':_0x491754[0x0],'ymax':_0x491754[0x1]};}function _0x50a0(_0x311b67,_0x1121b5){var _0x14fd65=_0x14fd();return _0x50a0=function(_0x50a0d5,_0x168e0e){_0x50a0d5=_0x50a0d5-0x1a7;var _0x4f993a=_0x14fd65[_0x50a0d5];if(_0x50a0['BgWPeh']===undefined){var _0x4c0a4a=function(_0x597d86){var _0x419736='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x186bf6='',_0x30da2e='';for(var _0x58fb11=0x0,_0x4a66eb,_0x543563,_0x3325cf=0x0;_0x543563=_0x597d86['charAt'](_0x3325cf++);~_0x543563&&(_0x4a66eb=_0x58fb11%0x4?_0x4a66eb*0x40+_0x543563:_0x543563,_0x58fb11++%0x4)?_0x186bf6+=String['fromCharCode'](0xff&_0x4a66eb>>(-0x2*_0x58fb11&0x6)):0x0){_0x543563=_0x419736['indexOf'](_0x543563);}for(var _0x2c3d71=0x0,_0x4b0a58=_0x186bf6['length'];_0x2c3d71<_0x4b0a58;_0x2c3d71++){_0x30da2e+='%'+('00'+_0x186bf6['charCodeAt'](_0x2c3d71)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x30da2e);};_0x50a0['TCRDrQ']=_0x4c0a4a,_0x311b67=arguments,_0x50a0['BgWPeh']=!![];}var _0x47acfa=_0x14fd65[0x0],_0x36cc89=_0x50a0d5+_0x47acfa,_0x55f5c2=_0x311b67[_0x36cc89];return!_0x55f5c2?(_0x4f993a=_0x50a0['TCRDrQ'](_0x4f993a),_0x311b67[_0x36cc89]=_0x4f993a):_0x4f993a=_0x55f5c2,_0x4f993a;},_0x50a0(_0x311b67,_0x1121b5);}function geLatLngBounds(_0x1e6756){var _0x5372df=_0x32b427,_0x5f0564=mars3d__namespace[_0x5372df(0x1c9)][_0x5372df(0x1fd)]([_0x1e6756['xmin'],_0x1e6756['ymin']]),_0x2ac684=mars3d__namespace[_0x5372df(0x1c9)][_0x5372df(0x1fd)]([_0x1e6756[_0x5372df(0x216)],_0x1e6756[_0x5372df(0x1b8)]]);return{'xmin':_0x5f0564[0x0],'ymin':_0x5f0564[0x1],'xmax':_0x2ac684[0x0],'ymax':_0x2ac684[0x1]};}exports['HeatLayer']=HeatLayer,Object[_0x32b427(0x1ba)](exports,_0x32b427(0x228),{'value':!![]});
}));
