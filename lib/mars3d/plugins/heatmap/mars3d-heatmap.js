/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.4
 * 编译日期：2022-04-06 18:50:01
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x1a1984=_0x1f6c;(function(_0x1bf7b4,_0x27d61b){var _0x268f7b=_0x1f6c,_0x3c04c0=_0x1bf7b4();while(!![]){try{var _0x438293=parseInt(_0x268f7b(0x8b))/0x1+parseInt(_0x268f7b(0xf5))/0x2*(-parseInt(_0x268f7b(0xea))/0x3)+parseInt(_0x268f7b(0xac))/0x4*(parseInt(_0x268f7b(0x8c))/0x5)+parseInt(_0x268f7b(0x84))/0x6*(-parseInt(_0x268f7b(0xb2))/0x7)+parseInt(_0x268f7b(0xba))/0x8*(-parseInt(_0x268f7b(0x9a))/0x9)+-parseInt(_0x268f7b(0xe3))/0xa+parseInt(_0x268f7b(0xc1))/0xb;if(_0x438293===_0x27d61b)break;else _0x3c04c0['push'](_0x3c04c0['shift']());}catch(_0x4f4a33){_0x3c04c0['push'](_0x3c04c0['shift']());}}}(_0x1980,0xbd4f5));function _interopNamespace(_0x45b284){var _0x124461=_0x1f6c;if(_0x45b284&&_0x45b284['__esModule'])return _0x45b284;var _0x1870d7=Object[_0x124461(0xde)](null);return _0x45b284&&Object['keys'](_0x45b284)[_0x124461(0xbe)](function(_0x38f244){var _0x446791=_0x124461;if(_0x38f244!==_0x446791(0xa6)){var _0xd82b21=Object[_0x446791(0x106)](_0x45b284,_0x38f244);Object[_0x446791(0x87)](_0x1870d7,_0x38f244,_0xd82b21[_0x446791(0x7a)]?_0xd82b21:{'enumerable':!![],'get':function(){return _0x45b284[_0x38f244];}});}}),_0x1870d7[_0x124461(0xa6)]=_0x45b284,_0x1870d7;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x26901e,_0x3307b4){var _0x410c33=_0x1f6c,_0x438775=Object['keys'](_0x26901e);if(Object[_0x410c33(0xdf)]){var _0x542e4f=Object[_0x410c33(0xdf)](_0x26901e);_0x3307b4&&(_0x542e4f=_0x542e4f[_0x410c33(0x98)](function(_0x44a424){var _0x1f3c34=_0x410c33;return Object['getOwnPropertyDescriptor'](_0x26901e,_0x44a424)[_0x1f3c34(0xc7)];})),_0x438775[_0x410c33(0xd5)][_0x410c33(0x88)](_0x438775,_0x542e4f);}return _0x438775;}function _objectSpread2(_0x1cca96){var _0x1d79f2=_0x1f6c;for(var _0x2fb5df=0x1;_0x2fb5df<arguments[_0x1d79f2(0xb1)];_0x2fb5df++){var _0x38afa2=null!=arguments[_0x2fb5df]?arguments[_0x2fb5df]:{};_0x2fb5df%0x2?ownKeys(Object(_0x38afa2),!0x0)[_0x1d79f2(0xbe)](function(_0x2db2ba){_defineProperty(_0x1cca96,_0x2db2ba,_0x38afa2[_0x2db2ba]);}):Object['getOwnPropertyDescriptors']?Object[_0x1d79f2(0xb7)](_0x1cca96,Object[_0x1d79f2(0xf1)](_0x38afa2)):ownKeys(Object(_0x38afa2))[_0x1d79f2(0xbe)](function(_0x58acbb){var _0x219466=_0x1d79f2;Object[_0x219466(0x87)](_0x1cca96,_0x58acbb,Object[_0x219466(0x106)](_0x38afa2,_0x58acbb));});}return _0x1cca96;}function _classCallCheck(_0x24200d,_0x1f5d25){if(!(_0x24200d instanceof _0x1f5d25))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x502a8d,_0x1440ba){var _0x2b72b0=_0x1f6c;for(var _0x45d32d=0x0;_0x45d32d<_0x1440ba[_0x2b72b0(0xb1)];_0x45d32d++){var _0x426560=_0x1440ba[_0x45d32d];_0x426560['enumerable']=_0x426560['enumerable']||![],_0x426560[_0x2b72b0(0x78)]=!![];if(_0x2b72b0(0xe2)in _0x426560)_0x426560['writable']=!![];Object[_0x2b72b0(0x87)](_0x502a8d,_0x426560[_0x2b72b0(0x8f)],_0x426560);}}function _createClass(_0xb21b36,_0x38ba6b,_0xbe7d30){var _0x13223a=_0x1f6c;if(_0x38ba6b)_defineProperties(_0xb21b36[_0x13223a(0x8a)],_0x38ba6b);if(_0xbe7d30)_defineProperties(_0xb21b36,_0xbe7d30);return Object[_0x13223a(0x87)](_0xb21b36,_0x13223a(0x8a),{'writable':![]}),_0xb21b36;}function _defineProperty(_0x452e4e,_0x3dfd1a,_0x59bb55){var _0x12dc2e=_0x1f6c;return _0x3dfd1a in _0x452e4e?Object[_0x12dc2e(0x87)](_0x452e4e,_0x3dfd1a,{'value':_0x59bb55,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x452e4e[_0x3dfd1a]=_0x59bb55,_0x452e4e;}function _inherits(_0x5674e8,_0xb7ed79){var _0xac5d41=_0x1f6c;if(typeof _0xb7ed79!==_0xac5d41(0x91)&&_0xb7ed79!==null)throw new TypeError(_0xac5d41(0xdc));_0x5674e8[_0xac5d41(0x8a)]=Object[_0xac5d41(0xde)](_0xb7ed79&&_0xb7ed79[_0xac5d41(0x8a)],{'constructor':{'value':_0x5674e8,'writable':!![],'configurable':!![]}}),Object[_0xac5d41(0x87)](_0x5674e8,_0xac5d41(0x8a),{'writable':![]});if(_0xb7ed79)_setPrototypeOf(_0x5674e8,_0xb7ed79);}function _getPrototypeOf(_0x3671e1){var _0x215cc8=_0x1f6c;return _getPrototypeOf=Object[_0x215cc8(0xbd)]?Object[_0x215cc8(0x105)]:function _0x40c1e2(_0x50fd88){var _0x5818a1=_0x215cc8;return _0x50fd88[_0x5818a1(0xfb)]||Object[_0x5818a1(0x105)](_0x50fd88);},_getPrototypeOf(_0x3671e1);}function _setPrototypeOf(_0x5794e1,_0x8e4a62){var _0x19a28d=_0x1f6c;return _setPrototypeOf=Object[_0x19a28d(0xbd)]||function _0x3cb877(_0x36b521,_0x48d4c8){return _0x36b521['__proto__']=_0x48d4c8,_0x36b521;},_setPrototypeOf(_0x5794e1,_0x8e4a62);}function _isNativeReflectConstruct(){var _0x55802b=_0x1f6c;if(typeof Reflect===_0x55802b(0x7f)||!Reflect[_0x55802b(0xb8)])return![];if(Reflect[_0x55802b(0xb8)]['sham'])return![];if(typeof Proxy===_0x55802b(0x91))return!![];try{return Boolean[_0x55802b(0x8a)][_0x55802b(0xa7)]['call'](Reflect[_0x55802b(0xb8)](Boolean,[],function(){})),!![];}catch(_0x50398f){return![];}}function _assertThisInitialized(_0x2c26ea){var _0x4a04cf=_0x1f6c;if(_0x2c26ea===void 0x0)throw new ReferenceError(_0x4a04cf(0x86));return _0x2c26ea;}function _0x1f6c(_0x3ec46a,_0x71ec87){var _0x198014=_0x1980();return _0x1f6c=function(_0x1f6c51,_0x2ddc8e){_0x1f6c51=_0x1f6c51-0x77;var _0x2ef0bc=_0x198014[_0x1f6c51];if(_0x1f6c['jwAqJS']===undefined){var _0x42e014=function(_0x45b284){var _0x1870d7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x38f244='',_0xd82b21='';for(var _0x26901e=0x0,_0x3307b4,_0x438775,_0x542e4f=0x0;_0x438775=_0x45b284['charAt'](_0x542e4f++);~_0x438775&&(_0x3307b4=_0x26901e%0x4?_0x3307b4*0x40+_0x438775:_0x438775,_0x26901e++%0x4)?_0x38f244+=String['fromCharCode'](0xff&_0x3307b4>>(-0x2*_0x26901e&0x6)):0x0){_0x438775=_0x1870d7['indexOf'](_0x438775);}for(var _0x44a424=0x0,_0x1cca96=_0x38f244['length'];_0x44a424<_0x1cca96;_0x44a424++){_0xd82b21+='%'+('00'+_0x38f244['charCodeAt'](_0x44a424)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xd82b21);};_0x1f6c['VTOmVn']=_0x42e014,_0x3ec46a=arguments,_0x1f6c['jwAqJS']=!![];}var _0x3a5f84=_0x198014[0x0],_0x12cd59=_0x1f6c51+_0x3a5f84,_0x425ce8=_0x3ec46a[_0x12cd59];return!_0x425ce8?(_0x2ef0bc=_0x1f6c['VTOmVn'](_0x2ef0bc),_0x3ec46a[_0x12cd59]=_0x2ef0bc):_0x2ef0bc=_0x425ce8,_0x2ef0bc;},_0x1f6c(_0x3ec46a,_0x71ec87);}function _possibleConstructorReturn(_0x40c1f7,_0x2c76e2){var _0x525213=_0x1f6c;if(_0x2c76e2&&(typeof _0x2c76e2===_0x525213(0xd3)||typeof _0x2c76e2==='function'))return _0x2c76e2;else{if(_0x2c76e2!==void 0x0)throw new TypeError(_0x525213(0xcc));}return _assertThisInitialized(_0x40c1f7);}function _createSuper(_0xfbe6f3){var _0x383a66=_isNativeReflectConstruct();return function _0x39db63(){var _0x15c529=_0x1f6c,_0x8e8882=_getPrototypeOf(_0xfbe6f3),_0x378a87;if(_0x383a66){var _0x33efc5=_getPrototypeOf(this)[_0x15c529(0xca)];_0x378a87=Reflect[_0x15c529(0xb8)](_0x8e8882,arguments,_0x33efc5);}else _0x378a87=_0x8e8882[_0x15c529(0x88)](this,arguments);return _possibleConstructorReturn(this,_0x378a87);};}var HeatMaterial=_0x1a1984(0xda),Cesium=mars3d__namespace[_0x1a1984(0x101)],BaseLayer=mars3d__namespace[_0x1a1984(0x109)]['BaseLayer'],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x1a1984(0x96),0.6:_0x1a1984(0xe9),0.8:'yellow',0.9:_0x1a1984(0x8d)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x1a1984(0xcd)][_0x1a1984(0x9e)]},HeatLayer=function(_0x3a70f3){var _0x333946=_0x1a1984;_inherits(_0x4d901b,_0x3a70f3);var _0x5c61c7=_createSuper(_0x4d901b);function _0x4d901b(){var _0x272184=_0x1f6c,_0x5bd513,_0x402b17=arguments[_0x272184(0xb1)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x4d901b),_0x5bd513=_0x5c61c7[_0x272184(0xc0)](this,_0x402b17),_0x5bd513['options'][_0x272184(0xaa)]=Cesium[_0x272184(0xb5)](_0x5bd513['options'][_0x272184(0xaa)],document['body'][_0x272184(0xbc)]),_0x5bd513[_0x272184(0xcf)][_0x272184(0xaa)]=Math[_0x272184(0x9f)](_0x5bd513['options'][_0x272184(0xaa)],0x1388),_0x5bd513[_0x272184(0xcf)][_0x272184(0xe6)]=Cesium[_0x272184(0xb5)](_0x5bd513[_0x272184(0xcf)][_0x272184(0xe6)],document['body'][_0x272184(0x7b)]),_0x5bd513[_0x272184(0xcf)][_0x272184(0xe6)]=Math[_0x272184(0xd8)](_0x5bd513[_0x272184(0xcf)][_0x272184(0xe6)],0x2bc),_0x5bd513[_0x272184(0xcf)][_0x272184(0x107)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x5bd513[_0x272184(0xcf)]['heatStyle']||{}),_0x5bd513[_0x272184(0xcf)][_0x272184(0xfa)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x5bd513[_0x272184(0xcf)]['style']||{}),_0x5bd513;}return _createClass(_0x4d901b,[{'key':_0x333946(0x109),'get':function _0x370d29(){var _0x13f6d1=_0x333946;return this[_0x13f6d1(0x81)];}},{'key':_0x333946(0x107),'get':function _0xd5a59e(){var _0x1c157e=_0x333946;return this[_0x1c157e(0xcf)][_0x1c157e(0x107)];},'set':function _0x40a0ac(_0x466ac7){var _0x49910e=_0x333946;this[_0x49910e(0xcf)][_0x49910e(0x107)]=mars3d__namespace[_0x49910e(0xe1)]['merge'](this[_0x49910e(0xcf)][_0x49910e(0x107)],_0x466ac7),this[_0x49910e(0x93)]&&this[_0x49910e(0x93)][_0x49910e(0xae)](this[_0x49910e(0xcf)][_0x49910e(0x107)]);}},{'key':_0x333946(0xfa),'get':function _0x1e59fc(){var _0x3ccac3=_0x333946;return this['options'][_0x3ccac3(0xfa)];},'set':function _0x2d92d5(_0x1042b0){var _0x17db21=_0x333946;this[_0x17db21(0xcf)][_0x17db21(0xfa)]=mars3d__namespace[_0x17db21(0xe1)][_0x17db21(0xe0)](this[_0x17db21(0xcf)][_0x17db21(0xfa)],_0x1042b0);}},{'key':_0x333946(0xe4),'get':function _0x4a45fb(){var _0x227297=_0x333946;return this[_0x227297(0xbb)];},'set':function _0xee8aae(_0xa04161){var _0x3b6e66=_0x333946;this[_0x3b6e66(0xbb)]=_0xa04161,this[_0x3b6e66(0x77)]();}},{'key':_0x333946(0xc6),'get':function _0x3a8b5a(){var _0x5367d1=_0x333946,_0x4665a7=[];return this[_0x5367d1(0x7c)][_0x5367d1(0xbe)](function(_0x191fe1){var _0x37fb17=_0x5367d1;_0x4665a7['push'](_0x191fe1[_0x37fb17(0xee)]());}),_0x4665a7;}},{'key':_0x333946(0x9c),'get':function _0x22cbef(){var _0x10643b=_0x333946;return this[_0x10643b(0xf6)];}},{'key':_0x333946(0xa8),'value':function _0x3d28ce(_0x3f3a71){var _0x48c3cc=_0x333946;_0x3f3a71[_0x48c3cc(0xe4)]&&(this[_0x48c3cc(0xe4)]=_0x3f3a71['positions']);}},{'key':_0x333946(0x8e),'value':function _0x2fe6cb(){var _0x1e3c5e=_0x333946;this[_0x1e3c5e(0x81)]=new mars3d__namespace['layer'][(_0x1e3c5e(0xa4))]({'noLayerManage':!![]}),this[_0x1e3c5e(0x81)][_0x1e3c5e(0xc4)]=!![];}},{'key':'_addedHook','value':function _0x56daf8(){var _0x45f6b7=_0x333946;this[_0x45f6b7(0xc9)][_0x45f6b7(0x82)](this[_0x45f6b7(0x81)]),this['options']['positions']&&(this[_0x45f6b7(0xe4)]=this[_0x45f6b7(0xcf)][_0x45f6b7(0xe4)]),this[_0x45f6b7(0xcf)]['flyTo']&&this['flyToByAnimationEnd']();}},{'key':_0x333946(0x102),'value':function _0x3a1577(){var _0x5baf69=_0x333946;this[_0x5baf69(0x107)][_0x5baf69(0x9b)]&&(this[_0x5baf69(0xc9)][_0x5baf69(0x9b)]['removeChild'](this[_0x5baf69(0x107)][_0x5baf69(0x9b)]),delete this[_0x5baf69(0x107)][_0x5baf69(0x9b)]),this[_0x5baf69(0xfe)](),this[_0x5baf69(0xc9)][_0x5baf69(0xf3)](this[_0x5baf69(0x81)]);}},{'key':_0x333946(0xf0),'value':function _0x442870(_0x55ecb1){var _0x598b70=_0x333946;this[_0x598b70(0xbb)]=this[_0x598b70(0xbb)]||[],this[_0x598b70(0xbb)][_0x598b70(0xd5)](_0x55ecb1),this['_updatePositionsHook']();}},{'key':'clear','value':function _0x354633(){var _0x5dcc0a=_0x333946;this[_0x5dcc0a(0xf8)]&&(this[_0x5dcc0a(0x81)][_0x5dcc0a(0xab)](this[_0x5dcc0a(0xf8)],!![]),delete this[_0x5dcc0a(0xf8)]);}},{'key':_0x333946(0x77),'value':function _0x52245e(){var _0x1d2035=_0x333946;if(!this[_0x1d2035(0xec)]||!this[_0x1d2035(0xc9)]||!this[_0x1d2035(0xe4)]||this[_0x1d2035(0xe4)][_0x1d2035(0xb1)]===0x0)return this;var _0x224c5f=this[_0x1d2035(0xaf)]();return this[_0x1d2035(0xfa)][_0x1d2035(0xc5)]?this['_createArcGraphic'](_0x224c5f):this['_createGraphic'](_0x224c5f),this;}},{'key':'_getHeatCanvasImg','value':function _0x131465(){var _0x307012=_0x333946,_0x27f145,_0x2d1a3d,_0x1232ab=this[_0x307012(0xbb)],_0x3291d3=[],_0x30a953,_0x746028,_0xa44078,_0x2a6e31;_0x1232ab[_0x307012(0xbe)](function(_0x3393c3){var _0x2206e4=_0x307012,_0x27cec9=mars3d__namespace['LngLatPoint'][_0x2206e4(0xc2)](_0x3393c3);if(!_0x27cec9)return;_0x27cec9[_0x2206e4(0xe2)]=_0x3393c3[_0x2206e4(0xe2)]||0x1,_0x30a953===undefined?(_0x30a953=_0x27cec9['lng'],_0x746028=_0x27cec9[_0x2206e4(0xad)],_0xa44078=_0x27cec9[_0x2206e4(0x103)],_0x2a6e31=_0x27cec9[_0x2206e4(0x103)]):(_0x30a953=Math['min'](_0x30a953,_0x27cec9['lng']),_0x746028=Math[_0x2206e4(0xd8)](_0x746028,_0x27cec9[_0x2206e4(0xad)]),_0xa44078=Math[_0x2206e4(0x9f)](_0xa44078,_0x27cec9['lat']),_0x2a6e31=Math[_0x2206e4(0xd8)](_0x2a6e31,_0x27cec9[_0x2206e4(0x103)])),_0x3291d3[_0x2206e4(0xd5)](_0x27cec9);});var _0x381682=this[_0x307012(0x107)][_0x307012(0xc3)]*1.5,_0x291328={'xmin':_0x30a953,'xmax':_0x746028,'ymin':_0xa44078,'ymax':_0x2a6e31},_0x38dce2=getMercatorBounds(_0x291328),_0x3a5e3d=Math['abs'](_0x38dce2[_0x307012(0x95)]-_0x38dce2[_0x307012(0x94)]),_0x5f2dca=Math[_0x307012(0x97)](_0x38dce2[_0x307012(0xff)]-_0x38dce2[_0x307012(0xd6)]),_0x54861c=Math['max'](_0x3a5e3d,_0x5f2dca),_0x469e7c=Math[_0x307012(0x9f)](_0x3a5e3d,_0x5f2dca);this[_0x307012(0xd1)]=_0x54861c;var _0x48ed85=0x1;if(_0x54861c>this[_0x307012(0xcf)][_0x307012(0xaa)])_0x48ed85=_0x54861c/this[_0x307012(0xcf)][_0x307012(0xaa)],_0x469e7c/_0x48ed85<this[_0x307012(0xcf)][_0x307012(0xe6)]&&(_0x48ed85=_0x469e7c/this[_0x307012(0xcf)]['minCanvasSize']);else _0x469e7c<this[_0x307012(0xcf)][_0x307012(0xe6)]&&(_0x48ed85=_0x469e7c/this[_0x307012(0xcf)][_0x307012(0xe6)],_0x54861c/_0x48ed85>this['options']['maxCanvasSize']&&(_0x48ed85=_0x54861c/this[_0x307012(0xcf)][_0x307012(0xaa)]));var _0x3aa011=_0x3a5e3d/_0x48ed85+_0x381682*0x2,_0x48ce2f=_0x5f2dca/_0x48ed85+_0x381682*0x2,_0x2fc6b0=_0x381682*_0x48ed85;_0x38dce2['xmin']-=_0x2fc6b0,_0x38dce2[_0x307012(0xd6)]-=_0x2fc6b0,_0x38dce2['xmax']+=_0x2fc6b0,_0x38dce2[_0x307012(0xff)]+=_0x2fc6b0,_0x291328=geLatLngBounds(_0x38dce2),this[_0x307012(0xf6)]=Cesium['Rectangle']['fromDegrees'](_0x291328['xmin'],_0x291328[_0x307012(0xd6)],_0x291328[_0x307012(0x95)],_0x291328[_0x307012(0xff)]);var _0x59b829=(_0x27f145=_0x3291d3[0x0]['value'])!==null&&_0x27f145!==void 0x0?_0x27f145:0x1,_0x3f7b75=(_0x2d1a3d=_0x3291d3[0x0][_0x307012(0xe2)])!==null&&_0x2d1a3d!==void 0x0?_0x2d1a3d:0x0,_0x1622ae=[];_0x3291d3[_0x307012(0xbe)](function(_0x30ab60){var _0x97742b=_0x307012,_0xa5db51=mars3d__namespace[_0x97742b(0x80)]['lonlat2mercator']([_0x30ab60[_0x97742b(0xad)],_0x30ab60[_0x97742b(0x103)]]),_0x1253d3=_0x30ab60['value']||0x1,_0x2e39ea=Math[_0x97742b(0xd2)]((_0xa5db51[0x0]-_0x38dce2[_0x97742b(0x94)])/_0x48ed85),_0x3f86ad=Math['round']((_0x38dce2[_0x97742b(0xff)]-_0xa5db51[0x1])/_0x48ed85);_0x59b829=Math[_0x97742b(0xd8)](_0x59b829,_0x1253d3),_0x3f7b75=Math[_0x97742b(0x9f)](_0x3f7b75,_0x1253d3),_0x1622ae[_0x97742b(0xd5)]({'x':_0x2e39ea,'y':_0x3f86ad,'value':_0x1253d3});});var _0x35b274={'min':_0x3f7b75,'max':_0x59b829,'data':_0x1622ae};this[_0x307012(0x99)]=_0x35b274;(!this[_0x307012(0xed)]||_0x38dce2[_0x307012(0x94)]!==this[_0x307012(0xed)][_0x307012(0x94)]||_0x38dce2['ymin']!==this[_0x307012(0xed)][_0x307012(0xd6)]||_0x38dce2[_0x307012(0x95)]!==this['_last_mBounds'][_0x307012(0x95)]||_0x38dce2[_0x307012(0xff)]!==this[_0x307012(0xed)][_0x307012(0xff)])&&(this['_last_mBounds']=_0x38dce2,!this['heatStyle'][_0x307012(0x9b)]&&(this[_0x307012(0x107)][_0x307012(0x9b)]=mars3d__namespace['DomUtil'][_0x307012(0xde)](_0x307012(0x79),_0x307012(0x83),this[_0x307012(0xc9)][_0x307012(0x9b)])),this[_0x307012(0x107)][_0x307012(0x9b)][_0x307012(0xfa)][_0x307012(0x7d)]=_0x307012(0xdd)['concat'](_0x3aa011,'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:')[_0x307012(0xe7)](_0x48ce2f,_0x307012(0xbf)),!this[_0x307012(0x93)]?this['_heat']=h337__namespace[_0x307012(0xde)](this[_0x307012(0x107)]):this[_0x307012(0x93)]['configure'](this['heatStyle']));this[_0x307012(0x93)][_0x307012(0xe8)](_0x35b274);var _0x5cc74f=this['_heat'][_0x307012(0x104)][_0x307012(0xa1)][_0x307012(0xeb)](_0x307012(0xb0));return this['heatStyle'][_0x307012(0x9b)]&&(this['_map']['container'][_0x307012(0x89)](this[_0x307012(0x107)][_0x307012(0x9b)]),delete this[_0x307012(0x107)][_0x307012(0x9b)]),_0x5cc74f;}},{'key':_0x333946(0xb9),'value':function _0x2c9654(_0x10bd28){var _0x1d10aa=_0x333946;this[_0x1d10aa(0xfe)](),this[_0x1d10aa(0xf8)]=new mars3d__namespace[(_0x1d10aa(0xcb))][(_0x1d10aa(0xef))](_objectSpread2(_objectSpread2({},this[_0x1d10aa(0xcf)]),{},{'rectangle':this[_0x1d10aa(0xf6)],'appearance':new Cesium[(_0x1d10aa(0xcd))]({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x10bd28},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer'][_0x1d10aa(0x85)](this[_0x1d10aa(0xf8)]);}},{'key':'_createArcGraphic','value':function _0x3ba1a0(_0x2415a3){var _0x4e2c5d=_0x333946;this['clear'](),this[_0x4e2c5d(0x93)][_0x4e2c5d(0xae)](_objectSpread2(_objectSpread2({},this[_0x4e2c5d(0x107)]),{},{'radius':this[_0x4e2c5d(0x107)][_0x4e2c5d(0xc3)]*this[_0x4e2c5d(0xfa)][_0x4e2c5d(0x108)],'blur':this[_0x4e2c5d(0x107)]['blur']*this[_0x4e2c5d(0xfa)]['arcBlurScale'],'gradient':this[_0x4e2c5d(0x107)][_0x4e2c5d(0xd7)]||{0.25:'rgb(0,0,0)',0.55:'rgb(140,140,140)',0.85:_0x4e2c5d(0x7e),0x1:_0x4e2c5d(0xfd)}}));var _0x505638=this[_0x4e2c5d(0x93)][_0x4e2c5d(0x104)]['canvas'][_0x4e2c5d(0xeb)](_0x4e2c5d(0xb0)),_0x37fe85=Cesium['RenderState']['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x4e2c5d(0xf4)],'frontOperation':{'fail':Cesium[_0x4e2c5d(0xa2)][_0x4e2c5d(0xd0)],'zFail':Cesium[_0x4e2c5d(0xa2)][_0x4e2c5d(0xd0)],'zPass':Cesium['StencilOperation'][_0x4e2c5d(0xd4)]},'backFunction':Cesium['StencilFunction']['ALWAYS'],'backOperation':{'fail':Cesium[_0x4e2c5d(0xa2)][_0x4e2c5d(0xd0)],'zFail':Cesium['StencilOperation'][_0x4e2c5d(0xd0)],'zPass':Cesium['StencilOperation'][_0x4e2c5d(0xd4)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x4e2c5d(0xd9)]['ALPHA_BLEND']}),_0x3a6447=Math['floor'](Cesium[_0x4e2c5d(0xb5)](this['style'][_0x4e2c5d(0xb4)],this['_mBoundsMax']*0.02))+0.1;this[_0x4e2c5d(0xfa)][_0x4e2c5d(0xb4)]&&delete this['style'][_0x4e2c5d(0xb4)];var _0x1b0ff9=Cesium[_0x4e2c5d(0xb5)](this['style'][_0x4e2c5d(0xa0)],0x64),_0x516b49=Math[_0x4e2c5d(0xd8)](this['_rectangle'][_0x4e2c5d(0xa9)],this['_rectangle'][_0x4e2c5d(0xb3)]);this[_0x4e2c5d(0xfa)]['granularity']=_0x516b49/=_0x1b0ff9,this[_0x4e2c5d(0xf8)]=new mars3d__namespace['graphic']['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x4e2c5d(0xcf)]),{},{'rectangle':this[_0x4e2c5d(0xf6)],'appearance':new Cesium[(_0x4e2c5d(0xcd))]({'aboveGround':!![],'renderState':_0x37fe85,'material':new Cesium[(_0x4e2c5d(0xe5))]({'fabric':{'uniforms':{'image':_0x2415a3,'repeat':new Cesium[(_0x4e2c5d(0xce))](0x1,0x1),'color':new Cesium[(_0x4e2c5d(0x92))](0x1,0x1,0x1,0.01),'bumpMap':_0x505638},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x4e2c5d(0x100)[_0x4e2c5d(0xe7)](_0x3a6447,_0x4e2c5d(0xa3)),'flat':!![]})})),this[_0x4e2c5d(0x81)]['addGraphic'](this[_0x4e2c5d(0xf8)]);}},{'key':'getRectangle','value':function _0x4199e8(_0x3f5c84){var _0x47d347=_0x333946;return _0x3f5c84!==null&&_0x3f5c84!==void 0x0&&_0x3f5c84[_0x47d347(0xf9)]&&this['_rectangle']?mars3d__namespace[_0x47d347(0x9d)][_0x47d347(0xa5)](this['_rectangle']):this[_0x47d347(0xf6)];}}]),_0x4d901b;}(BaseLayer);mars3d__namespace[_0x1a1984(0x109)][_0x1a1984(0xf7)]=HeatLayer,mars3d__namespace[_0x1a1984(0xfc)][_0x1a1984(0xf2)](_0x1a1984(0xc8),HeatLayer);function _0x1980(){var _0xfd50c9=['zgvMyxvSDfzHBhvL','BwvYy2f0B3iYBg9UBgf0','zgvMAw5LuhjVCgvYDgLLCW','y29UC3rYDwn0','x2nYzwf0zuDYyxbOAwm','mZyZnZm2s2HODefA','x3bVC2L0Aw9UCW','y2XPzw50v2LKDgG','C2v0uhjVDg90ExbLt2y','zM9YrwfJAa','ChG7','y2fSBa','ntq0nZGYmtvctgnJELi','CgfYC2u','CMfKAxvZ','x21HCNmZzf9WCML2yxrL','yxjJ','y29VCMrPBMf0zxm','zw51BwvYywjSzq','AgvHDa','x21HCa','y29UC3rYDwn0B3i','z3jHCgHPyW','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','q2fYDgvZAwfUmG','B3b0Aw9UCW','s0vfua','x21cB3vUzhnnyxG','CM91BMq','B2jQzwn0','uKvqtefdrq','ChvZAa','Ew1PBG','z3jHzgLLBNrbCMm','Bwf4','qMXLBMrPBMDtDgf0zq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','Bg9UBgf0mM1LCMnHDg9Y','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','y3jLyxrL','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','BwvYz2u','vxrPBa','DMfSDwu','mtuZmdKWnJbHs0nJDwu','Cg9ZAxrPB25Z','twf0zxjPywW','BwLUq2fUDMfZu2L6zq','y29Uy2f0','C2v0rgf0yq','z3jLzw4','ndv1AufLwNi','Dg9eyxrHvvjm','C2HVDW','x2XHC3rFBujVDw5KCW','Dg9bCNjHEq','uMvJDgfUz2XLuhjPBwL0AxzL','ywrKug9ZAxrPB24','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','CMvNAxn0zxi','CMvTB3zLtgf5zxi','quXxqvLt','mtq3nJq2r05LtezU','x3jLy3rHBMDSzq','sgvHDeXHEwvY','x2DYyxbOAwm','AxngB3jTyxq','C3r5Bgu','x19WCM90B19F','tgf5zxjvDgLS','CMDIkdi1nsWYntuSmJu1kq','y2XLyxi','Ew1HEa','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','q2vZAxvT','x3jLBw92zwriB29R','Bgf0','x3jLBMrLCMvY','z2v0uhjVDg90ExbLt2y','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','AgvHDfn0EwXL','yxjJuMfKAxvZu2nHBgu','Bgf5zxi','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','y29UzMLNDxjHyMXL','zgL2','z2v0','y2XPzw50sgvPz2H0','Cg9PBNrZ','y3nZvgv4Da','CMDIkdiXnIWYmtySmJe2kq','Dw5KzwzPBMvK','ug9PBNruCMfUCW','x2XHEwvY','ywrKtgf5zxi','BwfYCZnKlwHLyxrTyxa','nKXSyNnnCa','ywrKr3jHCgHPyW','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','zgvMAw5LuhjVCgvYDhK','yxbWBhK','CMvTB3zLq2HPBgq','ChjVDg90ExbL','ndu3ntuYs1b1vhPQ','mZy3mgvcBujeAq','CMvK','x21VDw50zwriB29R','A2v5','x19LC01VzhvSzq','zNvUy3rPB24','q29SB3i','x2HLyxq','Eg1PBG','Eg1HEa','yMX1zq','ywjZ','zMLSDgvY','x2XHC3rFAgvHDerHDge','mJuYzezSu1fW','y29UDgfPBMvY','CMvJDgfUz2XL','ug9SEvv0AwW','vKvsvevyx0zpuK1bva','BwLU','C3bSAxroDw0','y2fUDMfZ','u3rLBMnPBe9WzxjHDgLVBG','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','r3jHCgHPy0XHEwvY','zM9YBwf0uMvJDgfUz2XL','zgvMyxvSDa','DMfSDwvpzG','x3nLDe9WDgLVBNniB29R','AgvPz2H0','Bwf4q2fUDMfZu2L6zq','CMvTB3zLr3jHCgHPyW','nJyWy3fvEvnU','Bg5N','y29UzMLNDxjL','x2DLDeHLyxrdyw52yxnjBwC','Aw1Hz2uVCg5N','BgvUz3rO','ntKXmtqWoxLHzwT0DW','D2LKDgG','zgLMzKHLAwDODa'];_0x1980=function(){return _0xfd50c9;};return _0x1980();}function getMercatorBounds(_0x574609){var _0x59b3ca=_0x1a1984,_0x6160e0=mars3d__namespace['PointTrans'][_0x59b3ca(0xdb)]([_0x574609[_0x59b3ca(0x94)],_0x574609[_0x59b3ca(0xd6)]]),_0x2a9c79=mars3d__namespace['PointTrans']['lonlat2mercator']([_0x574609[_0x59b3ca(0x95)],_0x574609[_0x59b3ca(0xff)]]);return{'xmin':_0x6160e0[0x0],'ymin':_0x6160e0[0x1],'xmax':_0x2a9c79[0x0],'ymax':_0x2a9c79[0x1]};}function geLatLngBounds(_0x3a3739){var _0x3e5545=_0x1a1984,_0x2b4804=mars3d__namespace['PointTrans'][_0x3e5545(0xb6)]([_0x3a3739[_0x3e5545(0x94)],_0x3a3739[_0x3e5545(0xd6)]]),_0x379b48=mars3d__namespace[_0x3e5545(0x80)]['mercator2lonlat']([_0x3a3739[_0x3e5545(0x95)],_0x3a3739[_0x3e5545(0xff)]]);return{'xmin':_0x2b4804[0x0],'ymin':_0x2b4804[0x1],'xmax':_0x379b48[0x0],'ymax':_0x379b48[0x1]};}exports[_0x1a1984(0xf7)]=HeatLayer,Object['defineProperty'](exports,_0x1a1984(0x90),{'value':!![]});
}));
