/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.4
 * 编译日期：2022-04-08 12:29:04
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0xf72d76=_0x2a17;(function(_0x217dbc,_0x56acf4){var _0xaf2ed=_0x2a17,_0x27af20=_0x217dbc();while(!![]){try{var _0x174851=parseInt(_0xaf2ed(0x17e))/0x1+-parseInt(_0xaf2ed(0x194))/0x2*(parseInt(_0xaf2ed(0x1ab))/0x3)+parseInt(_0xaf2ed(0x1e1))/0x4+-parseInt(_0xaf2ed(0x1ce))/0x5*(parseInt(_0xaf2ed(0x197))/0x6)+parseInt(_0xaf2ed(0x1fa))/0x7+parseInt(_0xaf2ed(0x190))/0x8+parseInt(_0xaf2ed(0x1b9))/0x9*(-parseInt(_0xaf2ed(0x1a8))/0xa);if(_0x174851===_0x56acf4)break;else _0x27af20['push'](_0x27af20['shift']());}catch(_0xd4e52c){_0x27af20['push'](_0x27af20['shift']());}}}(_0x1207,0xf0650));function _0x2a17(_0x10d9fc,_0x108ef9){var _0x1207dc=_0x1207();return _0x2a17=function(_0x2a1703,_0x2db47f){_0x2a1703=_0x2a1703-0x172;var _0x2346b7=_0x1207dc[_0x2a1703];if(_0x2a17['DRXcii']===undefined){var _0x40ba94=function(_0x1042df){var _0x1294a5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5b427d='',_0x5d1e76='';for(var _0x2ba97b=0x0,_0x132a9a,_0x10c824,_0x32b2c8=0x0;_0x10c824=_0x1042df['charAt'](_0x32b2c8++);~_0x10c824&&(_0x132a9a=_0x2ba97b%0x4?_0x132a9a*0x40+_0x10c824:_0x10c824,_0x2ba97b++%0x4)?_0x5b427d+=String['fromCharCode'](0xff&_0x132a9a>>(-0x2*_0x2ba97b&0x6)):0x0){_0x10c824=_0x1294a5['indexOf'](_0x10c824);}for(var _0x1e035c=0x0,_0xaf441c=_0x5b427d['length'];_0x1e035c<_0xaf441c;_0x1e035c++){_0x5d1e76+='%'+('00'+_0x5b427d['charCodeAt'](_0x1e035c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5d1e76);};_0x2a17['iLAJzA']=_0x40ba94,_0x10d9fc=arguments,_0x2a17['DRXcii']=!![];}var _0x456a9d=_0x1207dc[0x0],_0x31c23f=_0x2a1703+_0x456a9d,_0x291027=_0x10d9fc[_0x31c23f];return!_0x291027?(_0x2346b7=_0x2a17['iLAJzA'](_0x2346b7),_0x10d9fc[_0x31c23f]=_0x2346b7):_0x2346b7=_0x291027,_0x2346b7;},_0x2a17(_0x10d9fc,_0x108ef9);}function _0x1207(){var _0x51f586=['nZu2nZK3mNf1wML5rq','x2DYyxbOAwm','zM9YrwfJAa','AgvHDa','CMvTB3zLq2HPBgq','CMDIkde0mcWXndaSmtqWkq','qMfZzuXHEwvY','zMLSDgvY','Dw5KzwzPBMvK','x19WCM90B19F','y29UC3rYDwn0','A2v5','EwvSBg93','BwfYCZnKlwHLyxrTyxa','zMX5vg8','Dg9bCNjHEq','x21HCNmZzf9WCML2yxrL','z3jHzgLLBNrbCMm','y3jLyxrL','zNjVBurLz3jLzxm','zNvUy3rPB24','z3jLzw4','z3jHCgHPyW','DMfSDwu','uKvqtefdrq','odG5nJK1oe1fEu9XBW','yxjJ','zgL2','y2XPzw50sgvPz2H0','yxjJuMfKAxvZu2nHBgu','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','zgLMzKHLAwDODa','Bg5N','BgvUz3rO','Eg1PBG','A2v5CW','y29UDgfPBMvY','C2HVDW','ywjZ','z2v0','CMvNAxn0zxi','y2XLyxi','Aw1Hz2uVCg5N','C2v0uhjVDg90ExbLt2y','y29VCMrPBMf0zxm','yxbWBhK','Eg1HEa','nti2mJe3zNfOCfHn','ChvZAa','CMvTB3zLtgf5zxi','x2DLDeHLyxrdyw52yxnjBwC','Bg9UBgf0mM1LCMnHDg9Y','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','rg9TvxrPBa','B3b0Aw9UCW','twf0zxjPywW','BwLU','x21HCa','Ew1HEa','x3jLBMrLCMvY','yxjJqMX1CLnJywXL','CgfYC2u','u3rLBMnPBez1BMn0Aw9U','yMX1CG','y29UC3rYDwn0B3i','mJuYnZq4mgvUy3vRsa','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','Ew1PBG','tgf5zxjvDgLS','mZy2nZa1nhrhqLHtBG','Dg9eyxrHvvjm','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','mJC3nZa0nKTWD0HTvq','u3rLBMnPBe9WzxjHDgLVBG','y29Uy2f0','x2nYzwf0zufYy0DYyxbOAwm','ywrKtgf5zxi','B2jQzwn0','q2vZAxvT','ChjVDg90ExbL','y3nZvgv4Da','s0vfua','x2nYzwf0zuDYyxbOAwm','x21cB3vUzhnnyxG','ywrKr3jHCgHPyW','q2fYDgvZAwfUmG','x3jLBw92zwriB29R','AgvHDfn0EwXL','zgvMAw5LuhjVCgvYDgLLCW','nJa4ntbrywTQwvy','C3r5Bgu','x3nLDe9WDgLVBNniB29R','m2vZCxPQsa','z2v0uhjVDg90ExbLt2y','BwvYz2u','BwLUq2fUDMfZu2L6zq','sgvHDeXHEwvY','y29UzMLNDxjHyMXL','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','C2HHBq','y29UzMLNDxjL','ChG7','CMDIkdi1nsWYntuSmJu1kq','CM91BMq','q29SB3i','ug9PBNruCMfUCW','mta3mvH1uwnIrG','Bgf5zxi','yM9KEq','quXxqvLt','zgvMAw5LuhjVCgvYDhK','uMvUzgvYu3rHDgu','x2XHEwvY','CMvJDgfUz2XL','x2fKzgvKsg9VAW','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','x21VDw50zwriB29R','x2XHC3rFBujVDw5KCW','zgvMyxvSDfzHBhvL','zMXVB3i','uMvJDgfUz2XLuhjPBwL0AxzL','Bwf4','vKvsvevyx0zpuK1bva','BwvYy2f0B3iYBg9UBgf0','quXqsefFqKXftKq','CMDIkdiXnIWYmtySmJe2kq','y2fSBa','nw5WB3zMuq','ywrKug9ZAxrPB24','zgvMyxvSDa','Bwf4q2fUDMfZu2L6zq','D3jPDgfIBgu','x2HLyxq','zMX5vg9cEufUAw1HDgLVBKvUza','x3jLy3rHBMDSzq','z2v0uMvJDgfUz2XL','CMfKAxvZ','yMX1zq','Cg9ZAxrPB25Z','DMfSDwvpzG','Cg9PBNrZ','vxrPBa','x3bVC2L0Aw9UCW','AgvPz2H0','CMvK','Bgf0'];_0x1207=function(){return _0x51f586;};return _0x1207();}function _interopNamespace(_0x1042df){var _0x5dd9b8=_0x2a17;if(_0x1042df&&_0x1042df['__esModule'])return _0x1042df;var _0x1294a5=Object[_0x5dd9b8(0x1f3)](null);return _0x1042df&&Object[_0x5dd9b8(0x172)](_0x1042df)[_0x5dd9b8(0x1e3)](function(_0x5b427d){var _0x3d60de=_0x5dd9b8;if(_0x5b427d!==_0x3d60de(0x1d0)){var _0x5d1e76=Object[_0x3d60de(0x200)](_0x1042df,_0x5b427d);Object[_0x3d60de(0x1bd)](_0x1294a5,_0x5b427d,_0x5d1e76[_0x3d60de(0x176)]?_0x5d1e76:{'enumerable':!![],'get':function(){return _0x1042df[_0x5b427d];}});}}),_0x1294a5[_0x5dd9b8(0x1d0)]=_0x1042df,_0x1294a5;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x2ba97b,_0x132a9a){var _0x1df846=_0x2a17,_0x10c824=Object['keys'](_0x2ba97b);if(Object['getOwnPropertySymbols']){var _0x32b2c8=Object['getOwnPropertySymbols'](_0x2ba97b);_0x132a9a&&(_0x32b2c8=_0x32b2c8[_0x1df846(0x1e8)](function(_0x1e035c){var _0x28f4f0=_0x1df846;return Object[_0x28f4f0(0x200)](_0x2ba97b,_0x1e035c)['enumerable'];})),_0x10c824[_0x1df846(0x17f)]['apply'](_0x10c824,_0x32b2c8);}return _0x10c824;}function _objectSpread2(_0xaf441c){var _0x2e41b7=_0x2a17;for(var _0x5208e6=0x1;_0x5208e6<arguments[_0x2e41b7(0x203)];_0x5208e6++){var _0x3ce22d=null!=arguments[_0x5208e6]?arguments[_0x5208e6]:{};_0x5208e6%0x2?ownKeys(Object(_0x3ce22d),!0x0)[_0x2e41b7(0x1e3)](function(_0xfb47fa){_defineProperty(_0xaf441c,_0xfb47fa,_0x3ce22d[_0xfb47fa]);}):Object['getOwnPropertyDescriptors']?Object[_0x2e41b7(0x1a7)](_0xaf441c,Object['getOwnPropertyDescriptors'](_0x3ce22d)):ownKeys(Object(_0x3ce22d))[_0x2e41b7(0x1e3)](function(_0x51faa8){var _0x5597e1=_0x2e41b7;Object['defineProperty'](_0xaf441c,_0x51faa8,Object[_0x5597e1(0x200)](_0x3ce22d,_0x51faa8));});}return _0xaf441c;}function _classCallCheck(_0x1c06e1,_0x2f99fe){if(!(_0x1c06e1 instanceof _0x2f99fe))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x3051f3,_0x13e8fb){var _0x3cabf8=_0x2a17;for(var _0x11ec4d=0x0;_0x11ec4d<_0x13e8fb[_0x3cabf8(0x203)];_0x11ec4d++){var _0x5581cc=_0x13e8fb[_0x11ec4d];_0x5581cc['enumerable']=_0x5581cc['enumerable']||![],_0x5581cc[_0x3cabf8(0x1b0)]=!![];if(_0x3cabf8(0x1f8)in _0x5581cc)_0x5581cc[_0x3cabf8(0x1d2)]=!![];Object['defineProperty'](_0x3051f3,_0x5581cc[_0x3cabf8(0x1ec)],_0x5581cc);}}function _createClass(_0x3ee573,_0x357981,_0x5a1d1a){var _0x3d0050=_0x2a17;if(_0x357981)_defineProperties(_0x3ee573[_0x3d0050(0x19e)],_0x357981);if(_0x5a1d1a)_defineProperties(_0x3ee573,_0x5a1d1a);return Object['defineProperty'](_0x3ee573,_0x3d0050(0x19e),{'writable':![]}),_0x3ee573;}function _defineProperty(_0x2304b8,_0x2f12b2,_0x55e6c0){var _0x92d595=_0x2a17;return _0x2f12b2 in _0x2304b8?Object[_0x92d595(0x1bd)](_0x2304b8,_0x2f12b2,{'value':_0x55e6c0,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x2304b8[_0x2f12b2]=_0x55e6c0,_0x2304b8;}function _inherits(_0x920bd5,_0x4e4fcb){var _0xd70387=_0x2a17;if(typeof _0x4e4fcb!==_0xd70387(0x1f5)&&_0x4e4fcb!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x920bd5[_0xd70387(0x19e)]=Object[_0xd70387(0x1f3)](_0x4e4fcb&&_0x4e4fcb[_0xd70387(0x19e)],{'constructor':{'value':_0x920bd5,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x920bd5,_0xd70387(0x19e),{'writable':![]});if(_0x4e4fcb)_setPrototypeOf(_0x920bd5,_0x4e4fcb);}function _getPrototypeOf(_0x5afaee){var _0x429502=_0x2a17;return _getPrototypeOf=Object[_0x429502(0x17a)]?Object[_0x429502(0x1ac)]:function _0x26e3a5(_0x42f375){var _0x43b888=_0x429502;return _0x42f375[_0x43b888(0x1ea)]||Object[_0x43b888(0x1ac)](_0x42f375);},_getPrototypeOf(_0x5afaee);}function _setPrototypeOf(_0x41fbad,_0xced7e5){var _0x16fcd=_0x2a17;return _setPrototypeOf=Object[_0x16fcd(0x17a)]||function _0x89a192(_0x163f14,_0x246a37){return _0x163f14['__proto__']=_0x246a37,_0x163f14;},_setPrototypeOf(_0x41fbad,_0xced7e5);}function _isNativeReflectConstruct(){var _0x38d852=_0x2a17;if(typeof Reflect===_0x38d852(0x1e9)||!Reflect[_0x38d852(0x1eb)])return![];if(Reflect[_0x38d852(0x1eb)][_0x38d852(0x1b2)])return![];if(typeof Proxy==='function')return!![];try{return Boolean[_0x38d852(0x19e)][_0x38d852(0x1da)][_0x38d852(0x1cd)](Reflect[_0x38d852(0x1eb)](Boolean,[],function(){})),!![];}catch(_0x57e933){return![];}}function _assertThisInitialized(_0x44f47d){var _0x2d8bcb=_0x2a17;if(_0x44f47d===void 0x0)throw new ReferenceError(_0x2d8bcb(0x1ff));return _0x44f47d;}function _possibleConstructorReturn(_0x141ae8,_0xbc6e11){var _0x957100=_0x2a17;if(_0xbc6e11&&(typeof _0xbc6e11===_0x957100(0x19c)||typeof _0xbc6e11===_0x957100(0x1f5)))return _0xbc6e11;else{if(_0xbc6e11!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x141ae8);}function _createSuper(_0xc5685a){var _0x11fb76=_isNativeReflectConstruct();return function _0x50d581(){var _0x5d11fc=_0x2a17,_0x4e0e44=_getPrototypeOf(_0xc5685a),_0x4c4efd;if(_0x11fb76){var _0x56294e=_getPrototypeOf(this)[_0x5d11fc(0x18f)];_0x4c4efd=Reflect[_0x5d11fc(0x1eb)](_0x4e0e44,arguments,_0x56294e);}else _0x4c4efd=_0x4e0e44[_0x5d11fc(0x17c)](this,arguments);return _possibleConstructorReturn(this,_0x4c4efd);};}var HeatMaterial=_0xf72d76(0x196),Cesium=mars3d__namespace[_0xf72d76(0x19d)],BaseLayer=mars3d__namespace['layer'][_0xf72d76(0x1e7)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0xf72d76(0x1d8),0.6:_0xf72d76(0x1f6),0.8:_0xf72d76(0x1ed),0.9:_0xf72d76(0x1df)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0xf72d76(0x183)][_0xf72d76(0x1c9)]},HeatLayer=function(_0x4a6eec){var _0x23f8ef=_0xf72d76;_inherits(_0x8e7ac7,_0x4a6eec);var _0x2a74b2=_createSuper(_0x8e7ac7);function _0x8e7ac7(){var _0x3ab180=_0x2a17,_0x3d3dad,_0x21c501=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x8e7ac7),_0x3d3dad=_0x2a74b2[_0x3ab180(0x1cd)](this,_0x21c501),_0x3d3dad[_0x3ab180(0x185)]['maxCanvasSize']=Cesium['defaultValue'](_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1d1)],document[_0x3ab180(0x1bb)]['clientWidth']),_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1d1)]=Math['min'](_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1d1)],0x1388),_0x3d3dad['options'][_0x3ab180(0x1ae)]=Cesium[_0x3ab180(0x1c5)](_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1ae)],document[_0x3ab180(0x1bb)][_0x3ab180(0x1fd)]),_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1ae)]=Math[_0x3ab180(0x1c8)](_0x3d3dad[_0x3ab180(0x185)]['minCanvasSize'],0x2bc),_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1a6)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x3d3dad[_0x3ab180(0x185)][_0x3ab180(0x1a6)]||{}),_0x3d3dad['options'][_0x3ab180(0x1a9)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x3d3dad[_0x3ab180(0x185)]['style']||{}),_0x3d3dad;}return _createClass(_0x8e7ac7,[{'key':_0x23f8ef(0x1ba),'get':function _0x597e65(){var _0x11bc8f=_0x23f8ef;return this[_0x11bc8f(0x1bf)];}},{'key':_0x23f8ef(0x1a6),'get':function _0x3edbb0(){var _0x49d6c9=_0x23f8ef;return this[_0x49d6c9(0x185)][_0x49d6c9(0x1a6)];},'set':function _0x464b50(_0x59537d){var _0x4d82d8=_0x23f8ef;this[_0x4d82d8(0x185)][_0x4d82d8(0x1a6)]=mars3d__namespace[_0x4d82d8(0x1dc)][_0x4d82d8(0x1ad)](this[_0x4d82d8(0x185)][_0x4d82d8(0x1a6)],_0x59537d),this[_0x4d82d8(0x1d3)]&&this[_0x4d82d8(0x1d3)][_0x4d82d8(0x1b3)](this[_0x4d82d8(0x185)][_0x4d82d8(0x1a6)]);}},{'key':_0x23f8ef(0x1a9),'get':function _0x2454a5(){var _0x3de135=_0x23f8ef;return this['options'][_0x3de135(0x1a9)];},'set':function _0x41444e(_0x1fcfe0){var _0x394bda=_0x23f8ef;this[_0x394bda(0x185)][_0x394bda(0x1a9)]=mars3d__namespace[_0x394bda(0x1dc)][_0x394bda(0x1ad)](this[_0x394bda(0x185)][_0x394bda(0x1a9)],_0x1fcfe0);}},{'key':_0x23f8ef(0x1d9),'get':function _0x14daba(){var _0x1ba6af=_0x23f8ef;return this[_0x1ba6af(0x1dd)];},'set':function _0x5a53fa(_0xeb7d0){this['_positions']=_0xeb7d0,this['_updatePositionsHook']();}},{'key':_0x23f8ef(0x17b),'get':function _0x43eb69(){var _0x352801=_0x23f8ef,_0x23ee4f=[];return this[_0x352801(0x1db)][_0x352801(0x1e3)](function(_0x141778){var _0x48aad=_0x352801;_0x23ee4f[_0x48aad(0x17f)](_0x141778[_0x48aad(0x1f0)]());}),_0x23ee4f;}},{'key':_0x23f8ef(0x1c0),'get':function _0x540967(){var _0x456428=_0x23f8ef;return this[_0x456428(0x1d5)];}},{'key':_0x23f8ef(0x1aa),'value':function _0x4c67e6(_0x5552e0){var _0x5bd8e0=_0x23f8ef;_0x5552e0[_0x5bd8e0(0x1d9)]&&(this[_0x5bd8e0(0x1d9)]=_0x5552e0[_0x5bd8e0(0x1d9)]);}},{'key':_0x23f8ef(0x1c3),'value':function _0xa0362a(){var _0x275a91=_0x23f8ef;this['_layer']=new mars3d__namespace['layer']['GraphicLayer']({'noLayerManage':!![]}),this[_0x275a91(0x1bf)][_0x275a91(0x1f1)]=!![];}},{'key':_0x23f8ef(0x1c1),'value':function _0x3d88fc(){var _0x20f957=_0x23f8ef;this[_0x20f957(0x188)][_0x20f957(0x19b)](this[_0x20f957(0x1bf)]),this['options'][_0x20f957(0x1d9)]&&(this[_0x20f957(0x1d9)]=this[_0x20f957(0x185)]['positions']),this['options'][_0x20f957(0x1ef)]&&this[_0x20f957(0x1d4)]();}},{'key':_0x23f8ef(0x1a5),'value':function _0x3bdcea(){var _0x475cee=_0x23f8ef;this['heatStyle'][_0x475cee(0x173)]&&(this[_0x475cee(0x188)][_0x475cee(0x173)]['removeChild'](this[_0x475cee(0x1a6)]['container']),delete this['heatStyle']['container']),this[_0x475cee(0x178)](),this[_0x475cee(0x188)][_0x475cee(0x180)](this['_layer']);}},{'key':_0x23f8ef(0x1cf),'value':function _0x4da581(_0x4e9b37){var _0x293ed0=_0x23f8ef;this['_positions']=this[_0x293ed0(0x1dd)]||[],this['_positions'][_0x293ed0(0x17f)](_0x4e9b37),this['_updatePositionsHook']();}},{'key':'clear','value':function _0x58cd0e(){var _0x1853d1=_0x23f8ef;this['_graphic']&&(this[_0x1853d1(0x1bf)]['removeGraphic'](this[_0x1853d1(0x1e2)],!![]),delete this[_0x1853d1(0x1e2)]);}},{'key':_0x23f8ef(0x191),'value':function _0x76f236(){var _0x1ed5ba=_0x23f8ef;if(!this[_0x1ed5ba(0x174)]||!this[_0x1ed5ba(0x188)]||!this[_0x1ed5ba(0x1d9)]||this[_0x1ed5ba(0x1d9)][_0x1ed5ba(0x203)]===0x0)return this;var _0x906d99=this[_0x1ed5ba(0x181)]();return this[_0x1ed5ba(0x1a9)][_0x1ed5ba(0x1fb)]?this['_createArcGraphic'](_0x906d99):this[_0x1ed5ba(0x1a1)](_0x906d99),this;}},{'key':_0x23f8ef(0x181),'value':function _0x5d0d48(){var _0x3a599f=_0x23f8ef,_0x107373,_0x52d95d,_0xa7c8f5=this[_0x3a599f(0x1dd)],_0x200511=[],_0x1162f8,_0x3ea8f0,_0x97e314,_0x35540c;_0xa7c8f5[_0x3a599f(0x1e3)](function(_0x316a24){var _0x1cd515=_0x3a599f,_0x477eb9=mars3d__namespace['LngLatPoint'][_0x1cd515(0x18c)](_0x316a24);if(!_0x477eb9)return;_0x477eb9['value']=_0x316a24['value']||0x1,_0x1162f8===undefined?(_0x1162f8=_0x477eb9['lng'],_0x3ea8f0=_0x477eb9[_0x1cd515(0x202)],_0x97e314=_0x477eb9['lat'],_0x35540c=_0x477eb9[_0x1cd515(0x1e0)]):(_0x1162f8=Math['min'](_0x1162f8,_0x477eb9[_0x1cd515(0x202)]),_0x3ea8f0=Math['max'](_0x3ea8f0,_0x477eb9['lng']),_0x97e314=Math[_0x1cd515(0x187)](_0x97e314,_0x477eb9[_0x1cd515(0x1e0)]),_0x35540c=Math[_0x1cd515(0x1c8)](_0x35540c,_0x477eb9[_0x1cd515(0x1e0)])),_0x200511[_0x1cd515(0x17f)](_0x477eb9);});var _0x1e9e03=this['heatStyle'][_0x3a599f(0x1d7)]*1.5,_0x3f8489={'xmin':_0x1162f8,'xmax':_0x3ea8f0,'ymin':_0x97e314,'ymax':_0x35540c},_0x113342=getMercatorBounds(_0x3f8489),_0x6348d3=Math[_0x3a599f(0x175)](_0x113342[_0x3a599f(0x17d)]-_0x113342['xmin']),_0x229732=Math[_0x3a599f(0x175)](_0x113342[_0x3a599f(0x189)]-_0x113342['ymin']),_0xa4ab7d=Math[_0x3a599f(0x1c8)](_0x6348d3,_0x229732),_0x2458e6=Math[_0x3a599f(0x187)](_0x6348d3,_0x229732);this[_0x3a599f(0x1a2)]=_0xa4ab7d;var _0x24b8b3=0x1;if(_0xa4ab7d>this[_0x3a599f(0x185)][_0x3a599f(0x1d1)])_0x24b8b3=_0xa4ab7d/this[_0x3a599f(0x185)][_0x3a599f(0x1d1)],_0x2458e6/_0x24b8b3<this[_0x3a599f(0x185)][_0x3a599f(0x1ae)]&&(_0x24b8b3=_0x2458e6/this['options'][_0x3a599f(0x1ae)]);else _0x2458e6<this['options'][_0x3a599f(0x1ae)]&&(_0x24b8b3=_0x2458e6/this['options'][_0x3a599f(0x1ae)],_0xa4ab7d/_0x24b8b3>this[_0x3a599f(0x185)][_0x3a599f(0x1d1)]&&(_0x24b8b3=_0xa4ab7d/this[_0x3a599f(0x185)][_0x3a599f(0x1d1)]));var _0x12490c=_0x6348d3/_0x24b8b3+_0x1e9e03*0x2,_0xb45768=_0x229732/_0x24b8b3+_0x1e9e03*0x2,_0xd68ea5=_0x1e9e03*_0x24b8b3;_0x113342['xmin']-=_0xd68ea5,_0x113342['ymin']-=_0xd68ea5,_0x113342[_0x3a599f(0x17d)]+=_0xd68ea5,_0x113342[_0x3a599f(0x189)]+=_0xd68ea5,_0x3f8489=geLatLngBounds(_0x113342),this[_0x3a599f(0x1d5)]=Cesium['Rectangle'][_0x3a599f(0x1f4)](_0x3f8489[_0x3a599f(0x204)],_0x3f8489['ymin'],_0x3f8489['xmax'],_0x3f8489[_0x3a599f(0x189)]);var _0x2084cf=(_0x107373=_0x200511[0x0][_0x3a599f(0x1f8)])!==null&&_0x107373!==void 0x0?_0x107373:0x1,_0xf5429c=(_0x52d95d=_0x200511[0x0][_0x3a599f(0x1f8)])!==null&&_0x52d95d!==void 0x0?_0x52d95d:0x0,_0x2cbe2f=[];_0x200511[_0x3a599f(0x1e3)](function(_0x243a22){var _0x1e4edd=_0x3a599f,_0x1885d5=mars3d__namespace[_0x1e4edd(0x1b8)][_0x1e4edd(0x182)]([_0x243a22[_0x1e4edd(0x202)],_0x243a22[_0x1e4edd(0x1e0)]]),_0x3eb960=_0x243a22[_0x1e4edd(0x1f8)]||0x1,_0x2df274=Math[_0x1e4edd(0x1b6)]((_0x1885d5[0x0]-_0x113342[_0x1e4edd(0x204)])/_0x24b8b3),_0x1e743f=Math['round']((_0x113342[_0x1e4edd(0x189)]-_0x1885d5[0x1])/_0x24b8b3);_0x2084cf=Math[_0x1e4edd(0x1c8)](_0x2084cf,_0x3eb960),_0xf5429c=Math[_0x1e4edd(0x187)](_0xf5429c,_0x3eb960),_0x2cbe2f['push']({'x':_0x2df274,'y':_0x1e743f,'value':_0x3eb960});});var _0x3f7810={'min':_0xf5429c,'max':_0x2084cf,'data':_0x2cbe2f};this['_last_heatData']=_0x3f7810;(!this['_last_mBounds']||_0x113342['xmin']!==this[_0x3a599f(0x1c4)][_0x3a599f(0x204)]||_0x113342[_0x3a599f(0x192)]!==this[_0x3a599f(0x1c4)][_0x3a599f(0x192)]||_0x113342[_0x3a599f(0x17d)]!==this[_0x3a599f(0x1c4)][_0x3a599f(0x17d)]||_0x113342[_0x3a599f(0x189)]!==this[_0x3a599f(0x1c4)][_0x3a599f(0x189)])&&(this['_last_mBounds']=_0x113342,!this[_0x3a599f(0x1a6)]['container']&&(this[_0x3a599f(0x1a6)][_0x3a599f(0x173)]=mars3d__namespace[_0x3a599f(0x184)]['create'](_0x3a599f(0x1fc),_0x3a599f(0x1ee),this[_0x3a599f(0x188)][_0x3a599f(0x173)])),this[_0x3a599f(0x1a6)][_0x3a599f(0x173)][_0x3a599f(0x1a9)][_0x3a599f(0x19f)]=_0x3a599f(0x1b1)[_0x3a599f(0x199)](_0x12490c,'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:')['concat'](_0xb45768,_0x3a599f(0x1b4)),!this[_0x3a599f(0x1d3)]?this[_0x3a599f(0x1d3)]=h337__namespace[_0x3a599f(0x1f3)](this['heatStyle']):this[_0x3a599f(0x1d3)][_0x3a599f(0x1b3)](this[_0x3a599f(0x1a6)]));this[_0x3a599f(0x1d3)]['setData'](_0x3f7810);var _0x53e459=this['_heat'][_0x3a599f(0x18a)]['canvas'][_0x3a599f(0x195)](_0x3a599f(0x179));return this[_0x3a599f(0x1a6)][_0x3a599f(0x173)]&&(this[_0x3a599f(0x188)][_0x3a599f(0x173)][_0x3a599f(0x1e5)](this[_0x3a599f(0x1a6)][_0x3a599f(0x173)]),delete this[_0x3a599f(0x1a6)][_0x3a599f(0x173)]),_0x53e459;}},{'key':_0x23f8ef(0x1a1),'value':function _0x231d32(_0x1f1e2a){var _0x2fb86e=_0x23f8ef;this[_0x2fb86e(0x178)](),this[_0x2fb86e(0x1e2)]=new mars3d__namespace[(_0x2fb86e(0x1f7))][(_0x2fb86e(0x1c7))](_objectSpread2(_objectSpread2({},this[_0x2fb86e(0x185)]),{},{'rectangle':this[_0x2fb86e(0x1d5)],'appearance':new Cesium[(_0x2fb86e(0x183))]({'material':new Cesium[(_0x2fb86e(0x186))]({'fabric':{'uniforms':{'image':_0x1f1e2a},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x2fb86e(0x1bf)][_0x2fb86e(0x1a3)](this['_graphic']);}},{'key':_0x23f8ef(0x19a),'value':function _0x4a0f67(_0x355d10){var _0x43bfce=_0x23f8ef;this[_0x43bfce(0x178)](),this['_heat'][_0x43bfce(0x1b3)](_objectSpread2(_objectSpread2({},this[_0x43bfce(0x1a6)]),{},{'radius':this['heatStyle'][_0x43bfce(0x1d7)]*this['style'][_0x43bfce(0x1fe)],'blur':this[_0x43bfce(0x1a6)][_0x43bfce(0x18e)]*this[_0x43bfce(0x1a9)][_0x43bfce(0x18b)],'gradient':this['heatStyle'][_0x43bfce(0x1f2)]||{0.25:'rgb(0,0,0)',0.55:_0x43bfce(0x1e6),0.85:_0x43bfce(0x1cc),0x1:_0x43bfce(0x1b5)}}));var _0x24826e=this[_0x43bfce(0x1d3)][_0x43bfce(0x18a)]['canvas'][_0x43bfce(0x195)](_0x43bfce(0x179)),_0x10364a=Cesium[_0x43bfce(0x1be)]['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x43bfce(0x1bc)],'frontOperation':{'fail':Cesium[_0x43bfce(0x198)][_0x43bfce(0x1a0)],'zFail':Cesium[_0x43bfce(0x198)]['KEEP'],'zPass':Cesium[_0x43bfce(0x198)][_0x43bfce(0x1f9)]},'backFunction':Cesium[_0x43bfce(0x18d)][_0x43bfce(0x1bc)],'backOperation':{'fail':Cesium[_0x43bfce(0x198)][_0x43bfce(0x1a0)],'zFail':Cesium[_0x43bfce(0x198)]['KEEP'],'zPass':Cesium[_0x43bfce(0x198)][_0x43bfce(0x1f9)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0x43bfce(0x1cb)]}),_0x18585b=Math[_0x43bfce(0x1c6)](Cesium[_0x43bfce(0x1c5)](this[_0x43bfce(0x1a9)][_0x43bfce(0x201)],this[_0x43bfce(0x1a2)]*0.02))+0.1;this[_0x43bfce(0x1a9)]['diffHeight']&&delete this['style']['diffHeight'];var _0x4cdaaa=Cesium[_0x43bfce(0x1c5)](this[_0x43bfce(0x1a9)]['splitNum'],0x64),_0x12e74d=Math['max'](this['_rectangle'][_0x43bfce(0x1de)],this['_rectangle']['width']);this['style']['granularity']=_0x12e74d/=_0x4cdaaa,this['_graphic']=new mars3d__namespace['graphic']['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x43bfce(0x185)]),{},{'rectangle':this[_0x43bfce(0x1d5)],'appearance':new Cesium[(_0x43bfce(0x183))]({'aboveGround':!![],'renderState':_0x10364a,'material':new Cesium[(_0x43bfce(0x186))]({'fabric':{'uniforms':{'image':_0x355d10,'repeat':new Cesium[(_0x43bfce(0x1a4))](0x1,0x1),'color':new Cesium[(_0x43bfce(0x1b7))](0x1,0x1,0x1,0.01),'bumpMap':_0x24826e},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x43bfce(0x1c2)['concat'](_0x18585b,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0x43bfce(0x1bf)]['addGraphic'](this['_graphic']);}},{'key':_0x23f8ef(0x1d6),'value':function _0x1be044(_0x325b4e){var _0x46efaa=_0x23f8ef;return _0x325b4e!==null&&_0x325b4e!==void 0x0&&_0x325b4e['isFormat']&&this['_rectangle']?mars3d__namespace['PolyUtil']['formatRectangle'](this[_0x46efaa(0x1d5)]):this[_0x46efaa(0x1d5)];}}]),_0x8e7ac7;}(BaseLayer);mars3d__namespace['layer'][_0xf72d76(0x1af)]=HeatLayer,mars3d__namespace[_0xf72d76(0x193)][_0xf72d76(0x177)](_0xf72d76(0x1e4),HeatLayer);function getMercatorBounds(_0x29973a){var _0x291c00=_0xf72d76,_0x428557=mars3d__namespace[_0x291c00(0x1b8)][_0x291c00(0x182)]([_0x29973a['xmin'],_0x29973a['ymin']]),_0x3e059a=mars3d__namespace['PointTrans']['lonlat2mercator']([_0x29973a[_0x291c00(0x17d)],_0x29973a[_0x291c00(0x189)]]);return{'xmin':_0x428557[0x0],'ymin':_0x428557[0x1],'xmax':_0x3e059a[0x0],'ymax':_0x3e059a[0x1]};}function geLatLngBounds(_0x3c4504){var _0x3dfeff=_0xf72d76,_0x32daa3=mars3d__namespace[_0x3dfeff(0x1b8)][_0x3dfeff(0x1ca)]([_0x3c4504[_0x3dfeff(0x204)],_0x3c4504[_0x3dfeff(0x192)]]),_0x1e9eeb=mars3d__namespace[_0x3dfeff(0x1b8)][_0x3dfeff(0x1ca)]([_0x3c4504[_0x3dfeff(0x17d)],_0x3c4504[_0x3dfeff(0x189)]]);return{'xmin':_0x32daa3[0x0],'ymin':_0x32daa3[0x1],'xmax':_0x1e9eeb[0x0],'ymax':_0x1e9eeb[0x1]};}exports[_0xf72d76(0x1af)]=HeatLayer,Object[_0xf72d76(0x1bd)](exports,'__esModule',{'value':!![]});
}));
