/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.15
 * 编译日期：2022-06-20 09:44:01
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x4cee5a=_0x49eb;(function(_0x2261c4,_0x33e0c6){var _0x501367=_0x49eb,_0x22ec3b=_0x2261c4();while(!![]){try{var _0x59a16c=-parseInt(_0x501367(0x21c))/0x1*(parseInt(_0x501367(0x1e6))/0x2)+-parseInt(_0x501367(0x24e))/0x3*(parseInt(_0x501367(0x1f4))/0x4)+-parseInt(_0x501367(0x1f7))/0x5+parseInt(_0x501367(0x223))/0x6*(parseInt(_0x501367(0x213))/0x7)+parseInt(_0x501367(0x252))/0x8*(-parseInt(_0x501367(0x272))/0x9)+parseInt(_0x501367(0x1ed))/0xa+-parseInt(_0x501367(0x254))/0xb*(-parseInt(_0x501367(0x22f))/0xc);if(_0x59a16c===_0x33e0c6)break;else _0x22ec3b['push'](_0x22ec3b['shift']());}catch(_0x39ff3d){_0x22ec3b['push'](_0x22ec3b['shift']());}}}(_0x8525,0xc6ee1));function _0x49eb(_0x4d6bca,_0x501714){var _0x8525c2=_0x8525();return _0x49eb=function(_0x49ebac,_0x2a6d3e){_0x49ebac=_0x49ebac-0x1d0;var _0x42862c=_0x8525c2[_0x49ebac];if(_0x49eb['Hjbjxu']===undefined){var _0x3e39e5=function(_0x22f1b3){var _0x5b37f0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x406215='',_0x4c2bb2='';for(var _0x5aa43d=0x0,_0x6ed1ba,_0x29833e,_0x11c33a=0x0;_0x29833e=_0x22f1b3['charAt'](_0x11c33a++);~_0x29833e&&(_0x6ed1ba=_0x5aa43d%0x4?_0x6ed1ba*0x40+_0x29833e:_0x29833e,_0x5aa43d++%0x4)?_0x406215+=String['fromCharCode'](0xff&_0x6ed1ba>>(-0x2*_0x5aa43d&0x6)):0x0){_0x29833e=_0x5b37f0['indexOf'](_0x29833e);}for(var _0xe14875=0x0,_0x1075dd=_0x406215['length'];_0xe14875<_0x1075dd;_0xe14875++){_0x4c2bb2+='%'+('00'+_0x406215['charCodeAt'](_0xe14875)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c2bb2);};_0x49eb['jYgvMy']=_0x3e39e5,_0x4d6bca=arguments,_0x49eb['Hjbjxu']=!![];}var _0x58b33d=_0x8525c2[0x0],_0x15ad9e=_0x49ebac+_0x58b33d,_0x3b9c1f=_0x4d6bca[_0x15ad9e];return!_0x3b9c1f?(_0x42862c=_0x49eb['jYgvMy'](_0x42862c),_0x4d6bca[_0x15ad9e]=_0x42862c):_0x42862c=_0x3b9c1f,_0x42862c;},_0x49eb(_0x4d6bca,_0x501714);}function _interopNamespace(_0x22f1b3){var _0x15e0c6=_0x49eb;if(_0x22f1b3&&_0x22f1b3[_0x15e0c6(0x1f9)])return _0x22f1b3;var _0x5b37f0=Object[_0x15e0c6(0x1d0)](null);return _0x22f1b3&&Object['keys'](_0x22f1b3)[_0x15e0c6(0x224)](function(_0x406215){var _0x2ee287=_0x15e0c6;if(_0x406215!==_0x2ee287(0x243)){var _0x4c2bb2=Object[_0x2ee287(0x1f1)](_0x22f1b3,_0x406215);Object[_0x2ee287(0x256)](_0x5b37f0,_0x406215,_0x4c2bb2[_0x2ee287(0x1e5)]?_0x4c2bb2:{'enumerable':!![],'get':function(){return _0x22f1b3[_0x406215];}});}}),_0x5b37f0['default']=_0x22f1b3,_0x5b37f0;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x5aa43d,_0x6ed1ba){var _0x4fa518=_0x49eb,_0x29833e=Object[_0x4fa518(0x248)](_0x5aa43d);if(Object[_0x4fa518(0x202)]){var _0x11c33a=Object[_0x4fa518(0x202)](_0x5aa43d);_0x6ed1ba&&(_0x11c33a=_0x11c33a[_0x4fa518(0x267)](function(_0xe14875){var _0x56da6d=_0x4fa518;return Object['getOwnPropertyDescriptor'](_0x5aa43d,_0xe14875)[_0x56da6d(0x274)];})),_0x29833e[_0x4fa518(0x21e)]['apply'](_0x29833e,_0x11c33a);}return _0x29833e;}function _objectSpread2(_0x1075dd){var _0x2d1c69=_0x49eb;for(var _0x146105=0x1;_0x146105<arguments['length'];_0x146105++){var _0xb8b49d=null!=arguments[_0x146105]?arguments[_0x146105]:{};_0x146105%0x2?ownKeys(Object(_0xb8b49d),!0x0)[_0x2d1c69(0x224)](function(_0x2af702){_defineProperty(_0x1075dd,_0x2af702,_0xb8b49d[_0x2af702]);}):Object['getOwnPropertyDescriptors']?Object[_0x2d1c69(0x1ee)](_0x1075dd,Object[_0x2d1c69(0x26e)](_0xb8b49d)):ownKeys(Object(_0xb8b49d))[_0x2d1c69(0x224)](function(_0x50919f){Object['defineProperty'](_0x1075dd,_0x50919f,Object['getOwnPropertyDescriptor'](_0xb8b49d,_0x50919f));});}return _0x1075dd;}function _classCallCheck(_0x5a243b,_0x46b945){var _0x35a73a=_0x49eb;if(!(_0x5a243b instanceof _0x46b945))throw new TypeError(_0x35a73a(0x217));}function _defineProperties(_0x5b44be,_0x47dbca){var _0x26b815=_0x49eb;for(var _0x830cb0=0x0;_0x830cb0<_0x47dbca[_0x26b815(0x246)];_0x830cb0++){var _0x5d66cf=_0x47dbca[_0x830cb0];_0x5d66cf[_0x26b815(0x274)]=_0x5d66cf['enumerable']||![],_0x5d66cf['configurable']=!![];if('value'in _0x5d66cf)_0x5d66cf[_0x26b815(0x1fa)]=!![];Object['defineProperty'](_0x5b44be,_0x5d66cf[_0x26b815(0x219)],_0x5d66cf);}}function _createClass(_0xc906da,_0x13094f,_0x37c414){var _0x513011=_0x49eb;if(_0x13094f)_defineProperties(_0xc906da[_0x513011(0x262)],_0x13094f);if(_0x37c414)_defineProperties(_0xc906da,_0x37c414);return Object[_0x513011(0x256)](_0xc906da,_0x513011(0x262),{'writable':![]}),_0xc906da;}function _defineProperty(_0x979a85,_0x2bf710,_0x3ce134){var _0x2e3c06=_0x49eb;return _0x2bf710 in _0x979a85?Object[_0x2e3c06(0x256)](_0x979a85,_0x2bf710,{'value':_0x3ce134,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x979a85[_0x2bf710]=_0x3ce134,_0x979a85;}function _inherits(_0x59048a,_0x2eb6c2){var _0x201b7e=_0x49eb;if(typeof _0x2eb6c2!==_0x201b7e(0x236)&&_0x2eb6c2!==null)throw new TypeError(_0x201b7e(0x23c));_0x59048a['prototype']=Object[_0x201b7e(0x1d0)](_0x2eb6c2&&_0x2eb6c2[_0x201b7e(0x262)],{'constructor':{'value':_0x59048a,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x59048a,_0x201b7e(0x262),{'writable':![]});if(_0x2eb6c2)_setPrototypeOf(_0x59048a,_0x2eb6c2);}function _getPrototypeOf(_0x299731){var _0x129667=_0x49eb;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x129667(0x1dc)]:function _0x33113c(_0x11b9cd){var _0x1d18f0=_0x129667;return _0x11b9cd[_0x1d18f0(0x218)]||Object['getPrototypeOf'](_0x11b9cd);},_getPrototypeOf(_0x299731);}function _setPrototypeOf(_0x28e121,_0x544c40){var _0x3c0621=_0x49eb;return _setPrototypeOf=Object[_0x3c0621(0x226)]||function _0x77e5d7(_0x44512d,_0x5d5d03){var _0x213fd0=_0x3c0621;return _0x44512d[_0x213fd0(0x218)]=_0x5d5d03,_0x44512d;},_setPrototypeOf(_0x28e121,_0x544c40);}function _0x8525(){var _0xd10eb8=['Bgf0','x3nJywXL','Cg9PBNrZ','y29UzMLNDxjL','ovbWC1HIvW','y2fSBa','yNvTCe1HCa','x2XHC3rFBujVDw5KCW','nJa0mtq0BffHEej3','x3jLy3rHBMDSzq','mZnLEMrAv0C','CMvTB3zLr3jHCgHPyW','zgvMAw5LuhjVCgvYDhK','Dw5PzM9YBxm','ywrKug9ZAxrPB24','tgf5zxjvDgLS','y2XPzw50v2LKDgG','ug9PBNruCMfUCW','yxjJqMX1CLnJywXL','Bg5N','uMvUzgvYu3rHDgu','EwvSBg93','DMfSDwvpzG','z2v0vMfSDwvbDa','ChjVDg90ExbL','y2XPzw50sgvPz2H0','C3bSAxroDw0','Dg9bCNjHEq','x3bVC2L0Aw9UCW','zMLSDgvY','y29Uy2f0','x2fKzgvKsg9VAW','Ew1PBG','C2v0rgf0yq','z3jHBNvSyxjPDhK','B3b0Aw9UCW','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','B2jQzwn0','Bwf4q2fUDMfZu2L6zq','Bg9UBgf0mM1LCMnHDg9Y','mte3tMHisLL0','C2HHBq','zw51BwvYywjSzq','vxrPBa','u3rLBMnPBez1BMn0Aw9U','y3jLyxrL','y2XLyxi','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','x21HCa','CMfKAxvZ','y3r4','rg9TvxrPBa','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','Cg9ZAxrPB25Z','CMDIkdi1nsWYntuSmJu1kq','x2XHC3rFAgvHDerHDge','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','z2v0uhjVDg90ExbLt2y','x21HCNmZzf9WCML2yxrL','Aw1Hz2u','x2nYzwf0zuDYyxbOAwm','C3r5Bgu','uKvqtefdrq','AxngB3jTyxq','y29UDgfPBMvY','uMvJDgfUz2XL','z2v0','mtm5neT6sw53wa','ChG7AgvPz2H0oG','BwLUq2fUDMfZu2L6zq','Dw5KzwzPBMvK','q2vZAxvT','s0vfua','y3nZvgv4Da','oda4mtGZmhnRtxrfDW','zgvMAw5LuhjVCgvYDgLLCW','y29UC3rYDwn0B3i','ywrKtgf5zxi','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','u3rLBMnPBe9WzxjHDgLVBG','zMX5vg8','ndC3nta0BM9zuMP6','yxjJ','zM9YBwf0uMvJDgfUz2XL','ntyYntu4mfjOBfnhsW','zMX5vg9cEufUAw1HDgLVBKvUza','x19LC01VzhvSzq','D3jPDgfIBgu','CgfYC2u','x21VDw50zwriB29R','x3jLBMrLCMvY','z2v0uMvJDgfUz2XL','zgvMyxvSDfzHBhvL','x2DLDeHLyxrdyw52yxm','y2fUDMfZ','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','z3jLzw4','ug9SEvv0AwW','Eg1HEa','zNjVBunHy2HL','Bwf4','twf0zxjPywW','CMDIysG','BwLU','x2XHEwvY','y29WEunHBNzHCW','x2nYzwf0zufYy0DYyxbOAwm','r3jHCgHPy0XHEwvY','yxjJuMfKAxvZu2nHBgu','yM9KEq','D2LKDgG6','BwvYy2f0B3iYBg9UBgf0','otmWmZD0DhLosNC','q29SB3i','quXxqvLt','z3jHzgLLBNrbCMm','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','x19WCM90B19F','A2v5','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','ntC3BKrrtevu','CMvJDgfUz2XL','ChvZAa','x2DLDefYy0HLyxrdyw52yxm','zgLMzKHLAwDODa','y29UC3rYDwn0','CMvTB3zLtgf5zxi','nJeYtgzhzuLW','zM9YrwfJAa','AgvHDfn0EwXL','C2v0uhjVDg90ExbLt2y','yxbWBhK','tg5Ntgf0ug9PBNq','uMvJDgfUz2XLuhjPBwL0AxzL','CMDIkdiXnIWYmtySmJe2kq','BwvYz2u','Bgf5zxi','quXqsefFqKXftKq','CMvTB3zL','nJa3mJm5nMzOsLvRyq','AgvPz2H0','x3nLDe9WDgLVBNniB29R','x2DYyxbOAwm','CM91BMq','x21cB3vUzhnnyxG','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','zNvUy3rPB24','C2v0ug9ZAxrPB25Z','z2v0sw1Hz2veyxrH','Eg1PBG','x2HLyxq','zMXVB3i','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','sgvHDeXHEwvY','Ew1HEa','ywjZ','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','y29VCMrPBMf0zxm','CMvNAxn0zxi','zgvMyxvSDa','qMfZzuXHEwvY','CMDIkde0mcWXndaSmtqWkq','BgvUz3rO','x3jLBw92zwriB29R','A2v5CW','DMfSDwu'];_0x8525=function(){return _0xd10eb8;};return _0x8525();}function _isNativeReflectConstruct(){var _0x4b52d0=_0x49eb;if(typeof Reflect===_0x4b52d0(0x1e9)||!Reflect['construct'])return![];if(Reflect['construct'][_0x4b52d0(0x273)])return![];if(typeof Proxy==='function')return!![];try{return Boolean['prototype'][_0x4b52d0(0x260)][_0x4b52d0(0x24f)](Reflect[_0x4b52d0(0x221)](Boolean,[],function(){})),!![];}catch(_0x204054){return![];}}function _assertThisInitialized(_0x36ce52){if(_0x36ce52===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x36ce52;}function _possibleConstructorReturn(_0x244e6d,_0xf7e3de){var _0x35c2c6=_0x49eb;if(_0xf7e3de&&(typeof _0xf7e3de===_0x35c2c6(0x26f)||typeof _0xf7e3de===_0x35c2c6(0x236)))return _0xf7e3de;else{if(_0xf7e3de!==void 0x0)throw new TypeError(_0x35c2c6(0x21a));}return _assertThisInitialized(_0x244e6d);}function _createSuper(_0x3877c4){var _0x3c04a0=_isNativeReflectConstruct();return function _0x3277e0(){var _0x4983f1=_0x49eb,_0x5d7aa0=_getPrototypeOf(_0x3877c4),_0x4c5702;if(_0x3c04a0){var _0x4949ae=_getPrototypeOf(this)[_0x4983f1(0x1ef)];_0x4c5702=Reflect[_0x4983f1(0x221)](_0x5d7aa0,arguments,_0x4949ae);}else _0x4c5702=_0x5d7aa0[_0x4983f1(0x227)](this,arguments);return _possibleConstructorReturn(this,_0x4c5702);};}var HeatMaterial=_0x4cee5a(0x21b);if(!h337__namespace[_0x4cee5a(0x1d0)])throw new Error('请引入\x20heatmap.js\x20库\x20');var Cesium=mars3d__namespace[_0x4cee5a(0x1ea)],BaseLayer=mars3d__namespace[_0x4cee5a(0x22c)][_0x4cee5a(0x244)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:_0x4cee5a(0x203),0.8:_0x4cee5a(0x25f),0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x4cee5a(0x1d2)]['VERTEX_FORMAT']},HeatLayer=function(_0x42c275){var _0x1248dd=_0x4cee5a;_inherits(_0x497185,_0x42c275);var _0x5a7bbd=_createSuper(_0x497185);function _0x497185(){var _0x30802b=_0x49eb,_0x1bd939,_0x32bfc4=arguments[_0x30802b(0x246)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x497185),_0x1bd939=_0x5a7bbd['call'](this,_0x32bfc4),_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x270)]=Cesium[_0x30802b(0x1ff)](_0x1bd939[_0x30802b(0x26d)]['maxCanvasSize'],document[_0x30802b(0x210)][_0x30802b(0x25a)]),_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x270)]=Math[_0x30802b(0x20a)](_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x270)],0x1388),_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x1e8)]=Cesium['defaultValue'](_0x1bd939[_0x30802b(0x26d)]['minCanvasSize'],document[_0x30802b(0x210)][_0x30802b(0x263)]),_0x1bd939[_0x30802b(0x26d)]['minCanvasSize']=Math[_0x30802b(0x207)](_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x1e8)],0x2bc),_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x225)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x1bd939['options'][_0x30802b(0x225)]||{}),_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x1e0)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x1bd939[_0x30802b(0x26d)][_0x30802b(0x1e0)]||{}),_0x1bd939;}return _createClass(_0x497185,[{'key':'layer','get':function _0x592a53(){var _0x1ac6fd=_0x49eb;return this[_0x1ac6fd(0x20b)];}},{'key':'heatStyle','get':function _0x55024c(){var _0x1c02ec=_0x49eb;return this[_0x1c02ec(0x26d)][_0x1c02ec(0x225)];},'set':function _0x112be0(_0x3bb656){var _0x280136=_0x49eb;this[_0x280136(0x26d)][_0x280136(0x225)]=mars3d__namespace['Util'][_0x280136(0x22b)](this['options'][_0x280136(0x225)],_0x3bb656),this[_0x280136(0x23a)]&&(this[_0x280136(0x23a)]['configure'](this['options']['heatStyle']),this['_updatePositionsHook'](!![]));}},{'key':_0x1248dd(0x1e0),'get':function _0x5acc09(){var _0x4eb927=_0x1248dd;return this[_0x4eb927(0x26d)][_0x4eb927(0x1e0)];},'set':function _0x8ac428(_0x3090dd){var _0x44d69b=_0x1248dd;this[_0x44d69b(0x26d)][_0x44d69b(0x1e0)]=mars3d__namespace[_0x44d69b(0x275)][_0x44d69b(0x22b)](this['options']['style'],_0x3090dd);}},{'key':_0x1248dd(0x1d8),'get':function _0x4f2589(){var _0x5a6dc3=_0x1248dd;return this[_0x5a6dc3(0x266)];},'set':function _0x514a51(_0x415efe){var _0x2eaae8=_0x1248dd;this[_0x2eaae8(0x237)](_0x415efe);}},{'key':_0x1248dd(0x241),'get':function _0x2ae8e5(){var _0x234eba=_0x1248dd,_0x4ef807=[];return this[_0x234eba(0x24c)]['forEach'](function(_0x3b98c2){var _0x2db103=_0x234eba;_0x4ef807['push'](_0x3b98c2[_0x2db103(0x265)]());}),_0x4ef807;}},{'key':'rectangle','get':function _0x3cebc8(){return this['_rectangle'];}},{'key':_0x1248dd(0x231),'value':function _0x3125bd(_0x2b5ef5){var _0x258da8=_0x1248dd;_0x2b5ef5[_0x258da8(0x1d8)]&&(this[_0x258da8(0x1d8)]=_0x2b5ef5[_0x258da8(0x1d8)]);}},{'key':_0x1248dd(0x1fc),'value':function _0x4a25d1(){var _0xc7388=_0x1248dd;this[_0xc7388(0x20b)]=new mars3d__namespace['layer'][(_0xc7388(0x20e))]({'noLayerManage':!![]}),this[_0xc7388(0x20b)][_0xc7388(0x1dd)]=!![];}},{'key':_0x1248dd(0x269),'value':function _0x31a494(){var _0x52b345=_0x1248dd;this[_0x52b345(0x1d3)][_0x52b345(0x1f0)](this[_0x52b345(0x20b)]),this[_0x52b345(0x26d)][_0x52b345(0x1d8)]&&(this[_0x52b345(0x1d8)]=this[_0x52b345(0x26d)][_0x52b345(0x1d8)]),this[_0x52b345(0x26d)][_0x52b345(0x1f3)]&&this[_0x52b345(0x1f8)]();}},{'key':_0x1248dd(0x247),'value':function _0x298c2d(){var _0x4cebf3=_0x1248dd;this[_0x4cebf3(0x225)][_0x4cebf3(0x1e3)]&&(mars3d__namespace[_0x4cebf3(0x1d6)][_0x4cebf3(0x22e)](this[_0x4cebf3(0x225)]['container']),delete this[_0x4cebf3(0x225)]['container']),this[_0x4cebf3(0x1d1)](),this[_0x4cebf3(0x1d3)][_0x4cebf3(0x222)](this[_0x4cebf3(0x20b)]);}},{'key':_0x1248dd(0x258),'value':function _0x4cb4a4(_0x42e1e9,_0x3c1055){var _0x1d85a4=_0x1248dd;this['_positions']=this['_positions']||[],this[_0x1d85a4(0x266)]['push'](_0x42e1e9),this[_0x1d85a4(0x1d7)](_0x3c1055);}},{'key':_0x1248dd(0x237),'value':function _0x1c998a(_0x44632b,_0xd22e94){var _0x355592=_0x1248dd;this[_0x355592(0x266)]=_0x44632b,this['_updatePositionsHook'](_0xd22e94);}},{'key':'clear','value':function _0x50ca4e(){var _0x439b10=_0x1248dd;this[_0x439b10(0x232)]&&(this[_0x439b10(0x20b)][_0x439b10(0x255)](this[_0x439b10(0x232)],!![]),delete this['_graphic']);}},{'key':_0x1248dd(0x1d7),'value':function _0x41123b(_0x2462fe){var _0x4cfc5c=_0x1248dd;if(!this['show']||!this[_0x4cfc5c(0x1d3)]||!this[_0x4cfc5c(0x1d8)]||this[_0x4cfc5c(0x1d8)][_0x4cfc5c(0x246)]===0x0)return this;var _0x48d2d7=this[_0x4cfc5c(0x200)]();return this['style'][_0x4cfc5c(0x1f5)]?this[_0x4cfc5c(0x232)]&&_0x2462fe?(this[_0x4cfc5c(0x232)]['uniforms'][_0x4cfc5c(0x1de)]=_0x48d2d7,this[_0x4cfc5c(0x232)][_0x4cfc5c(0x257)][_0x4cfc5c(0x250)]=this[_0x4cfc5c(0x21f)]()):this[_0x4cfc5c(0x20d)](_0x48d2d7):this[_0x4cfc5c(0x232)]&&_0x2462fe?this[_0x4cfc5c(0x232)]['uniforms'][_0x4cfc5c(0x1de)]=_0x48d2d7:this['_createGraphic'](_0x48d2d7),this;}},{'key':_0x1248dd(0x1df),'value':function _0x23e007(_0x3d9559){var _0x119fda=_0x1248dd;this['clear'](),this[_0x119fda(0x232)]=new mars3d__namespace['graphic'][(_0x119fda(0x229))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x119fda(0x253)],'appearance':new Cesium[(_0x119fda(0x1d2))]({'material':new Cesium[(_0x119fda(0x208))]({'fabric':{'uniforms':{'image':_0x3d9559},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x119fda(0x20b)]['addGraphic'](this[_0x119fda(0x232)]);}},{'key':_0x1248dd(0x20d),'value':function _0x36d6b6(_0x1fa3a0){var _0x4b0638=_0x1248dd;this['clear']();var _0x271ce6=Cesium[_0x4b0638(0x25e)][_0x4b0638(0x206)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x4b0638(0x276)][_0x4b0638(0x215)],'frontOperation':{'fail':Cesium['StencilOperation'][_0x4b0638(0x1eb)],'zFail':Cesium[_0x4b0638(0x1f2)][_0x4b0638(0x1eb)],'zPass':Cesium[_0x4b0638(0x1f2)][_0x4b0638(0x1e1)]},'backFunction':Cesium['StencilFunction'][_0x4b0638(0x215)],'backOperation':{'fail':Cesium[_0x4b0638(0x1f2)][_0x4b0638(0x1eb)],'zFail':Cesium[_0x4b0638(0x1f2)]['KEEP'],'zPass':Cesium[_0x4b0638(0x1f2)]['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0x4b0638(0x22d)]}),_0x17f3c1=Math[_0x4b0638(0x23b)](Cesium['defaultValue'](this[_0x4b0638(0x1e0)]['diffHeight'],this[_0x4b0638(0x234)]*0.02))+0.1;this[_0x4b0638(0x1e0)][_0x4b0638(0x220)]&&delete this[_0x4b0638(0x1e0)][_0x4b0638(0x220)];var _0x42b479=Cesium['defaultValue'](this['style'][_0x4b0638(0x264)],0x64),_0x38dbcc=Math[_0x4b0638(0x207)](this[_0x4b0638(0x253)][_0x4b0638(0x230)],this[_0x4b0638(0x253)]['width']);this[_0x4b0638(0x1e0)][_0x4b0638(0x26c)]=_0x38dbcc/=_0x42b479,this['_graphic']=new mars3d__namespace['graphic'][(_0x4b0638(0x229))](_objectSpread2(_objectSpread2({},this[_0x4b0638(0x26d)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x4b0638(0x1d2))]({'aboveGround':!![],'renderState':_0x271ce6,'material':new Cesium[(_0x4b0638(0x208))]({'fabric':{'uniforms':{'image':_0x1fa3a0,'repeat':new Cesium['Cartesian2'](0x1,0x1),'color':new Cesium[(_0x4b0638(0x214))](0x1,0x1,0x1,0.01),'bumpMap':this['_getArcHeatCanvas']()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x4b0638(0x1db)[_0x4b0638(0x268)](_0x17f3c1,_0x4b0638(0x240)),'flat':!![]})})),this[_0x4b0638(0x20b)]['addGraphic'](this[_0x4b0638(0x232)]);}},{'key':_0x1248dd(0x1fe),'value':function _0x188d96(_0x921006){var _0x32965a=_0x1248dd;return _0x921006!==null&&_0x921006!==void 0x0&&_0x921006[_0x32965a(0x1e2)]&&this[_0x32965a(0x253)]?mars3d__namespace[_0x32965a(0x204)][_0x32965a(0x1f6)](this[_0x32965a(0x253)]):this[_0x32965a(0x253)];}},{'key':_0x1248dd(0x200),'value':function _0x2d26e9(){var _0x3ffb54=_0x1248dd,_0x1a87de=this,_0x6e1abc,_0x24ef25,_0x890c72=this[_0x3ffb54(0x266)],_0x1fc840=[],_0x35b53d,_0x45a63a,_0x5466be,_0x38d6d1;_0x890c72[_0x3ffb54(0x224)](function(_0x348da3){var _0x509980=_0x3ffb54,_0x542ed9=mars3d__namespace[_0x509980(0x228)][_0x509980(0x1fb)](_0x348da3);if(!_0x542ed9)return;_0x542ed9[_0x509980(0x249)]=_0x348da3[_0x509980(0x249)]||0x1,!_0x1a87de['options'][_0x509980(0x21d)]&&(_0x35b53d===undefined?(_0x35b53d=_0x542ed9[_0x509980(0x25d)],_0x45a63a=_0x542ed9['lng'],_0x5466be=_0x542ed9[_0x509980(0x24a)],_0x38d6d1=_0x542ed9[_0x509980(0x24a)]):(_0x35b53d=Math[_0x509980(0x20a)](_0x35b53d,_0x542ed9[_0x509980(0x25d)]),_0x45a63a=Math[_0x509980(0x207)](_0x45a63a,_0x542ed9[_0x509980(0x25d)]),_0x5466be=Math[_0x509980(0x20a)](_0x5466be,_0x542ed9[_0x509980(0x24a)]),_0x38d6d1=Math[_0x509980(0x207)](_0x38d6d1,_0x542ed9[_0x509980(0x24a)]))),_0x1fc840[_0x509980(0x21e)](_0x542ed9);});var _0x46d474=this['options'][_0x3ffb54(0x21d)]||{'xmin':_0x35b53d,'xmax':_0x45a63a,'ymin':_0x5466be,'ymax':_0x38d6d1},_0x113097=getMercatorBounds(_0x46d474),_0x4d0b5a=Math[_0x3ffb54(0x23f)](_0x113097[_0x3ffb54(0x205)]-_0x113097['xmin']),_0x2062e1=Math[_0x3ffb54(0x23f)](_0x113097[_0x3ffb54(0x23e)]-_0x113097[_0x3ffb54(0x26a)]),_0x1c5726=Math[_0x3ffb54(0x207)](_0x4d0b5a,_0x2062e1),_0x48cf2f=Math[_0x3ffb54(0x20a)](_0x4d0b5a,_0x2062e1);this[_0x3ffb54(0x234)]=_0x1c5726;var _0x1431e0=0x1;if(_0x1c5726>this[_0x3ffb54(0x26d)][_0x3ffb54(0x270)])_0x1431e0=_0x1c5726/this[_0x3ffb54(0x26d)][_0x3ffb54(0x270)],_0x48cf2f/_0x1431e0<this[_0x3ffb54(0x26d)]['minCanvasSize']&&(_0x1431e0=_0x48cf2f/this[_0x3ffb54(0x26d)][_0x3ffb54(0x1e8)]);else _0x48cf2f<this['options'][_0x3ffb54(0x1e8)]&&(_0x1431e0=_0x48cf2f/this[_0x3ffb54(0x26d)][_0x3ffb54(0x1e8)],_0x1c5726/_0x1431e0>this[_0x3ffb54(0x26d)][_0x3ffb54(0x270)]&&(_0x1431e0=_0x1c5726/this[_0x3ffb54(0x26d)]['maxCanvasSize']));var _0x1fa460=this['heatStyle'][_0x3ffb54(0x1d4)]*1.5,_0xf903f5=_0x4d0b5a/_0x1431e0+_0x1fa460*0x2,_0x5c18a5=_0x2062e1/_0x1431e0+_0x1fa460*0x2,_0x2cc385=_0x1fa460*_0x1431e0;_0x113097['xmin']-=_0x2cc385,_0x113097[_0x3ffb54(0x26a)]-=_0x2cc385,_0x113097[_0x3ffb54(0x205)]+=_0x2cc385,_0x113097['ymax']+=_0x2cc385,this['_scale']=_0x1431e0,_0x46d474=geLatLngBounds(_0x113097),this['_rectangle']=Cesium[_0x3ffb54(0x1e4)]['fromDegrees'](_0x46d474['xmin'],_0x46d474['ymin'],_0x46d474['xmax'],_0x46d474[_0x3ffb54(0x23e)]);var _0xa4d64f=(_0x6e1abc=_0x1fc840[0x0][_0x3ffb54(0x249)])!==null&&_0x6e1abc!==void 0x0?_0x6e1abc:0x1,_0x21cd1b=(_0x24ef25=_0x1fc840[0x0][_0x3ffb54(0x249)])!==null&&_0x24ef25!==void 0x0?_0x24ef25:0x0,_0x44d52e=[];_0x1fc840[_0x3ffb54(0x224)](function(_0x40522c){var _0x6faef3=_0x3ffb54,_0x532222=mars3d__namespace[_0x6faef3(0x25b)][_0x6faef3(0x271)]([_0x40522c[_0x6faef3(0x25d)],_0x40522c[_0x6faef3(0x24a)]]),_0x3c5356=_0x40522c[_0x6faef3(0x249)]||0x1,_0x48027d=Math[_0x6faef3(0x233)]((_0x532222[0x0]-_0x113097[_0x6faef3(0x239)])/_0x1431e0),_0x2fd750=Math['round']((_0x113097[_0x6faef3(0x23e)]-_0x532222[0x1])/_0x1431e0);_0xa4d64f=Math[_0x6faef3(0x207)](_0xa4d64f,_0x3c5356),_0x21cd1b=Math[_0x6faef3(0x20a)](_0x21cd1b,_0x3c5356),_0x44d52e[_0x6faef3(0x21e)]({'x':_0x48027d,'y':_0x2fd750,'value':_0x3c5356});});var _0x952dc={'min':Cesium[_0x3ffb54(0x1ff)](this['options'][_0x3ffb54(0x20a)],_0x21cd1b),'max':Cesium['defaultValue'](this[_0x3ffb54(0x26d)][_0x3ffb54(0x207)],_0xa4d64f),'data':_0x44d52e};this[_0x3ffb54(0x1da)]=_0x952dc;(!this[_0x3ffb54(0x251)]||_0x113097[_0x3ffb54(0x239)]!==this['_last_mBounds']['xmin']||_0x113097[_0x3ffb54(0x26a)]!==this[_0x3ffb54(0x251)]['ymin']||_0x113097[_0x3ffb54(0x205)]!==this[_0x3ffb54(0x251)]['xmax']||_0x113097[_0x3ffb54(0x23e)]!==this['_last_mBounds'][_0x3ffb54(0x23e)])&&(this['_last_mBounds']=_0x113097,!this['heatStyle']['container']&&(this[_0x3ffb54(0x225)]['container']=mars3d__namespace[_0x3ffb54(0x1d6)][_0x3ffb54(0x1d0)]('div',_0x3ffb54(0x235),this[_0x3ffb54(0x1d3)][_0x3ffb54(0x1e3)])),this[_0x3ffb54(0x225)]['container'][_0x3ffb54(0x1e0)][_0x3ffb54(0x1ec)]=_0x3ffb54(0x211)[_0x3ffb54(0x268)](_0xf903f5,_0x3ffb54(0x1e7))['concat'](_0x5c18a5,'px;'),!this['_heat']?this['_heat']=h337__namespace[_0x3ffb54(0x1d0)](this['heatStyle']):this['_heat'][_0x3ffb54(0x24d)](this[_0x3ffb54(0x225)]));this[_0x3ffb54(0x23a)][_0x3ffb54(0x26b)](_0x952dc);var _0x87d6=mars3d__namespace['DomUtil'][_0x3ffb54(0x20c)](this[_0x3ffb54(0x23a)][_0x3ffb54(0x1fd)][_0x3ffb54(0x201)]);return _0x87d6;}},{'key':'_getArcHeatCanvas','value':function _0x3da695(){var _0x264004=_0x1248dd;this[_0x264004(0x23a)][_0x264004(0x24d)]({'radius':this['heatStyle'][_0x264004(0x1d4)]*this[_0x264004(0x1e0)][_0x264004(0x20f)],'blur':this[_0x264004(0x225)]['blur']*this[_0x264004(0x1e0)][_0x264004(0x25c)],'gradient':this[_0x264004(0x225)][_0x264004(0x216)]||{0.25:'rgb(0,0,0)',0.55:_0x264004(0x245),0.85:_0x264004(0x22a),0x1:_0x264004(0x1d9)}});var _0x28a0be=mars3d__namespace[_0x264004(0x1d6)][_0x264004(0x20c)](this[_0x264004(0x23a)][_0x264004(0x1fd)][_0x264004(0x201)]);return this[_0x264004(0x23a)][_0x264004(0x24d)](this[_0x264004(0x26d)][_0x264004(0x225)]),_0x28a0be;}},{'key':'getPointData','value':function _0x3628da(_0x13fbbc){var _0x107618=_0x1248dd,_0xea7f88=mars3d__namespace[_0x107618(0x228)][_0x107618(0x1fb)](_0x13fbbc);if(!_0xea7f88)return{};var _0x3bc5f0=mars3d__namespace[_0x107618(0x25b)][_0x107618(0x271)]([_0xea7f88[_0x107618(0x25d)],_0xea7f88['lat']]),_0x1b4435=this['_last_mBounds'],_0x2ac69c=Math['round']((_0x3bc5f0[0x0]-_0x1b4435['xmin'])/this[_0x107618(0x24b)]),_0x109883=Math[_0x107618(0x233)]((_0x1b4435[_0x107618(0x23e)]-_0x3bc5f0[0x1])/this['_scale']),_0x5016f5=this[_0x107618(0x23a)][_0x107618(0x261)]({'x':_0x2ac69c,'y':_0x109883}),_0x5927d4=this[_0x107618(0x23a)]['_renderer'][_0x107618(0x1d5)][_0x107618(0x238)](_0x2ac69c-0x1,_0x109883-0x1,0x1,0x1)['data'];return{'x':_0x2ac69c,'y':_0x109883,'value':_0x5016f5,'color':_0x107618(0x209)+_0x5927d4[0x0]+','+_0x5927d4[0x1]+','+_0x5927d4[0x2]+','+_0x5927d4[0x3]+')'};}}]),_0x497185;}(BaseLayer);mars3d__namespace['layer'][_0x4cee5a(0x23d)]=HeatLayer,mars3d__namespace[_0x4cee5a(0x259)][_0x4cee5a(0x242)]('heat',HeatLayer);function getMercatorBounds(_0x115d25){var _0x3b869c=_0x4cee5a,_0x5c40f7=mars3d__namespace[_0x3b869c(0x25b)]['lonlat2mercator']([_0x115d25[_0x3b869c(0x239)],_0x115d25[_0x3b869c(0x26a)]]),_0x17dc17=mars3d__namespace[_0x3b869c(0x25b)]['lonlat2mercator']([_0x115d25[_0x3b869c(0x205)],_0x115d25['ymax']]);return{'xmin':_0x5c40f7[0x0],'ymin':_0x5c40f7[0x1],'xmax':_0x17dc17[0x0],'ymax':_0x17dc17[0x1]};}function geLatLngBounds(_0x26d6c7){var _0x3e536a=_0x4cee5a,_0x58e102=mars3d__namespace['PointTrans'][_0x3e536a(0x212)]([_0x26d6c7['xmin'],_0x26d6c7['ymin']]),_0x3416df=mars3d__namespace[_0x3e536a(0x25b)]['mercator2lonlat']([_0x26d6c7[_0x3e536a(0x205)],_0x26d6c7['ymax']]);return{'xmin':_0x58e102[0x0],'ymin':_0x58e102[0x1],'xmax':_0x3416df[0x0],'ymax':_0x3416df[0x1]};}exports[_0x4cee5a(0x23d)]=HeatLayer,Object[_0x4cee5a(0x256)](exports,_0x4cee5a(0x1f9),{'value':!![]});
}));
