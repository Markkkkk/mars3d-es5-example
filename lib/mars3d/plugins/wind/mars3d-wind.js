(function(_0x23a4a1,_0x34a936){var _0x2a848d=a0_0x4b8e,_0x363e48=_0x23a4a1();while(!![]){try{var _0x1a31e6=-parseInt(_0x2a848d(0x130))/0x1*(parseInt(_0x2a848d(0x1af))/0x2)+-parseInt(_0x2a848d(0x1dd))/0x3*(parseInt(_0x2a848d(0x18b))/0x4)+parseInt(_0x2a848d(0x153))/0x5+parseInt(_0x2a848d(0x1d1))/0x6*(-parseInt(_0x2a848d(0x1e6))/0x7)+-parseInt(_0x2a848d(0x125))/0x8*(parseInt(_0x2a848d(0x25a))/0x9)+parseInt(_0x2a848d(0x1a8))/0xa*(parseInt(_0x2a848d(0x1e0))/0xb)+parseInt(_0x2a848d(0x127))/0xc*(parseInt(_0x2a848d(0x250))/0xd);if(_0x1a31e6===_0x34a936)break;else _0x363e48['push'](_0x363e48['shift']());}catch(_0x565966){_0x363e48['push'](_0x363e48['shift']());}}}(a0_0x2705,0x247bb),!function(_0x32459e,_0x1af51f){var _0x357718=a0_0x4b8e;_0x357718(0x270)==typeof exports&&_0x357718(0x270)==typeof module?module[_0x357718(0x220)]=_0x1af51f(require(_0x357718(0x1ac)),require(_0x357718(0x1e7))):_0x357718(0x14e)==typeof define&&define[_0x357718(0x185)]?define(_0x357718(0x28d),['mars3d-cesium',_0x357718(0x1e7)],_0x1af51f):_0x357718(0x270)==typeof exports?exports['mars3dWind']=_0x1af51f(require('mars3d-cesium'),require(_0x357718(0x1e7))):_0x32459e[_0x357718(0x28d)]=_0x1af51f(_0x32459e[_0x357718(0x16d)],_0x32459e[_0x357718(0x1e7)]);}(window,function(_0x156c65,_0x328d84){return function(_0x1bceea){var _0x10ff34={};function _0x2afc8d(_0x1889e8){var _0x5e8076=a0_0x4b8e;if(_0x10ff34[_0x1889e8])return _0x10ff34[_0x1889e8][_0x5e8076(0x220)];var _0x308d2c=_0x10ff34[_0x1889e8]={'i':_0x1889e8,'l':!0x1,'exports':{}};return _0x1bceea[_0x1889e8]['call'](_0x308d2c[_0x5e8076(0x220)],_0x308d2c,_0x308d2c[_0x5e8076(0x220)],_0x2afc8d),_0x308d2c['l']=!0x0,_0x308d2c[_0x5e8076(0x220)];}return _0x2afc8d['m']=_0x1bceea,_0x2afc8d['c']=_0x10ff34,_0x2afc8d['d']=function(_0x1a141e,_0x2b6fec,_0x251f1d){var _0x4fe99e=a0_0x4b8e;_0x2afc8d['o'](_0x1a141e,_0x2b6fec)||Object[_0x4fe99e(0x166)](_0x1a141e,_0x2b6fec,{'enumerable':!0x0,'get':_0x251f1d});},_0x2afc8d['r']=function(_0x48c740){var _0xeaf527=a0_0x4b8e;'undefined'!=typeof Symbol&&Symbol[_0xeaf527(0x155)]&&Object[_0xeaf527(0x166)](_0x48c740,Symbol['toStringTag'],{'value':_0xeaf527(0x1de)}),Object[_0xeaf527(0x166)](_0x48c740,'__esModule',{'value':!0x0});},_0x2afc8d['t']=function(_0x52c444,_0x39032a){var _0x5e313e=a0_0x4b8e;if(0x1&_0x39032a&&(_0x52c444=_0x2afc8d(_0x52c444)),0x8&_0x39032a)return _0x52c444;if(0x4&_0x39032a&&_0x5e313e(0x270)==typeof _0x52c444&&_0x52c444&&_0x52c444['__esModule'])return _0x52c444;var _0x3669d2=Object[_0x5e313e(0x28c)](null);if(_0x2afc8d['r'](_0x3669d2),Object[_0x5e313e(0x166)](_0x3669d2,_0x5e313e(0x13e),{'enumerable':!0x0,'value':_0x52c444}),0x2&_0x39032a&&_0x5e313e(0x180)!=typeof _0x52c444){for(var _0x18cffc in _0x52c444)_0x2afc8d['d'](_0x3669d2,_0x18cffc,function(_0x37c933){return _0x52c444[_0x37c933];}[_0x5e313e(0x214)](null,_0x18cffc));}return _0x3669d2;},_0x2afc8d['n']=function(_0xe0811c){var _0x4ab184=a0_0x4b8e,_0x2249d1=_0xe0811c&&_0xe0811c[_0x4ab184(0x174)]?function(){var _0x20f29f=_0x4ab184;return _0xe0811c[_0x20f29f(0x13e)];}:function(){return _0xe0811c;};return _0x2afc8d['d'](_0x2249d1,'a',_0x2249d1),_0x2249d1;},_0x2afc8d['o']=function(_0x335253,_0x53998d){var _0x2919ed=a0_0x4b8e;return Object[_0x2919ed(0x1d8)][_0x2919ed(0x1ec)][_0x2919ed(0x291)](_0x335253,_0x53998d);},_0x2afc8d['p']='',_0x2afc8d(_0x2afc8d['s']=0x14);}([function(_0x421175,_0x581f25){var _0x3c5639=a0_0x4b8e;_0x421175[_0x3c5639(0x220)]=_0x156c65;},function(_0x49e1f9,_0x581acd){_0x49e1f9['exports']=_0x328d84;},function(_0x2d2c9a,_0x4fad29){var _0x16b37d=a0_0x4b8e;_0x2d2c9a['exports']=function(_0x481e30,_0x7ed8e8){var _0x5d6726=a0_0x4b8e;if(!(_0x481e30 instanceof _0x7ed8e8))throw new TypeError(_0x5d6726(0x211));},_0x2d2c9a[_0x16b37d(0x220)][_0x16b37d(0x174)]=!0x0,_0x2d2c9a[_0x16b37d(0x220)][_0x16b37d(0x13e)]=_0x2d2c9a['exports'];},function(_0x4bb6d2,_0x15272e){var _0x5523b1=a0_0x4b8e;function _0x28a44d(_0x3bc3a2,_0x1c88a5){var _0x3bb497=a0_0x4b8e;for(var _0x2624a5=0x0;_0x2624a5<_0x1c88a5['length'];_0x2624a5++){var _0x4a50fb=_0x1c88a5[_0x2624a5];_0x4a50fb[_0x3bb497(0x1c7)]=_0x4a50fb[_0x3bb497(0x1c7)]||!0x1,_0x4a50fb['configurable']=!0x0,_0x3bb497(0x206)in _0x4a50fb&&(_0x4a50fb[_0x3bb497(0x123)]=!0x0),Object['defineProperty'](_0x3bc3a2,_0x4a50fb[_0x3bb497(0x247)],_0x4a50fb);}}_0x4bb6d2[_0x5523b1(0x220)]=function(_0x297c1c,_0x55527d,_0x496e74){var _0xeaf32a=_0x5523b1;return _0x55527d&&_0x28a44d(_0x297c1c[_0xeaf32a(0x1d8)],_0x55527d),_0x496e74&&_0x28a44d(_0x297c1c,_0x496e74),Object[_0xeaf32a(0x166)](_0x297c1c,_0xeaf32a(0x1d8),{'writable':!0x1}),_0x297c1c;},_0x4bb6d2[_0x5523b1(0x220)][_0x5523b1(0x174)]=!0x0,_0x4bb6d2[_0x5523b1(0x220)][_0x5523b1(0x13e)]=_0x4bb6d2['exports'];},function(_0x2a5923,_0x3e3264){var _0x523b0c=a0_0x4b8e;function _0x2672aa(_0x2179e6){var _0x33810d=a0_0x4b8e;return _0x2a5923[_0x33810d(0x220)]=_0x2672aa=Object['setPrototypeOf']?Object[_0x33810d(0x1c4)]:function(_0x3aa5c6){var _0x432ab9=_0x33810d;return _0x3aa5c6[_0x432ab9(0x23c)]||Object['getPrototypeOf'](_0x3aa5c6);},_0x2a5923['exports']['__esModule']=!0x0,_0x2a5923['exports'][_0x33810d(0x13e)]=_0x2a5923['exports'],_0x2672aa(_0x2179e6);}_0x2a5923['exports']=_0x2672aa,_0x2a5923['exports']['__esModule']=!0x0,_0x2a5923['exports'][_0x523b0c(0x13e)]=_0x2a5923[_0x523b0c(0x220)];},function(_0x35eaab,_0x5429b1,_0x1ca9e5){var _0x43f706=a0_0x4b8e,_0x2d352d=_0x1ca9e5(0x11);_0x35eaab[_0x43f706(0x220)]=function(_0x3189c7,_0x142889){var _0xbb813f=_0x43f706;if(_0xbb813f(0x14e)!=typeof _0x142889&&null!==_0x142889)throw new TypeError(_0xbb813f(0x238));Object[_0xbb813f(0x166)](_0x3189c7,'prototype',{'value':Object[_0xbb813f(0x28c)](_0x142889&&_0x142889[_0xbb813f(0x1d8)],{'constructor':{'value':_0x3189c7,'writable':!0x0,'configurable':!0x0}}),'writable':!0x1}),_0x142889&&_0x2d352d(_0x3189c7,_0x142889);},_0x35eaab[_0x43f706(0x220)][_0x43f706(0x174)]=!0x0,_0x35eaab[_0x43f706(0x220)]['default']=_0x35eaab[_0x43f706(0x220)];},function(_0x4133f2,_0x299f0f,_0x198b11){var _0x345b6a=a0_0x4b8e,_0x55b905=_0x198b11(0x12)[_0x345b6a(0x13e)],_0x24ea3b=_0x198b11(0x13);_0x4133f2['exports']=function(_0x1a2a6c,_0x551798){var _0x4f07f5=_0x345b6a;if(_0x551798&&(_0x4f07f5(0x270)===_0x55b905(_0x551798)||_0x4f07f5(0x14e)==typeof _0x551798))return _0x551798;if(void 0x0!==_0x551798)throw new TypeError(_0x4f07f5(0x1ea));return _0x24ea3b(_0x1a2a6c);},_0x4133f2[_0x345b6a(0x220)][_0x345b6a(0x174)]=!0x0,_0x4133f2['exports']['default']=_0x4133f2['exports'];},function(_0x44d4c2,_0x1150a9){var _0x1b2184=a0_0x4b8e;_0x44d4c2[_0x1b2184(0x220)]=_0x1b2184(0x194);},function(_0x25a357,_0x5de719){var _0x4f5b78=a0_0x4b8e;_0x25a357[_0x4f5b78(0x220)]=_0x4f5b78(0x27a);},function(_0x58463f,_0xa87f01){var _0x4dd393=a0_0x4b8e;_0x58463f[_0x4dd393(0x220)]='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}';},function(_0x50f1bb,_0x314495){var _0x30a7cf=a0_0x4b8e;_0x50f1bb[_0x30a7cf(0x220)]=_0x30a7cf(0x22b);},function(_0x101b0d,_0x1c0ada){var _0x33ab97=a0_0x4b8e;_0x101b0d['exports']=_0x33ab97(0x1d5);},function(_0x3d2ad2,_0x188471){var _0x3220db=a0_0x4b8e;_0x3d2ad2['exports']=_0x3220db(0x1b4);},function(_0x29745f,_0x27a1bb){var _0x6ac84d=a0_0x4b8e;_0x29745f[_0x6ac84d(0x220)]='uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}';},function(_0x594b25,_0x105e50){var _0x8ba829=a0_0x4b8e;_0x594b25['exports']=_0x8ba829(0x1e9);},function(_0x453a07,_0x231d82){var _0x460e6f=a0_0x4b8e;_0x453a07[_0x460e6f(0x220)]=_0x460e6f(0x1ff);},function(_0x3d3dab,_0x3ad216){var _0x3f1e32=a0_0x4b8e;_0x3d3dab[_0x3f1e32(0x220)]='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';},function(_0x2adb73,_0xf2c37b){var _0x45b356=a0_0x4b8e;function _0x36b337(_0x13680c,_0x30b046){var _0xe3ea96=a0_0x4b8e;return _0x2adb73[_0xe3ea96(0x220)]=_0x36b337=Object[_0xe3ea96(0x158)]||function(_0x1f7ea5,_0x16b1ad){var _0x2f3376=_0xe3ea96;return _0x1f7ea5[_0x2f3376(0x23c)]=_0x16b1ad,_0x1f7ea5;},_0x2adb73[_0xe3ea96(0x220)]['__esModule']=!0x0,_0x2adb73[_0xe3ea96(0x220)]['default']=_0x2adb73[_0xe3ea96(0x220)],_0x36b337(_0x13680c,_0x30b046);}_0x2adb73[_0x45b356(0x220)]=_0x36b337,_0x2adb73[_0x45b356(0x220)][_0x45b356(0x174)]=!0x0,_0x2adb73[_0x45b356(0x220)][_0x45b356(0x13e)]=_0x2adb73['exports'];},function(_0xd63929,_0x3ffc74){var _0x2f59e1=a0_0x4b8e;function _0x5a6998(_0x3c1663){var _0x41967d=a0_0x4b8e;return _0xd63929[_0x41967d(0x220)]=_0x5a6998='function'==typeof Symbol&&_0x41967d(0x1b2)==typeof Symbol['iterator']?function(_0x3df279){return typeof _0x3df279;}:function(_0x5b9c49){var _0x16cf9d=_0x41967d;return _0x5b9c49&&'function'==typeof Symbol&&_0x5b9c49['constructor']===Symbol&&_0x5b9c49!==Symbol[_0x16cf9d(0x1d8)]?_0x16cf9d(0x1b2):typeof _0x5b9c49;},_0xd63929['exports'][_0x41967d(0x174)]=!0x0,_0xd63929['exports'][_0x41967d(0x13e)]=_0xd63929[_0x41967d(0x220)],_0x5a6998(_0x3c1663);}_0xd63929[_0x2f59e1(0x220)]=_0x5a6998,_0xd63929['exports']['__esModule']=!0x0,_0xd63929['exports']['default']=_0xd63929[_0x2f59e1(0x220)];},function(_0xbfab5,_0x150106){var _0xbda98=a0_0x4b8e;_0xbfab5['exports']=function(_0x3d9ef6){var _0x5d58f9=a0_0x4b8e;if(void 0x0===_0x3d9ef6)throw new ReferenceError(_0x5d58f9(0x1be));return _0x3d9ef6;},_0xbfab5[_0xbda98(0x220)][_0xbda98(0x174)]=!0x0,_0xbfab5[_0xbda98(0x220)]['default']=_0xbfab5[_0xbda98(0x220)];},function(_0x4bdf07,_0x1b35ce,_0x13d8cc){'use strict';var _0x1bf4d0=a0_0x4b8e;_0x13d8cc['r'](_0x1b35ce),_0x13d8cc['d'](_0x1b35ce,_0x1bf4d0(0x1ee),function(){return _0x45e421;}),_0x13d8cc['d'](_0x1b35ce,_0x1bf4d0(0x151),function(){return _0x2f3f52;}),_0x13d8cc['d'](_0x1b35ce,_0x1bf4d0(0x122),function(){return _0x22f9eb;});var _0x22f9eb={};_0x13d8cc['r'](_0x22f9eb),_0x13d8cc['d'](_0x22f9eb,_0x1bf4d0(0x16f),function(){return _0x5313d3;}),_0x13d8cc['d'](_0x22f9eb,_0x1bf4d0(0x246),function(){return _0x373106;}),_0x13d8cc['d'](_0x22f9eb,'getSpeed',function(){return _0x1ae4c4;}),_0x13d8cc['d'](_0x22f9eb,_0x1bf4d0(0x197),function(){return _0x578106;});var _0x19e9c8=_0x13d8cc(0x1),_0x5215f1=_0x13d8cc(0x2),_0xd0debf=_0x13d8cc['n'](_0x5215f1),_0xebc9ae=_0x13d8cc(0x3),_0x2f7918=_0x13d8cc['n'](_0xebc9ae),_0x3a73e1=_0x13d8cc(0x5),_0x4f00cf=_0x13d8cc['n'](_0x3a73e1),_0x97d014=_0x13d8cc(0x6),_0x22380b=_0x13d8cc['n'](_0x97d014),_0x1863f9=_0x13d8cc(0x4),_0x1dd8ae=_0x13d8cc['n'](_0x1863f9),_0x5acf77=_0x13d8cc(0x0),_0x4536df=(function(){var _0xc46634=_0x1bf4d0;function _0x4193e5(_0x537dc7){var _0x47ef38=a0_0x4b8e;_0xd0debf()(this,_0x4193e5),this[_0x47ef38(0x17f)]=_0x537dc7[_0x47ef38(0x17f)],this[_0x47ef38(0x164)]=_0x537dc7[_0x47ef38(0x164)],this['attributeLocations']=_0x537dc7[_0x47ef38(0x140)],this['primitiveType']=_0x537dc7['primitiveType'],this[_0x47ef38(0x221)]=_0x537dc7['uniformMap'],this[_0x47ef38(0x18f)]=_0x537dc7[_0x47ef38(0x18f)],this[_0x47ef38(0x284)]=_0x537dc7[_0x47ef38(0x284)],this[_0x47ef38(0x181)]=_0x537dc7[_0x47ef38(0x181)],this['framebuffer']=_0x537dc7['framebuffer'],this[_0x47ef38(0x217)]=_0x537dc7['outputTexture'],this[_0x47ef38(0x1b7)]=_0x5acf77['defaultValue'](_0x537dc7[_0x47ef38(0x1b7)],!0x1),this['preExecute']=_0x537dc7[_0x47ef38(0x13c)],this['show']=!0x0,this[_0x47ef38(0x12e)]=void 0x0,this['clearCommand']=void 0x0,this[_0x47ef38(0x1b7)]&&(this[_0x47ef38(0x244)]=new _0x5acf77[(_0x47ef38(0x24a))]({'color':new _0x5acf77[(_0x47ef38(0x280))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x47ef38(0x22c)],'pass':_0x5acf77['Pass'][_0x47ef38(0x233)]}));}return _0x2f7918()(_0x4193e5,[{'key':_0xc46634(0x243),'value':function(_0x21d57e){var _0xcb5f54=_0xc46634;switch(this['commandType']){case _0xcb5f54(0x235):var _0x3c476f=_0x5acf77['VertexArray']['fromGeometry']({'context':_0x21d57e,'geometry':this[_0xcb5f54(0x164)],'attributeLocations':this[_0xcb5f54(0x140)],'bufferUsage':_0x5acf77[_0xcb5f54(0x1d3)][_0xcb5f54(0x282)]}),_0x1eccba=_0x5acf77['ShaderProgram']['fromCache']({'context':_0x21d57e,'attributeLocations':this[_0xcb5f54(0x140)],'vertexShaderSource':this[_0xcb5f54(0x18f)],'fragmentShaderSource':this[_0xcb5f54(0x284)]}),_0x4022f0=_0x5acf77['RenderState'][_0xcb5f54(0x14a)](this['rawRenderState']);return new _0x5acf77[(_0xcb5f54(0x1dc))]({'owner':this,'vertexArray':_0x3c476f,'primitiveType':this['primitiveType'],'uniformMap':this[_0xcb5f54(0x221)],'modelMatrix':_0x5acf77[_0xcb5f54(0x1f1)][_0xcb5f54(0x287)],'shaderProgram':_0x1eccba,'framebuffer':this[_0xcb5f54(0x22c)],'renderState':_0x4022f0,'pass':_0x5acf77['Pass'][_0xcb5f54(0x233)]});case'Compute':return new _0x5acf77['ComputeCommand']({'owner':this,'fragmentShaderSource':this[_0xcb5f54(0x284)],'uniformMap':this[_0xcb5f54(0x221)],'outputTexture':this[_0xcb5f54(0x217)],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x45c95c,_0x13a86d){var _0x30cb91=_0xc46634;this[_0x30cb91(0x164)]=_0x13a86d;var _0x5dce90=_0x5acf77['VertexArray'][_0x30cb91(0x258)]({'context':_0x45c95c,'geometry':this['geometry'],'attributeLocations':this[_0x30cb91(0x140)],'bufferUsage':_0x5acf77[_0x30cb91(0x1d3)][_0x30cb91(0x282)]});this[_0x30cb91(0x12e)]['vertexArray']=_0x5dce90;}},{'key':_0xc46634(0x182),'value':function(_0x4057f3){var _0x14a4d2=_0xc46634;this[_0x14a4d2(0x256)]&&_0x4057f3[_0x14a4d2(0x222)]==_0x5acf77[_0x14a4d2(0x228)]['SCENE3D']&&(_0x5acf77['defined'](this[_0x14a4d2(0x12e)])||(this['commandToExecute']=this[_0x14a4d2(0x243)](_0x4057f3[_0x14a4d2(0x240)])),_0x5acf77[_0x14a4d2(0x11d)](this[_0x14a4d2(0x13c)])&&this[_0x14a4d2(0x13c)](),_0x5acf77[_0x14a4d2(0x11d)](this[_0x14a4d2(0x244)])&&_0x4057f3[_0x14a4d2(0x225)]['push'](this[_0x14a4d2(0x244)]),_0x4057f3[_0x14a4d2(0x225)][_0x14a4d2(0x1a6)](this['commandToExecute']));}},{'key':_0xc46634(0x24e),'value':function(){return!0x1;}},{'key':_0xc46634(0x292),'value':function(){var _0x518f0c=_0xc46634;return _0x5acf77['defined'](this[_0x518f0c(0x12e)])&&(this['commandToExecute'][_0x518f0c(0x144)]=this[_0x518f0c(0x12e)][_0x518f0c(0x144)]&&this[_0x518f0c(0x12e)]['shaderProgram']['destroy']()),_0x5acf77[_0x518f0c(0x299)](this);}}]),_0x4193e5;}()),_0x40d538={'getFullscreenQuad':function(){var _0xe27442=_0x1bf4d0;return new _0x5acf77[(_0xe27442(0x148))]({'attributes':new _0x5acf77[(_0xe27442(0x14c))]({'position':new _0x5acf77['GeometryAttribute']({'componentDatatype':_0x5acf77[_0xe27442(0x286)][_0xe27442(0x14f)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x5acf77[(_0xe27442(0x230))]({'componentDatatype':_0x5acf77[_0xe27442(0x286)][_0xe27442(0x14f)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x3296c4,_0xa6aee9){var _0x5405dd=_0x1bf4d0;if(_0x5acf77[_0x5405dd(0x11d)](_0xa6aee9)){var _0x469310={};_0x469310[_0x5405dd(0x223)]=_0xa6aee9,_0x3296c4[_0x5405dd(0x20e)]=_0x469310;}return new _0x5acf77[(_0x5405dd(0x171))](_0x3296c4);},'createFramebuffer':function(_0x51509e,_0x58b426,_0x123b50){return new _0x5acf77['Framebuffer']({'context':_0x51509e,'colorTextures':[_0x58b426],'depthTexture':_0x123b50});},'createRawRenderState':function(_0x1aaf70){var _0x1d4852=_0x1bf4d0,_0x83578c={'viewport':_0x1aaf70[_0x1d4852(0x1d9)],'depthTest':_0x1aaf70['depthTest'],'depthMask':_0x1aaf70['depthMask'],'blending':_0x1aaf70[_0x1d4852(0x131)]};return _0x5acf77[_0x1d4852(0x162)][_0x1d4852(0x15c)](!0x0,!0x1,_0x83578c);},'viewRectangleToLonLatRange':function(_0x25a10d){var _0x51c85f=_0x1bf4d0,_0xc8049b,_0x5e6e0c,_0x163bcf={},_0x5623ab=_0x5acf77['Math'][_0x51c85f(0x141)](_0x25a10d[_0x51c85f(0x28f)],_0x5acf77[_0x51c85f(0x1b1)]['TWO_PI']),_0x462ddd=_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x141)](_0x25a10d[_0x51c85f(0x25d)],_0x5acf77['Math'][_0x51c85f(0x14d)]),_0x104f46=_0x25a10d[_0x51c85f(0x1fd)];_0x104f46>_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x143)]?(_0xc8049b=0x0,_0x5e6e0c=_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x14d)]):_0x462ddd-_0x5623ab<_0x104f46?(_0xc8049b=_0x5623ab,_0x5e6e0c=_0x5623ab+_0x104f46):(_0xc8049b=_0x5623ab,_0x5e6e0c=_0x462ddd),_0x163bcf[_0x51c85f(0x1f8)]={'min':_0x5acf77[_0x51c85f(0x1b1)]['toDegrees'](_0xc8049b),'max':_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x137)](_0x5e6e0c)};var _0x44c818=_0x25a10d[_0x51c85f(0x209)],_0x3d7413=_0x25a10d[_0x51c85f(0x285)],_0x2bf2ea=_0x25a10d[_0x51c85f(0x259)],_0x20c705=_0x2bf2ea>_0x5acf77['Math']['PI']/0xc?_0x2bf2ea/0x2:0x0,_0x33786f=_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x176)](_0x44c818-_0x20c705),_0x48e2fd=_0x5acf77[_0x51c85f(0x1b1)]['clampToLatitudeRange'](_0x3d7413+_0x20c705);return _0x33786f<-_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x1bf)]&&(_0x33786f=-_0x5acf77['Math'][_0x51c85f(0x242)]),_0x48e2fd>_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x1bf)]&&(_0x48e2fd=_0x5acf77['Math'][_0x51c85f(0x242)]),_0x163bcf[_0x51c85f(0x136)]={'min':_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x137)](_0x33786f),'max':_0x5acf77[_0x51c85f(0x1b1)][_0x51c85f(0x137)](_0x48e2fd)},_0x163bcf;}},_0x5009ab=_0x13d8cc(0x8),_0x58a378=_0x13d8cc['n'](_0x5009ab),_0x426a91=_0x13d8cc(0x9),_0x4aaa51=_0x13d8cc['n'](_0x426a91),_0x4cb300=_0x13d8cc(0x7),_0x391dd8=_0x13d8cc['n'](_0x4cb300),_0x22dece=_0x13d8cc(0xa),_0x32766c=_0x13d8cc['n'](_0x22dece),_0x156fc8=_0x13d8cc(0xb),_0x38928e=_0x13d8cc['n'](_0x156fc8),_0x326681=(function(){var _0x16d5da=_0x1bf4d0;function _0x11bbdd(_0x148d8d,_0x4681ae,_0x2b5299,_0x4a9e58,_0x20ff4a){var _0x34a62b=a0_0x4b8e;_0xd0debf()(this,_0x11bbdd),this[_0x34a62b(0x26d)](_0x148d8d,_0x4681ae),this[_0x34a62b(0x231)](_0x148d8d),this['createRenderingPrimitives'](_0x148d8d,_0x2b5299,_0x4a9e58,_0x20ff4a);}return _0x2f7918()(_0x11bbdd,[{'key':'createRenderingTextures','value':function(_0x41d38b,_0x2364e0){var _0x1e32dc=a0_0x4b8e,_0xf44460={'context':_0x41d38b,'width':_0x41d38b[_0x1e32dc(0x190)],'height':_0x41d38b[_0x1e32dc(0x1a5)],'pixelFormat':_0x5acf77['PixelFormat'][_0x1e32dc(0x27c)],'pixelDatatype':_0x5acf77[_0x1e32dc(0x1e3)][_0x1e32dc(0x124)]},_0x1d1ec8={'context':_0x41d38b,'width':_0x41d38b['drawingBufferWidth'],'height':_0x41d38b['drawingBufferHeight'],'pixelFormat':_0x5acf77[_0x1e32dc(0x16b)][_0x1e32dc(0x1d7)],'pixelDatatype':_0x5acf77[_0x1e32dc(0x1e3)]['UNSIGNED_INT']},_0x1ec486={'context':_0x41d38b,'width':_0x2364e0['colorTable'][_0x1e32dc(0x236)],'height':0x1,'pixelFormat':_0x5acf77[_0x1e32dc(0x16b)][_0x1e32dc(0x1cd)],'pixelDatatype':_0x5acf77[_0x1e32dc(0x1e3)][_0x1e32dc(0x14f)],'sampler':new _0x5acf77[(_0x1e32dc(0x227))]({'minificationFilter':_0x5acf77[_0x1e32dc(0x17d)][_0x1e32dc(0x149)],'magnificationFilter':_0x5acf77[_0x1e32dc(0x12c)][_0x1e32dc(0x149)]})};this[_0x1e32dc(0x23b)]={'segmentsColor':_0x40d538[_0x1e32dc(0x25c)](_0xf44460),'segmentsDepth':_0x40d538[_0x1e32dc(0x25c)](_0x1d1ec8),'currentTrailsColor':_0x40d538[_0x1e32dc(0x25c)](_0xf44460),'currentTrailsDepth':_0x40d538[_0x1e32dc(0x25c)](_0x1d1ec8),'nextTrailsColor':_0x40d538['createTexture'](_0xf44460),'nextTrailsDepth':_0x40d538[_0x1e32dc(0x25c)](_0x1d1ec8),'colorTable':_0x40d538[_0x1e32dc(0x25c)](_0x1ec486,_0x2364e0[_0x1e32dc(0x24b)][_0x1e32dc(0x184)])};}},{'key':_0x16d5da(0x231),'value':function(_0x317c8a){var _0x110e0=_0x16d5da;this[_0x110e0(0x147)]={'segments':_0x40d538[_0x110e0(0x23d)](_0x317c8a,this[_0x110e0(0x23b)][_0x110e0(0x177)],this[_0x110e0(0x23b)][_0x110e0(0x1a4)]),'currentTrails':_0x40d538[_0x110e0(0x23d)](_0x317c8a,this['textures'][_0x110e0(0x156)],this['textures']['currentTrailsDepth']),'nextTrails':_0x40d538['createFramebuffer'](_0x317c8a,this[_0x110e0(0x23b)][_0x110e0(0x20f)],this[_0x110e0(0x23b)][_0x110e0(0x1c8)])};}},{'key':_0x16d5da(0x17b),'value':function(_0x2e7b84){var _0x35a07f=_0x16d5da;for(var _0x388595=[],_0x15448c=0x0;_0x15448c<_0x2e7b84[_0x35a07f(0x24d)];_0x15448c++)for(var _0x41c6b3=0x0;_0x41c6b3<_0x2e7b84[_0x35a07f(0x24d)];_0x41c6b3++)for(var _0x4634f0=0x0;_0x4634f0<0x4;_0x4634f0++)_0x388595['push'](_0x15448c/_0x2e7b84['particlesTextureSize']),_0x388595[_0x35a07f(0x1a6)](_0x41c6b3/_0x2e7b84[_0x35a07f(0x24d)]);_0x388595=new Float32Array(_0x388595);for(var _0xdfab13=[],_0x4ee4fa=[-0x1,0x1],_0x1c7ec9=[-0x1,0x1],_0x1c39cf=0x0;_0x1c39cf<_0x2e7b84['maxParticles'];_0x1c39cf++)for(var _0x259a7d=0x0;_0x259a7d<0x2;_0x259a7d++)for(var _0x3aab84=0x0;_0x3aab84<0x2;_0x3aab84++)_0xdfab13[_0x35a07f(0x1a6)](_0x4ee4fa[_0x259a7d]),_0xdfab13[_0x35a07f(0x1a6)](_0x1c7ec9[_0x3aab84]),_0xdfab13[_0x35a07f(0x1a6)](0x0);_0xdfab13=new Float32Array(_0xdfab13);for(var _0x19168b=0x6*_0x2e7b84[_0x35a07f(0x1ef)],_0x273a11=new Uint32Array(_0x19168b),_0x4a4503=0x0,_0x5c6a85=0x0,_0x44ca7e=0x0;_0x4a4503<_0x2e7b84[_0x35a07f(0x1ef)];_0x4a4503++)_0x273a11[_0x5c6a85++]=_0x44ca7e+0x0,_0x273a11[_0x5c6a85++]=_0x44ca7e+0x1,_0x273a11[_0x5c6a85++]=_0x44ca7e+0x2,_0x273a11[_0x5c6a85++]=_0x44ca7e+0x2,_0x273a11[_0x5c6a85++]=_0x44ca7e+0x1,_0x273a11[_0x5c6a85++]=_0x44ca7e+0x3,_0x44ca7e+=0x4;return new _0x5acf77['Geometry']({'attributes':new _0x5acf77[(_0x35a07f(0x14c))]({'st':new _0x5acf77[(_0x35a07f(0x230))]({'componentDatatype':_0x5acf77[_0x35a07f(0x286)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0x388595}),'normal':new _0x5acf77[(_0x35a07f(0x230))]({'componentDatatype':_0x5acf77[_0x35a07f(0x286)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0xdfab13})}),'indices':_0x273a11});}},{'key':'createRenderingPrimitives','value':function(_0x4a0488,_0xb28e4b,_0x1cfe56,_0x35c431){var _0x5eceb8=_0x16d5da,_0x8f01a5=this;this[_0x5eceb8(0x19c)]={'segments':new _0x4536df({'commandType':_0x5eceb8(0x235),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x5eceb8(0x17b)](_0xb28e4b),'primitiveType':_0x5acf77[_0x5eceb8(0x12d)][_0x5eceb8(0x1f2)],'uniformMap':{'currentParticlesPosition':function(){var _0xa05ce=_0x5eceb8;return _0x35c431[_0xa05ce(0x1cb)][_0xa05ce(0x188)];},'postProcessingPosition':function(){var _0x28eff3=_0x5eceb8;return _0x35c431['particlesTextures'][_0x28eff3(0x1fc)];},'postProcessingSpeed':function(){var _0x2ea104=_0x5eceb8;return _0x35c431[_0x2ea104(0x1cb)][_0x2ea104(0x19a)];},'colorTable':function(){var _0x130438=_0x5eceb8;return _0x8f01a5[_0x130438(0x23b)][_0x130438(0x24b)];},'aspect':function(){var _0x337960=_0x5eceb8;return _0x4a0488[_0x337960(0x190)]/_0x4a0488['drawingBufferHeight'];},'pixelSize':function(){var _0x50a620=_0x5eceb8;return _0x1cfe56[_0x50a620(0x161)];},'lineWidth':function(){var _0x19bee9=_0x5eceb8;return _0xb28e4b[_0x19bee9(0x275)];},'particleHeight':function(){var _0x1d1e22=_0x5eceb8;return _0xb28e4b[_0x1d1e22(0x27e)];}},'vertexShaderSource':new _0x5acf77[(_0x5eceb8(0x1e2))]({'sources':[_0x58a378['a']]}),'fragmentShaderSource':new _0x5acf77[(_0x5eceb8(0x1e2))]({'sources':[_0x4aaa51['a']]}),'rawRenderState':_0x40d538['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x5eceb8(0x147)][_0x5eceb8(0x1a9)],'autoClear':!0x0}),'trails':new _0x4536df({'commandType':_0x5eceb8(0x235),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x40d538['getFullscreenQuad'](),'primitiveType':_0x5acf77[_0x5eceb8(0x12d)][_0x5eceb8(0x1f2)],'uniformMap':{'segmentsColorTexture':function(){var _0x5d8d46=_0x5eceb8;return _0x8f01a5[_0x5d8d46(0x23b)][_0x5d8d46(0x177)];},'segmentsDepthTexture':function(){var _0x1a1648=_0x5eceb8;return _0x8f01a5[_0x1a1648(0x23b)][_0x1a1648(0x1a4)];},'currentTrailsColor':function(){var _0x48edbc=_0x5eceb8;return _0x8f01a5[_0x48edbc(0x147)]['currentTrails'][_0x48edbc(0x15b)](0x0);},'trailsDepthTexture':function(){var _0x288651=_0x5eceb8;return _0x8f01a5[_0x288651(0x147)]['currentTrails'][_0x288651(0x257)];},'fadeOpacity':function(){var _0x5c67ff=_0x5eceb8;return _0xb28e4b[_0x5c67ff(0x15a)];}},'vertexShaderSource':new _0x5acf77[(_0x5eceb8(0x1e2))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x391dd8['a']]}),'fragmentShaderSource':new _0x5acf77[(_0x5eceb8(0x1e2))]({'defines':[_0x5eceb8(0x26f)],'sources':[_0x32766c['a']]}),'rawRenderState':_0x40d538[_0x5eceb8(0x18c)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x5acf77[_0x5eceb8(0x199)][_0x5eceb8(0x198)]},'depthMask':!0x0}),'framebuffer':this[_0x5eceb8(0x147)][_0x5eceb8(0x1c6)],'autoClear':!0x0,'preExecute':function(){var _0x2775a4=_0x5eceb8,_0x4c0a9e;_0x4c0a9e=_0x8f01a5['framebuffers'][_0x2775a4(0x249)],_0x8f01a5[_0x2775a4(0x147)][_0x2775a4(0x249)]=_0x8f01a5['framebuffers'][_0x2775a4(0x1c6)],_0x8f01a5['framebuffers'][_0x2775a4(0x1c6)]=_0x4c0a9e,_0x8f01a5['primitives']['trails']['commandToExecute']['framebuffer']=_0x8f01a5[_0x2775a4(0x147)][_0x2775a4(0x1c6)],_0x8f01a5['primitives'][_0x2775a4(0x1c5)][_0x2775a4(0x244)][_0x2775a4(0x22c)]=_0x8f01a5[_0x2775a4(0x147)][_0x2775a4(0x1c6)];}}),'screen':new _0x4536df({'commandType':'Draw','attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x40d538[_0x5eceb8(0x263)](),'primitiveType':_0x5acf77[_0x5eceb8(0x12d)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){var _0x56c245=_0x5eceb8;return _0x8f01a5[_0x56c245(0x147)]['nextTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x46cdd1=_0x5eceb8;return _0x8f01a5['framebuffers'][_0x46cdd1(0x1c6)][_0x46cdd1(0x257)];}},'vertexShaderSource':new _0x5acf77['ShaderSource']({'defines':[_0x5eceb8(0x297)],'sources':[_0x391dd8['a']]}),'fragmentShaderSource':new _0x5acf77[(_0x5eceb8(0x1e2))]({'defines':[_0x5eceb8(0x26f)],'sources':[_0x38928e['a']]}),'rawRenderState':_0x40d538[_0x5eceb8(0x18c)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x11bbdd;}()),_0x119d27=_0x13d8cc(0xc),_0x5828d0=_0x13d8cc['n'](_0x119d27),_0x2847be=_0x13d8cc(0xd),_0x747dbc=_0x13d8cc['n'](_0x2847be),_0x28d660=_0x13d8cc(0xe),_0x482687=_0x13d8cc['n'](_0x28d660),_0x4e8731=_0x13d8cc(0xf),_0x486358=_0x13d8cc['n'](_0x4e8731),_0x212625=_0x13d8cc(0x10),_0x3ebd63=_0x13d8cc['n'](_0x212625),_0x3d630c=(function(){var _0x22225c=_0x1bf4d0;function _0x351a52(_0x26a563,_0x5d4009,_0x15c669,_0x48ea51){var _0x41af26=a0_0x4b8e;_0xd0debf()(this,_0x351a52),this[_0x41af26(0x27d)]=_0x5d4009,this[_0x41af26(0x129)](_0x26a563,_0x5d4009),this[_0x41af26(0x201)](_0x26a563,_0x15c669,_0x48ea51),this['createComputingPrimitives'](_0x5d4009,_0x15c669,_0x48ea51);}return _0x2f7918()(_0x351a52,[{'key':_0x22225c(0x129),'value':function(_0x225dc5,_0xd6fc00){var _0x4397d2=_0x22225c,_0x569bb4={'context':_0x225dc5,'width':_0xd6fc00[_0x4397d2(0x26e)][_0x4397d2(0x1f8)],'height':_0xd6fc00[_0x4397d2(0x26e)]['lat']*_0xd6fc00[_0x4397d2(0x26e)][_0x4397d2(0x159)],'pixelFormat':_0x5acf77[_0x4397d2(0x16b)][_0x4397d2(0x277)],'pixelDatatype':_0x5acf77[_0x4397d2(0x1e3)][_0x4397d2(0x14f)],'flipY':!0x1,'sampler':new _0x5acf77[(_0x4397d2(0x227))]({'minificationFilter':_0x5acf77[_0x4397d2(0x17d)]['NEAREST'],'magnificationFilter':_0x5acf77[_0x4397d2(0x12c)][_0x4397d2(0x268)]})};this[_0x4397d2(0x173)]={'U':_0x40d538['createTexture'](_0x569bb4,_0xd6fc00['U'][_0x4397d2(0x184)]),'V':_0x40d538[_0x4397d2(0x25c)](_0x569bb4,_0xd6fc00['V']['array'])};}},{'key':_0x22225c(0x201),'value':function(_0x5eda40,_0x47b2d6,_0x5620a1){var _0x33d9ef=_0x22225c,_0x3b30fb={'context':_0x5eda40,'width':_0x47b2d6['particlesTextureSize'],'height':_0x47b2d6[_0x33d9ef(0x24d)],'pixelFormat':_0x5acf77['PixelFormat']['RGBA'],'pixelDatatype':_0x5acf77['PixelDatatype']['FLOAT'],'flipY':!0x1,'sampler':new _0x5acf77[(_0x33d9ef(0x227))]({'minificationFilter':_0x5acf77['TextureMinificationFilter']['NEAREST'],'magnificationFilter':_0x5acf77[_0x33d9ef(0x12c)][_0x33d9ef(0x268)]})},_0xd8e1e0=this['randomizeParticles'](_0x47b2d6[_0x33d9ef(0x1ef)],_0x5620a1),_0x3b1e83=new Float32Array(0x4*_0x47b2d6[_0x33d9ef(0x1ef)])['fill'](0x0);this[_0x33d9ef(0x1cb)]={'particlesWind':_0x40d538[_0x33d9ef(0x25c)](_0x3b30fb),'currentParticlesPosition':_0x40d538[_0x33d9ef(0x25c)](_0x3b30fb,_0xd8e1e0),'nextParticlesPosition':_0x40d538[_0x33d9ef(0x25c)](_0x3b30fb,_0xd8e1e0),'currentParticlesSpeed':_0x40d538[_0x33d9ef(0x25c)](_0x3b30fb,_0x3b1e83),'nextParticlesSpeed':_0x40d538['createTexture'](_0x3b30fb,_0x3b1e83),'postProcessingPosition':_0x40d538[_0x33d9ef(0x25c)](_0x3b30fb,_0xd8e1e0),'postProcessingSpeed':_0x40d538['createTexture'](_0x3b30fb,_0x3b1e83)};}},{'key':_0x22225c(0x1f6),'value':function(_0x216ada,_0x7afdbd){var _0x5be533=_0x22225c;for(var _0x32fdfe=new Float32Array(0x4*_0x216ada),_0x545f7a=0x0;_0x545f7a<_0x216ada;_0x545f7a++)_0x32fdfe[0x4*_0x545f7a]=_0x5acf77[_0x5be533(0x1b1)][_0x5be533(0x1fa)](_0x7afdbd[_0x5be533(0x21a)]['x'],_0x7afdbd[_0x5be533(0x21a)]['y']),_0x32fdfe[0x4*_0x545f7a+0x1]=_0x5acf77[_0x5be533(0x1b1)][_0x5be533(0x1fa)](_0x7afdbd[_0x5be533(0x19d)]['x'],_0x7afdbd[_0x5be533(0x19d)]['y']),_0x32fdfe[0x4*_0x545f7a+0x2]=_0x5acf77[_0x5be533(0x1b1)][_0x5be533(0x1fa)](this[_0x5be533(0x27d)][_0x5be533(0x159)][_0x5be533(0x295)],this['data'][_0x5be533(0x159)][_0x5be533(0x191)]),_0x32fdfe[0x4*_0x545f7a+0x3]=0x0;return _0x32fdfe;}},{'key':_0x22225c(0x157),'value':function(){var _0x513efc=_0x22225c,_0x1d77d6=this;Object['keys'](this[_0x513efc(0x1cb)])[_0x513efc(0x262)](function(_0xa69e30){var _0x222070=_0x513efc;_0x1d77d6[_0x222070(0x1cb)][_0xa69e30]['destroy']();});}},{'key':'createComputingPrimitives','value':function(_0x4fdd8f,_0x2ca96b,_0x458369){var _0x551a36=_0x22225c,_0x175487=new _0x5acf77[(_0x551a36(0x1c1))](_0x4fdd8f[_0x551a36(0x26e)]['lon'],_0x4fdd8f[_0x551a36(0x26e)][_0x551a36(0x136)],_0x4fdd8f['dimensions'][_0x551a36(0x159)]),_0x4751b4=new _0x5acf77['Cartesian3'](_0x4fdd8f[_0x551a36(0x1f8)]['min'],_0x4fdd8f['lat'][_0x551a36(0x295)],_0x4fdd8f[_0x551a36(0x159)]['min']),_0x59211=new _0x5acf77[(_0x551a36(0x1c1))](_0x4fdd8f['lon'][_0x551a36(0x191)],_0x4fdd8f[_0x551a36(0x136)]['max'],_0x4fdd8f[_0x551a36(0x159)][_0x551a36(0x191)]),_0x421876=new _0x5acf77[(_0x551a36(0x1c1))]((_0x59211['x']-_0x4751b4['x'])/(_0x175487['x']-0x1),(_0x59211['y']-_0x4751b4['y'])/(_0x175487['y']-0x1),_0x175487['z']>0x1?(_0x59211['z']-_0x4751b4['z'])/(_0x175487['z']-0x1):0x1),_0x28f347=new _0x5acf77[(_0x551a36(0x120))](_0x4fdd8f['U'][_0x551a36(0x295)],_0x4fdd8f['U'][_0x551a36(0x191)]),_0x67a86b=new _0x5acf77['Cartesian2'](_0x4fdd8f['V'][_0x551a36(0x295)],_0x4fdd8f['V']['max']),_0x3e7d43=this;this[_0x551a36(0x19c)]={'getWind':new _0x4536df({'commandType':_0x551a36(0x15f),'uniformMap':{'U':function(){var _0x192ad2=_0x551a36;return _0x3e7d43[_0x192ad2(0x173)]['U'];},'V':function(){var _0x8ca88e=_0x551a36;return _0x3e7d43[_0x8ca88e(0x173)]['V'];},'currentParticlesPosition':function(){var _0x245ddd=_0x551a36;return _0x3e7d43[_0x245ddd(0x1cb)][_0x245ddd(0x188)];},'dimension':function(){return _0x175487;},'minimum':function(){return _0x4751b4;},'maximum':function(){return _0x59211;},'interval':function(){return _0x421876;}},'fragmentShaderSource':new _0x5acf77[(_0x551a36(0x1e2))]({'sources':[_0x5828d0['a']]}),'outputTexture':this[_0x551a36(0x1cb)][_0x551a36(0x1c3)],'preExecute':function(){var _0x5c327e=_0x551a36;_0x3e7d43[_0x5c327e(0x19c)]['getWind'][_0x5c327e(0x12e)][_0x5c327e(0x217)]=_0x3e7d43[_0x5c327e(0x1cb)][_0x5c327e(0x1c3)];}}),'updateSpeed':new _0x4536df({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function(){var _0x36c433=_0x551a36;return _0x3e7d43[_0x36c433(0x1cb)]['currentParticlesSpeed'];},'particlesWind':function(){var _0x3491a2=_0x551a36;return _0x3e7d43[_0x3491a2(0x1cb)][_0x3491a2(0x1c3)];},'uSpeedRange':function(){return _0x28f347;},'vSpeedRange':function(){return _0x67a86b;},'pixelSize':function(){var _0x51e43d=_0x551a36;return _0x458369[_0x51e43d(0x161)];},'speedFactor':function(){var _0x1b8fc4=_0x551a36;return _0x2ca96b[_0x1b8fc4(0x224)];}},'fragmentShaderSource':new _0x5acf77[(_0x551a36(0x1e2))]({'sources':[_0x747dbc['a']]}),'outputTexture':this[_0x551a36(0x1cb)][_0x551a36(0x248)],'preExecute':function(){var _0x41d448=_0x551a36,_0x37dcf5;_0x37dcf5=_0x3e7d43[_0x41d448(0x1cb)][_0x41d448(0x11f)],_0x3e7d43[_0x41d448(0x1cb)]['currentParticlesSpeed']=_0x3e7d43[_0x41d448(0x1cb)][_0x41d448(0x19a)],_0x3e7d43[_0x41d448(0x1cb)]['postProcessingSpeed']=_0x37dcf5,_0x3e7d43[_0x41d448(0x19c)][_0x41d448(0x12f)]['commandToExecute'][_0x41d448(0x217)]=_0x3e7d43['particlesTextures'][_0x41d448(0x248)];}}),'updatePosition':new _0x4536df({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){var _0x57f4e2=_0x551a36;return _0x3e7d43['particlesTextures'][_0x57f4e2(0x188)];},'currentParticlesSpeed':function(){var _0x14b215=_0x551a36;return _0x3e7d43[_0x14b215(0x1cb)][_0x14b215(0x11f)];}},'fragmentShaderSource':new _0x5acf77[(_0x551a36(0x1e2))]({'sources':[_0x482687['a']]}),'outputTexture':this[_0x551a36(0x1cb)]['nextParticlesPosition'],'preExecute':function(){var _0x4df0b6=_0x551a36,_0x5ed491;_0x5ed491=_0x3e7d43['particlesTextures'][_0x4df0b6(0x188)],_0x3e7d43[_0x4df0b6(0x1cb)][_0x4df0b6(0x188)]=_0x3e7d43[_0x4df0b6(0x1cb)][_0x4df0b6(0x1fc)],_0x3e7d43[_0x4df0b6(0x1cb)][_0x4df0b6(0x1fc)]=_0x5ed491,_0x3e7d43[_0x4df0b6(0x19c)][_0x4df0b6(0x293)][_0x4df0b6(0x12e)]['outputTexture']=_0x3e7d43[_0x4df0b6(0x1cb)][_0x4df0b6(0x212)];}}),'postProcessingPosition':new _0x4536df({'commandType':_0x551a36(0x15f),'uniformMap':{'nextParticlesPosition':function(){var _0x4e8c46=_0x551a36;return _0x3e7d43[_0x4e8c46(0x1cb)][_0x4e8c46(0x212)];},'nextParticlesSpeed':function(){var _0x5040f7=_0x551a36;return _0x3e7d43[_0x5040f7(0x1cb)][_0x5040f7(0x248)];},'lonRange':function(){return _0x458369['lonRange'];},'latRange':function(){var _0x10163a=_0x551a36;return _0x458369[_0x10163a(0x19d)];},'randomCoefficient':function(){var _0x338437=_0x551a36,_0x1a4368=Math[_0x338437(0x126)]();return _0x1a4368;},'dropRate':function(){var _0x356787=_0x551a36;return _0x2ca96b[_0x356787(0x18e)];},'dropRateBump':function(){var _0x1d4024=_0x551a36;return _0x2ca96b[_0x1d4024(0x1f9)];}},'fragmentShaderSource':new _0x5acf77[(_0x551a36(0x1e2))]({'sources':[_0x486358['a']]}),'outputTexture':this['particlesTextures'][_0x551a36(0x1fc)],'preExecute':function(){var _0x3f964f=_0x551a36;_0x3e7d43['primitives'][_0x3f964f(0x1fc)]['commandToExecute'][_0x3f964f(0x217)]=_0x3e7d43[_0x3f964f(0x1cb)][_0x3f964f(0x1fc)];}}),'postProcessingSpeed':new _0x4536df({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){var _0x5b3584=_0x551a36;return _0x3e7d43[_0x5b3584(0x1cb)][_0x5b3584(0x1fc)];},'nextParticlesSpeed':function(){var _0x3d97f3=_0x551a36;return _0x3e7d43[_0x3d97f3(0x1cb)][_0x3d97f3(0x248)];}},'fragmentShaderSource':new _0x5acf77[(_0x551a36(0x1e2))]({'sources':[_0x3ebd63['a']]}),'outputTexture':this[_0x551a36(0x1cb)][_0x551a36(0x19a)],'preExecute':function(){var _0x401251=_0x551a36;_0x3e7d43[_0x401251(0x19c)][_0x401251(0x19a)][_0x401251(0x12e)][_0x401251(0x217)]=_0x3e7d43[_0x401251(0x1cb)][_0x401251(0x19a)];}})};}}]),_0x351a52;}()),_0x192fc9=(function(){var _0x16e789=_0x1bf4d0;function _0xcdf4be(_0x50d0f7,_0x2f6bda,_0x115c56,_0x3639e3){var _0x58d2db=a0_0x4b8e;_0xd0debf()(this,_0xcdf4be),this[_0x58d2db(0x240)]=_0x50d0f7,this[_0x58d2db(0x27d)]=_0x2f6bda,this['userInput']=_0x115c56,this['viewerParameters']=_0x3639e3,this[_0x58d2db(0x208)]=new _0x3d630c(this[_0x58d2db(0x240)],this['data'],this[_0x58d2db(0x27b)],this['viewerParameters']),this[_0x58d2db(0x1ab)]=new _0x326681(this[_0x58d2db(0x240)],this[_0x58d2db(0x27d)],this[_0x58d2db(0x27b)],this[_0x58d2db(0x1b8)],this[_0x58d2db(0x208)]);}return _0x2f7918()(_0xcdf4be,[{'key':_0x16e789(0x150),'value':function(_0x35d243){var _0x10c09a=_0x16e789,_0x361c7f=this;this[_0x10c09a(0x208)][_0x10c09a(0x157)](),Object['keys'](this[_0x10c09a(0x208)][_0x10c09a(0x173)])[_0x10c09a(0x262)](function(_0x49536e){var _0x1b998b=_0x10c09a;_0x361c7f[_0x1b998b(0x208)][_0x1b998b(0x173)][_0x49536e][_0x1b998b(0x292)]();}),this[_0x10c09a(0x1ab)]['textures']['colorTable'][_0x10c09a(0x292)](),Object[_0x10c09a(0x142)](this['particlesRendering']['framebuffers'])['forEach'](function(_0x562eae){var _0x35c9e1=_0x10c09a;_0x361c7f[_0x35c9e1(0x1ab)][_0x35c9e1(0x147)][_0x562eae][_0x35c9e1(0x292)]();}),this[_0x10c09a(0x240)]=_0x35d243,this[_0x10c09a(0x208)]=new _0x3d630c(this[_0x10c09a(0x240)],this[_0x10c09a(0x27d)],this[_0x10c09a(0x27b)],this[_0x10c09a(0x1b8)]),this[_0x10c09a(0x1ab)]=new _0x326681(this['context'],this['data'],this[_0x10c09a(0x27b)],this[_0x10c09a(0x1b8)],this[_0x10c09a(0x208)]);}},{'key':_0x16e789(0x245),'value':function(){var _0x3cdd17=_0x16e789,_0x3bf3f2=this,_0x76cc96=new _0x5acf77[(_0x3cdd17(0x24a))]({'color':new _0x5acf77[(_0x3cdd17(0x280))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x5acf77[_0x3cdd17(0x274)]['OPAQUE']});Object['keys'](this[_0x3cdd17(0x1ab)]['framebuffers'])['forEach'](function(_0x26f0b7){var _0x4374a3=_0x3cdd17;_0x76cc96['framebuffer']=_0x3bf3f2[_0x4374a3(0x1ab)]['framebuffers'][_0x26f0b7],_0x76cc96['execute'](_0x3bf3f2[_0x4374a3(0x240)]);});}},{'key':_0x16e789(0x196),'value':function(_0x10ba29){var _0x4c801f=_0x16e789;if(this['clearFramebuffers'](),this[_0x4c801f(0x208)]['destroyParticlesTextures'](),this['particlesComputing'][_0x4c801f(0x201)](this['context'],this[_0x4c801f(0x27b)],this[_0x4c801f(0x1b8)]),_0x10ba29){var _0x4e934a=this[_0x4c801f(0x1ab)]['createSegmentsGeometry'](this[_0x4c801f(0x27b)]);this['particlesRendering'][_0x4c801f(0x19c)][_0x4c801f(0x1a9)][_0x4c801f(0x164)]=_0x4e934a;var _0x8092a9=_0x5acf77[_0x4c801f(0x121)][_0x4c801f(0x258)]({'context':this[_0x4c801f(0x240)],'geometry':_0x4e934a,'attributeLocations':this[_0x4c801f(0x1ab)]['primitives'][_0x4c801f(0x1a9)][_0x4c801f(0x140)],'bufferUsage':_0x5acf77[_0x4c801f(0x1d3)]['STATIC_DRAW']});this[_0x4c801f(0x1ab)]['primitives']['segments']['commandToExecute'][_0x4c801f(0x1e5)]=_0x8092a9;}}},{'key':_0x16e789(0x252),'value':function(_0x45716){var _0x57677a=_0x16e789,_0x30fbc9=this,_0x526563=!0x1;this[_0x57677a(0x27b)][_0x57677a(0x1ef)]!=_0x45716[_0x57677a(0x1ef)]&&(_0x526563=!0x0),Object[_0x57677a(0x142)](_0x45716)[_0x57677a(0x262)](function(_0x5eec2b){_0x30fbc9['userInput'][_0x5eec2b]=_0x45716[_0x5eec2b];}),this[_0x57677a(0x196)](_0x526563);}},{'key':_0x16e789(0x167),'value':function(_0x1a45f4){var _0x2369ac=_0x16e789,_0x2473b6=this;Object['keys'](_0x1a45f4)[_0x2369ac(0x262)](function(_0x4fa3e2){var _0x43ffbb=_0x2369ac;_0x2473b6[_0x43ffbb(0x1b8)][_0x4fa3e2]=_0x1a45f4[_0x4fa3e2];}),this[_0x2369ac(0x196)](!0x1);}}]),_0xcdf4be;}());function _0xb40448(_0x133307){var _0x2efa52=(function(){var _0x2b0409=a0_0x4b8e;if(_0x2b0409(0x1b6)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x2b0409(0x1f5)][_0x2b0409(0x17c)])return!0x1;if(_0x2b0409(0x14e)==typeof Proxy)return!0x0;try{return Boolean[_0x2b0409(0x1d8)][_0x2b0409(0x1c2)][_0x2b0409(0x291)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x253221){return!0x1;}}());return function(){var _0xe00cc=a0_0x4b8e,_0x5dc7e3,_0x410951=_0x1dd8ae()(_0x133307);if(_0x2efa52){var _0x417dc0=_0x1dd8ae()(this)['constructor'];_0x5dc7e3=Reflect['construct'](_0x410951,arguments,_0x417dc0);}else _0x5dc7e3=_0x410951[_0xe00cc(0x13f)](this,arguments);return _0x22380b()(this,_0x5dc7e3);};}var _0x578295=_0x19e9c8[_0x1bf4d0(0x1ce)][_0x1bf4d0(0x20b)],_0x23d453=0x1000,_0x27deec=0x64,_0xcdfbbf=0.996,_0x350235=0.003,_0x34619a=0.01,_0x5c980a=0.5,_0x4490e1=0x2,_0x45e421=function(_0x28c529){var _0x543903=_0x1bf4d0;_0x4f00cf()(_0xf02ee4,_0x28c529);var _0x2f676f=_0xb40448(_0xf02ee4);function _0xf02ee4(){var _0x3bb961=a0_0x4b8e,_0x13f8d4,_0x1e7245=arguments[_0x3bb961(0x178)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0xd0debf()(this,_0xf02ee4),(_0x13f8d4=_0x2f676f['call'](this,_0x1e7245))['maxParticles']=_0x23d453,_0x13f8d4[_0x3bb961(0x27e)]=_0x27deec,_0x13f8d4[_0x3bb961(0x15a)]=_0xcdfbbf,_0x13f8d4[_0x3bb961(0x18e)]=_0x350235,_0x13f8d4['dropRateBump']=_0x34619a,_0x13f8d4['speedFactor']=_0x5c980a,_0x13f8d4[_0x3bb961(0x275)]=_0x4490e1,_0x1e7245){for(var _0x5c0f4 in _0x1e7245)_0x13f8d4[_0x5c0f4]=_0x1e7245[_0x5c0f4];}return _0x13f8d4;}return _0x2f7918()(_0xf02ee4,[{'key':'layer','get':function(){var _0x4e482a=a0_0x4b8e;return this[_0x4e482a(0x19c)];}},{'key':_0x543903(0x296),'value':function(){}},{'key':'_addedHook','value':function(){var _0x4d6ee9=_0x543903;this[_0x4d6ee9(0x1c0)]=this[_0x4d6ee9(0x21d)][_0x4d6ee9(0x1c0)],this[_0x4d6ee9(0x266)]=this[_0x4d6ee9(0x21d)]['camera'],this[_0x4d6ee9(0x19c)]=new _0x5acf77[(_0x4d6ee9(0x294))](),this[_0x4d6ee9(0x21d)][_0x4d6ee9(0x1c0)][_0x4d6ee9(0x19c)]['add'](this[_0x4d6ee9(0x19c)]),this[_0x4d6ee9(0x1b8)]={'lonRange':new _0x5acf77[(_0x4d6ee9(0x120))](),'latRange':new _0x5acf77[(_0x4d6ee9(0x120))](),'pixelSize':0x0},this['globeBoundingSphere']=new _0x5acf77[(_0x4d6ee9(0x200))](_0x5acf77['Cartesian3'][_0x4d6ee9(0x204)],6314355.63),this[_0x4d6ee9(0x23f)](),window['addEventListener'](_0x4d6ee9(0x264),this[_0x4d6ee9(0x264)][_0x4d6ee9(0x214)](this),!0x1),this[_0x4d6ee9(0x207)]=!0x1,this[_0x4d6ee9(0x261)]=!0x1,this[_0x4d6ee9(0x21d)]['on'](_0x19e9c8['EventType'][_0x4d6ee9(0x17e)],this[_0x4d6ee9(0x253)],this),this[_0x4d6ee9(0x21d)]['on'](_0x19e9c8['EventType']['mouseDown'],this[_0x4d6ee9(0x1d4)],this),this[_0x4d6ee9(0x21d)]['on'](_0x19e9c8['EventType'][_0x4d6ee9(0x210)],this[_0x4d6ee9(0x1cf)],this),this[_0x4d6ee9(0x21d)]['on'](_0x19e9c8[_0x4d6ee9(0x1b0)][_0x4d6ee9(0x138)],this[_0x4d6ee9(0x160)],this);}},{'key':_0x543903(0x1a3),'value':function(){var _0x45e251=_0x543903;window[_0x45e251(0x19f)](_0x45e251(0x264),this['resize']),this['_map']['off'](_0x19e9c8['EventType']['preRender'],this[_0x45e251(0x21b)],this),this[_0x45e251(0x21d)]['off'](_0x19e9c8[_0x45e251(0x1b0)][_0x45e251(0x17e)],this[_0x45e251(0x253)],this),this['_map'][_0x45e251(0x239)](_0x19e9c8[_0x45e251(0x1b0)][_0x45e251(0x26a)],this[_0x45e251(0x1d4)],this),this[_0x45e251(0x21d)][_0x45e251(0x239)](_0x19e9c8[_0x45e251(0x1b0)][_0x45e251(0x210)],this['_onMouseUpEvent'],this),this[_0x45e251(0x21d)]['off'](_0x19e9c8[_0x45e251(0x1b0)][_0x45e251(0x138)],this[_0x45e251(0x160)],this),this[_0x45e251(0x19c)][_0x45e251(0x265)](),this[_0x45e251(0x21d)]['scene']['primitives'][_0x45e251(0x1fb)](this[_0x45e251(0x19c)]);}},{'key':'resize','value':function(){var _0x338ce3=_0x543903;this[_0x338ce3(0x256)]&&this['particleSystem']&&(this['primitives']['show']=!0x1,this['primitives'][_0x338ce3(0x265)](),this[_0x338ce3(0x21d)][_0x338ce3(0x21e)](_0x19e9c8[_0x338ce3(0x1b0)][_0x338ce3(0x283)],this['_onMap_preRenderEvent'],this));}},{'key':'_onMap_preRenderEvent','value':function(_0xf84599){var _0x2a548a=_0x543903;this[_0x2a548a(0x1ae)][_0x2a548a(0x150)](this[_0x2a548a(0x1c0)][_0x2a548a(0x240)]),this['addPrimitives'](),this[_0x2a548a(0x19c)][_0x2a548a(0x256)]=!0x0;}},{'key':_0x543903(0x253),'value':function(_0x53f94a){var _0x531e58=_0x543903,_0x45298e=this;clearTimeout(this[_0x531e58(0x226)]),this[_0x531e58(0x256)]&&this[_0x531e58(0x1ae)]&&(this[_0x531e58(0x19c)][_0x531e58(0x256)]=!0x1,this[_0x531e58(0x226)]=setTimeout(function(){var _0x55f50e=_0x531e58;_0x45298e[_0x55f50e(0x256)]&&_0x45298e[_0x55f50e(0x179)]();},0xc8));}},{'key':_0x543903(0x1d4),'value':function(_0x191612){var _0x21258b=_0x543903;this[_0x21258b(0x207)]=!0x0;}},{'key':_0x543903(0x160),'value':function(_0x26c9e5){var _0x503bdf=_0x543903;this[_0x503bdf(0x256)]&&this['particleSystem']&&this['mouse_down']&&(this['primitives'][_0x503bdf(0x256)]=!0x1,this[_0x503bdf(0x261)]=!0x0);}},{'key':_0x543903(0x1cf),'value':function(_0x1d098a){var _0x3a7e22=_0x543903;this[_0x3a7e22(0x256)]&&this[_0x3a7e22(0x1ae)]&&(this[_0x3a7e22(0x207)]&&this[_0x3a7e22(0x261)]&&this[_0x3a7e22(0x179)](),this['primitives']['show']=!0x0,this[_0x3a7e22(0x207)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x543903(0x179),'value':function(){var _0xbc6836=_0x543903;this[_0xbc6836(0x21d)]&&this[_0xbc6836(0x256)]&&(this['updateViewerParameters'](),this[_0xbc6836(0x1ae)][_0xbc6836(0x167)](this[_0xbc6836(0x1b8)]),this[_0xbc6836(0x19c)][_0xbc6836(0x256)]=!0x0);}},{'key':_0x543903(0x1a2),'value':function(_0x577a6f){var _0x2a35ff=_0x543903;this['particleSystem']=new _0x192fc9(this[_0x2a35ff(0x1c0)][_0x2a35ff(0x240)],_0x577a6f,this[_0x2a35ff(0x135)](),this[_0x2a35ff(0x1b8)]),this['addPrimitives']();}},{'key':_0x543903(0x203),'value':function(_0x7f59f9){var _0x58904d=_0x543903;if(_0x7f59f9){for(var _0x7c9f5d in _0x7f59f9)this[_0x7c9f5d]=_0x7f59f9[_0x7c9f5d];}return this['particleSystem']&&this['particleSystem']['applyUserInput'](this[_0x58904d(0x135)]()),this;}},{'key':_0x543903(0x135),'value':function(){var _0x21d575=_0x543903,_0x481b3c=Math['ceil'](Math[_0x21d575(0x1ba)](this[_0x21d575(0x1ef)]));return this['maxParticles']=_0x481b3c*_0x481b3c,{'particlesTextureSize':_0x481b3c,'maxParticles':this[_0x21d575(0x1ef)],'particleHeight':this['particleHeight'],'fadeOpacity':this[_0x21d575(0x15a)],'dropRate':this[_0x21d575(0x18e)],'dropRateBump':this[_0x21d575(0x1f9)],'speedFactor':this[_0x21d575(0x224)],'lineWidth':this[_0x21d575(0x275)],'globeLayer':this['globeLayer'],'WMS_URL':this[_0x21d575(0x22f)]};}},{'key':_0x543903(0x12a),'value':function(){var _0x9fca29=_0x543903;this[_0x9fca29(0x19c)][_0x9fca29(0x298)](this[_0x9fca29(0x1ae)][_0x9fca29(0x208)][_0x9fca29(0x19c)]['getWind']),this[_0x9fca29(0x19c)][_0x9fca29(0x298)](this['particleSystem']['particlesComputing']['primitives'][_0x9fca29(0x12f)]),this[_0x9fca29(0x19c)][_0x9fca29(0x298)](this[_0x9fca29(0x1ae)][_0x9fca29(0x208)][_0x9fca29(0x19c)][_0x9fca29(0x293)]),this[_0x9fca29(0x19c)][_0x9fca29(0x298)](this[_0x9fca29(0x1ae)]['particlesComputing'][_0x9fca29(0x19c)]['postProcessingPosition']),this[_0x9fca29(0x19c)][_0x9fca29(0x298)](this[_0x9fca29(0x1ae)][_0x9fca29(0x208)][_0x9fca29(0x19c)][_0x9fca29(0x19a)]),this[_0x9fca29(0x19c)][_0x9fca29(0x298)](this[_0x9fca29(0x1ae)][_0x9fca29(0x1ab)][_0x9fca29(0x19c)][_0x9fca29(0x1a9)]),this['primitives']['add'](this[_0x9fca29(0x1ae)][_0x9fca29(0x1ab)][_0x9fca29(0x19c)][_0x9fca29(0x1c5)]),this['primitives'][_0x9fca29(0x298)](this[_0x9fca29(0x1ae)][_0x9fca29(0x1ab)][_0x9fca29(0x19c)][_0x9fca29(0x18d)]);}},{'key':_0x543903(0x23f),'value':function(){var _0x69f81e=_0x543903,_0x52a90e=this[_0x69f81e(0x266)][_0x69f81e(0x1df)](this[_0x69f81e(0x1c0)][_0x69f81e(0x1e4)][_0x69f81e(0x271)]);if(!_0x52a90e){var _0x5efff0=this[_0x69f81e(0x21d)][_0x69f81e(0x1d2)]();_0x52a90e=_0x5acf77['Rectangle']['fromDegrees'](_0x5efff0['xmin'],_0x5efff0[_0x69f81e(0x273)],_0x5efff0[_0x69f81e(0x195)],_0x5efff0[_0x69f81e(0x269)]);}var _0x5b96f4=_0x40d538[_0x69f81e(0x25e)](_0x52a90e);this[_0x69f81e(0x1b8)][_0x69f81e(0x21a)]['x']=_0x5b96f4[_0x69f81e(0x1f8)][_0x69f81e(0x295)],this[_0x69f81e(0x1b8)][_0x69f81e(0x21a)]['y']=_0x5b96f4[_0x69f81e(0x1f8)]['max'],this[_0x69f81e(0x1b8)][_0x69f81e(0x19d)]['x']=_0x5b96f4[_0x69f81e(0x136)][_0x69f81e(0x295)],this[_0x69f81e(0x1b8)][_0x69f81e(0x19d)]['y']=_0x5b96f4[_0x69f81e(0x136)][_0x69f81e(0x191)];var _0x151ca6=this[_0x69f81e(0x266)][_0x69f81e(0x25b)](this[_0x69f81e(0x170)],this['scene'][_0x69f81e(0x190)],this[_0x69f81e(0x1c0)][_0x69f81e(0x1a5)]);_0x151ca6>0x0&&(this[_0x69f81e(0x1b8)][_0x69f81e(0x161)]=_0x151ca6);}}]),_0xf02ee4;}(_0x578295);_0x19e9c8[_0x1bf4d0(0x1e1)][_0x1bf4d0(0x281)]('wind',_0x45e421),_0x19e9c8['layer'][_0x1bf4d0(0x1ee)]=_0x45e421;var _0x5c8007=_0x2f7918()(function _0x317851(){var _0xae0cad=_0x1bf4d0;_0xd0debf()(this,_0x317851),this['lng']=null,this[_0xae0cad(0x136)]=null,this['tlng']=null,this['tlat']=null,this[_0xae0cad(0x13b)]=null;}),_0x4d6c66=(function(){var _0x2b48ad=_0x1bf4d0;function _0x5e4ddf(_0xed76ef,_0x197625){var _0x1def12=a0_0x4b8e;_0xd0debf()(this,_0x5e4ddf),this['rows']=_0xed76ef[_0x1def12(0x1d0)],this[_0x1def12(0x18a)]=_0xed76ef[_0x1def12(0x18a)],this[_0x1def12(0x1b5)]=_0xed76ef[_0x1def12(0x1b5)],this[_0x1def12(0x195)]=_0xed76ef['xmax'],this[_0x1def12(0x273)]=_0xed76ef[_0x1def12(0x273)],this[_0x1def12(0x269)]=_0xed76ef['ymax'],this[_0x1def12(0x1f7)]=[];var _0x54d4bb=_0xed76ef[_0x1def12(0x289)],_0x5034a0=_0xed76ef[_0x1def12(0x145)],_0x160a21=!0x1;_0x54d4bb[_0x1def12(0x178)]===this[_0x1def12(0x1d0)]&&_0x54d4bb[0x0][_0x1def12(0x178)]===this[_0x1def12(0x18a)]&&(_0x160a21=!0x0);for(var _0x35ad10=0x0,_0x211730=null,_0x2ee6f1=null,_0x247b01=0x0;_0x247b01<this[_0x1def12(0x1d0)];_0x247b01++){_0x211730=[];for(var _0x511d88=0x0;_0x511d88<this['cols'];_0x511d88++,_0x35ad10++)_0x2ee6f1=_0x160a21?this[_0x1def12(0x254)](_0x54d4bb[_0x247b01][_0x511d88],_0x5034a0[_0x247b01][_0x511d88]):this[_0x1def12(0x254)](_0x54d4bb[_0x35ad10],_0x5034a0[_0x35ad10]),_0x211730['push'](_0x2ee6f1);this['grid'][_0x1def12(0x1a6)](_0x211730);}_0x197625&&this['grid'][_0x1def12(0x133)]();}return _0x2f7918()(_0x5e4ddf,[{'key':_0x2b48ad(0x237),'value':function(_0x2ce0c4,_0x5ce665){var _0x113ade=_0x2b48ad;return{'x':(_0x2ce0c4-this['xmin'])/(this[_0x113ade(0x195)]-this[_0x113ade(0x1b5)])*(this['cols']-0x1),'y':(this['ymax']-_0x5ce665)/(this[_0x113ade(0x269)]-this['ymin'])*(this[_0x113ade(0x1d0)]-0x1)};}},{'key':_0x2b48ad(0x169),'value':function(_0x12d46a,_0x2a2434){var _0x104a49=_0x2b48ad;if(_0x12d46a<0x0||_0x12d46a>=this[_0x104a49(0x18a)]||_0x2a2434>=this[_0x104a49(0x1d0)])return[0x0,0x0,0x0];var _0x3b7fc6,_0x1aafda,_0x46d4d7=Math[_0x104a49(0x1db)](_0x12d46a),_0xff4726=Math[_0x104a49(0x1db)](_0x2a2434);if(_0x46d4d7===_0x12d46a&&_0xff4726===_0x2a2434)return this[_0x104a49(0x1f7)][_0x2a2434][_0x12d46a];_0x3b7fc6=_0x46d4d7+0x1,_0x1aafda=_0xff4726+0x1;var _0x260bca=this['getUVByXY'](_0x46d4d7,_0xff4726),_0x3498b6=this['getUVByXY'](_0x3b7fc6,_0xff4726),_0x5d2da5=this['getUVByXY'](_0x46d4d7,_0x1aafda),_0x4b1b17=this[_0x104a49(0x169)](_0x3b7fc6,_0x1aafda),_0x3c375a=null;try{_0x3c375a=this['_bilinearInterpolation'](_0x12d46a-_0x46d4d7,_0x2a2434-_0xff4726,_0x260bca,_0x3498b6,_0x5d2da5,_0x4b1b17);}catch(_0x274ffc){console['log'](_0x12d46a,_0x2a2434);}return _0x3c375a;}},{'key':_0x2b48ad(0x232),'value':function(_0x20eb3e,_0x87998,_0x31342a,_0x26b188,_0x599756,_0x4b0192){var _0x1eadec=_0x2b48ad,_0x21ff0c=0x1-_0x20eb3e,_0x4cd715=0x1-_0x87998,_0x384695=_0x21ff0c*_0x4cd715,_0x4c17e7=_0x20eb3e*_0x4cd715,_0x3d9481=_0x21ff0c*_0x87998,_0x450f1e=_0x20eb3e*_0x87998,_0x17a762=_0x31342a[0x0]*_0x384695+_0x26b188[0x0]*_0x4c17e7+_0x599756[0x0]*_0x3d9481+_0x4b0192[0x0]*_0x450f1e,_0x1a9bcc=_0x31342a[0x1]*_0x384695+_0x26b188[0x1]*_0x4c17e7+_0x599756[0x1]*_0x3d9481+_0x4b0192[0x1]*_0x450f1e;return this[_0x1eadec(0x254)](_0x17a762,_0x1a9bcc);}},{'key':_0x2b48ad(0x254),'value':function(_0x2d7150,_0x475c88){var _0x59f8b6=_0x2b48ad;return[+_0x2d7150,+_0x475c88,Math[_0x59f8b6(0x1ba)](_0x2d7150*_0x2d7150+_0x475c88*_0x475c88)];}},{'key':'getUVByPoint','value':function(_0x669d8c,_0xb54c35){var _0x33e3e3=_0x2b48ad;if(!this[_0x33e3e3(0x1da)](_0x669d8c,_0xb54c35))return null;var _0x1cbc3f=this[_0x33e3e3(0x237)](_0x669d8c,_0xb54c35);return this['getUVByXY'](_0x1cbc3f['x'],_0x1cbc3f['y']);}},{'key':_0x2b48ad(0x1da),'value':function(_0x57fdea,_0x1a191a){var _0x540176=_0x2b48ad;return _0x57fdea>=this[_0x540176(0x1b5)]&&_0x57fdea<=this[_0x540176(0x195)]&&_0x1a191a>=this[_0x540176(0x273)]&&_0x1a191a<=this['ymax'];}},{'key':_0x2b48ad(0x28b),'value':function(){var _0xe7531f=_0x2b48ad,_0x27c6e8=_0x3320b5(this[_0xe7531f(0x1b5)],this['xmax']);return{'lat':_0x3320b5(this[_0xe7531f(0x273)],this[_0xe7531f(0x269)]),'lng':_0x27c6e8};}}]),_0x5e4ddf;}());function _0x3320b5(_0x391482,_0x236a0d){var _0x2cd244=_0x1bf4d0;return _0x391482+Math[_0x2cd244(0x126)]()*(_0x236a0d-_0x391482);}function _0x1e20f3(_0x59cf7b){var _0x4e2d7b=(function(){var _0x17ad43=a0_0x4b8e;if(_0x17ad43(0x1b6)==typeof Reflect||!Reflect[_0x17ad43(0x1f5)])return!0x1;if(Reflect[_0x17ad43(0x1f5)][_0x17ad43(0x17c)])return!0x1;if(_0x17ad43(0x14e)==typeof Proxy)return!0x0;try{return Boolean[_0x17ad43(0x1d8)][_0x17ad43(0x1c2)]['call'](Reflect[_0x17ad43(0x1f5)](Boolean,[],function(){})),!0x0;}catch(_0x220cdc){return!0x1;}}());return function(){var _0x5c3634=a0_0x4b8e,_0xf55a74,_0x45920d=_0x1dd8ae()(_0x59cf7b);if(_0x4e2d7b){var _0xb11725=_0x1dd8ae()(this)[_0x5c3634(0x272)];_0xf55a74=Reflect[_0x5c3634(0x1f5)](_0x45920d,arguments,_0xb11725);}else _0xf55a74=_0x45920d['apply'](this,arguments);return _0x22380b()(this,_0xf55a74);};}var _0x2f3f52=function(_0x315bc0){var _0x59d954=_0x1bf4d0;_0x4f00cf()(_0x1ce1e4,_0x315bc0);var _0x316027=_0x1e20f3(_0x1ce1e4);function _0x1ce1e4(){var _0x1def21=a0_0x4b8e,_0x1b2ff6,_0xa18693=arguments[_0x1def21(0x178)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0xd0debf()(this,_0x1ce1e4),(_0x1b2ff6=_0x316027[_0x1def21(0x291)](this,_0xa18693))['calc_speedRate']=[0x0,0x0],_0x1b2ff6[_0x1def21(0x1b3)]=[],_0x1b2ff6['speedRate']=_0xa18693[_0x1def21(0x1e8)]||0x32,_0x1b2ff6['_particlesNumber']=_0xa18693['particlesNumber']||0x4e20,_0x1b2ff6[_0x1def21(0x15d)]=_0xa18693[_0x1def21(0x187)]||0x78,_0x1b2ff6[_0x1def21(0x20d)]=0x3e8/(_0xa18693['frameRate']||0xa),_0x1b2ff6[_0x1def21(0x1cc)]=_0x5acf77[_0x1def21(0x26c)](_0x1b2ff6[_0x1def21(0x1f0)][_0x1def21(0x218)],!0x1),_0x1b2ff6[_0x1def21(0x16e)]=_0xa18693[_0x1def21(0x16e)]||'#ffffff',_0x1b2ff6[_0x1def21(0x275)]=_0xa18693[_0x1def21(0x275)]||0x1,_0x1b2ff6[_0x1def21(0x175)]=_0x5acf77[_0x1def21(0x26c)](_0xa18693[_0x1def21(0x175)],0x0),_0x1b2ff6[_0x1def21(0x19e)]=_0x5acf77[_0x1def21(0x26c)](_0xa18693[_0x1def21(0x19e)],!0x1),_0x1b2ff6['canvas']=null,_0x1b2ff6;}return _0x2f7918()(_0x1ce1e4,[{'key':_0x59d954(0x1ce),'get':function(){var _0x21f036=_0x59d954;return this[_0x21f036(0x163)];}},{'key':_0x59d954(0x1f4),'get':function(){var _0x14f288=_0x59d954;return this[_0x14f288(0x21d)]['scene'][_0x14f288(0x163)]['clientWidth'];}},{'key':_0x59d954(0x1f3),'get':function(){var _0x20da1e=_0x59d954;return this['_map'][_0x20da1e(0x1c0)][_0x20da1e(0x163)][_0x20da1e(0x23a)];}},{'key':_0x59d954(0x218),'get':function(){var _0x218dc0=_0x59d954;return this[_0x218dc0(0x1cc)];},'set':function(_0x14be7c){var _0x4c8524=_0x59d954;this[_0x4c8524(0x1cc)]=_0x14be7c,this[_0x4c8524(0x163)]&&(this[_0x4c8524(0x163)][_0x4c8524(0x172)][_0x4c8524(0x22d)]=_0x14be7c?_0x4c8524(0x1a1):_0x4c8524(0x25f));}},{'key':_0x59d954(0x1e8),'get':function(){return this['_speedRate'];},'set':function(_0x1193bd){var _0x17659c=_0x59d954;this[_0x17659c(0x134)]=0x64*(0x64-(_0x1193bd>0x63?0x63:_0x1193bd)),this[_0x17659c(0x28a)]();}},{'key':_0x59d954(0x13d),'get':function(){var _0x3389fd=_0x59d954;return this[_0x3389fd(0x267)];},'set':function(_0x29d511){var _0x16418e=_0x59d954,_0x328167=this;this['_particlesNumber']=_0x29d511,clearTimeout(this['canrefresh']),this[_0x16418e(0x193)]=setTimeout(function(){_0x328167['redraw']();},0x1f4);}},{'key':_0x59d954(0x187),'get':function(){return this['_maxAge'];},'set':function(_0x54ce60){var _0x4ab886=_0x59d954,_0x10cb7c=this;this[_0x4ab886(0x15d)]=_0x54ce60,clearTimeout(this[_0x4ab886(0x193)]),this[_0x4ab886(0x193)]=setTimeout(function(){var _0x2ba0a5=_0x4ab886;_0x10cb7c[_0x2ba0a5(0x179)]();},0x1f4);}},{'key':_0x59d954(0x27d),'get':function(){return this['windData'];},'set':function(_0x456e8b){this['updateDate'](_0x456e8b);}},{'key':_0x59d954(0x1d6),'value':function(_0x53ad0c){var _0x39d826=_0x59d954;_0x53ad0c?this[_0x39d826(0x168)]():(this[_0x39d826(0x1aa)]&&(this[_0x39d826(0x1f0)][_0x39d826(0x27d)]=this[_0x39d826(0x1aa)]),this[_0x39d826(0x1a3)]());}},{'key':_0x59d954(0x296),'value':function(){}},{'key':_0x59d954(0x168),'value':function(){var _0xa868de=_0x59d954;this[_0xa868de(0x163)]=this['_createCanvas'](),this[_0xa868de(0x1ca)]=this['canvas'][_0xa868de(0x288)]('2d'),this[_0xa868de(0x28e)](),this[_0xa868de(0x1f0)][_0xa868de(0x27d)]&&this[_0xa868de(0x1ed)](this[_0xa868de(0x1f0)][_0xa868de(0x27d)]);}},{'key':_0x59d954(0x1a3),'value':function(){var _0x5c0db1=_0x59d954;this[_0x5c0db1(0x1c9)](),this[_0x5c0db1(0x21c)](),this['canvas']&&(this[_0x5c0db1(0x21d)][_0x5c0db1(0x17a)][_0x5c0db1(0x1eb)](this[_0x5c0db1(0x163)]),delete this[_0x5c0db1(0x163)]);}},{'key':_0x59d954(0x14b),'value':function(){var _0x430642=_0x59d954,_0x258dbc=document[_0x430642(0x202)](_0x430642(0x163));_0x258dbc[_0x430642(0x172)][_0x430642(0x20c)]=_0x430642(0x22a),_0x258dbc[_0x430642(0x172)][_0x430642(0x183)]=_0x430642(0x229),_0x258dbc[_0x430642(0x172)][_0x430642(0x154)]='0px',_0x258dbc[_0x430642(0x172)]['width']=_0x430642(0x24f),_0x258dbc[_0x430642(0x172)][_0x430642(0x259)]='100%',_0x258dbc['style'][_0x430642(0x218)]=this[_0x430642(0x1cc)]?_0x430642(0x216):_0x430642(0x25f),_0x258dbc['style'][_0x430642(0x251)]=0xa,_0x258dbc[_0x430642(0x1ad)]('id',_0x430642(0x29a)),_0x258dbc[_0x430642(0x1ad)]('class',_0x430642(0x29a)),this[_0x430642(0x21d)][_0x430642(0x17a)][_0x430642(0x241)](_0x258dbc);var _0x544428=this[_0x430642(0x21d)][_0x430642(0x1c0)];return _0x258dbc[_0x430642(0x1fd)]=_0x544428[_0x430642(0x163)][_0x430642(0x16c)],_0x258dbc[_0x430642(0x259)]=_0x544428[_0x430642(0x163)][_0x430642(0x23a)],_0x258dbc;}},{'key':'resize','value':function(){var _0x58e426=_0x59d954;this['canvas']&&(this[_0x58e426(0x163)]['width']=this[_0x58e426(0x1f4)],this[_0x58e426(0x163)][_0x58e426(0x259)]=this[_0x58e426(0x1f3)]);}},{'key':_0x59d954(0x28e),'value':function(){var _0x4d0a95=_0x59d954,_0x5d590f=this,_0x44a93b=Date[_0x4d0a95(0x21f)]();!function _0x50f5a0(){var _0xb7b672=_0x4d0a95;_0x5d590f[_0xb7b672(0x255)]=window[_0xb7b672(0x192)](_0x50f5a0);var _0x164f96=Date[_0xb7b672(0x21f)](),_0x54dee3=_0x164f96-_0x44a93b;_0x54dee3>_0x5d590f['frameTime']&&(_0x44a93b=_0x164f96-_0x54dee3%_0x5d590f['frameTime'],_0x5d590f['update']());}(),window['addEventListener'](_0x4d0a95(0x264),this[_0x4d0a95(0x264)][_0x4d0a95(0x214)](this),!0x1),this[_0x4d0a95(0x207)]=!0x1,this['mouse_move']=!0x1,this[_0x4d0a95(0x21d)]['on'](_0x19e9c8[_0x4d0a95(0x1b0)][_0x4d0a95(0x17e)],this[_0x4d0a95(0x253)],this),this['_map']['on'](_0x19e9c8['EventType']['mouseDown'],this[_0x4d0a95(0x1d4)],this),this[_0x4d0a95(0x21d)]['on'](_0x19e9c8[_0x4d0a95(0x1b0)]['mouseUp'],this['_onMouseUpEvent'],this),this[_0x4d0a95(0x21d)]['on'](_0x19e9c8[_0x4d0a95(0x1b0)][_0x4d0a95(0x138)],this[_0x4d0a95(0x160)],this);}},{'key':_0x59d954(0x21c),'value':function(){var _0x478e40=_0x59d954;window[_0x478e40(0x1a7)](this[_0x478e40(0x255)]),delete this[_0x478e40(0x255)],window[_0x478e40(0x19f)](_0x478e40(0x264),this[_0x478e40(0x264)]),this['_map']['off'](_0x19e9c8[_0x478e40(0x1b0)][_0x478e40(0x17e)],this[_0x478e40(0x253)],this),this['_map'][_0x478e40(0x239)](_0x19e9c8[_0x478e40(0x1b0)][_0x478e40(0x26a)],this['_onMouseDownEvent'],this),this[_0x478e40(0x21d)]['off'](_0x19e9c8[_0x478e40(0x1b0)][_0x478e40(0x210)],this[_0x478e40(0x1cf)],this),this[_0x478e40(0x21d)][_0x478e40(0x239)](_0x19e9c8[_0x478e40(0x1b0)]['mouseMove'],this[_0x478e40(0x160)],this);}},{'key':_0x59d954(0x253),'value':function(_0x43376d){var _0x4ffcf6=_0x59d954,_0x350f5a=this;clearTimeout(this[_0x4ffcf6(0x226)]),this[_0x4ffcf6(0x256)]&&this[_0x4ffcf6(0x163)]&&(this['canvas'][_0x4ffcf6(0x172)][_0x4ffcf6(0x15e)]=_0x4ffcf6(0x165),this['refreshTimer']=setTimeout(function(){var _0x4bb6f4=_0x4ffcf6;_0x350f5a[_0x4bb6f4(0x256)]&&(_0x350f5a[_0x4bb6f4(0x179)](),_0x350f5a[_0x4bb6f4(0x163)][_0x4bb6f4(0x172)][_0x4bb6f4(0x15e)]=_0x4bb6f4(0x189));},0xc8));}},{'key':_0x59d954(0x1d4),'value':function(_0x427b7b){var _0x1bd096=_0x59d954;this[_0x1bd096(0x207)]=!0x0;}},{'key':_0x59d954(0x160),'value':function(_0x54b3ed){var _0x1b3570=_0x59d954;this[_0x1b3570(0x256)]&&this[_0x1b3570(0x163)]&&this['mouse_down']&&(this[_0x1b3570(0x163)][_0x1b3570(0x172)][_0x1b3570(0x15e)]='hidden',this[_0x1b3570(0x261)]=!0x0);}},{'key':'_onMouseUpEvent','value':function(_0x5d6cd0){var _0x39d886=_0x59d954;this[_0x39d886(0x256)]&&this[_0x39d886(0x163)]&&(this['mouse_down']&&this[_0x39d886(0x261)]&&this['redraw'](),this[_0x39d886(0x163)][_0x39d886(0x172)][_0x39d886(0x15e)]=_0x39d886(0x189),this[_0x39d886(0x207)]=!0x1,this[_0x39d886(0x261)]=!0x1);}},{'key':_0x59d954(0x179),'value':function(){var _0xa599a9=_0x59d954;this[_0xa599a9(0x256)]&&this[_0xa599a9(0x16a)]&&(this[_0xa599a9(0x1b3)]=[],this[_0xa599a9(0x234)]());}},{'key':'updateDate','value':function(_0x484940){var _0x1bf490=_0x59d954;this[_0x1bf490(0x1c9)](),this['windData']=_0x484940,this[_0x1bf490(0x16a)]=new _0x4d6c66(this['windData'],this[_0x1bf490(0x19e)]),this['drawWind']();}},{'key':'drawWind','value':function(){var _0x6b3d02=_0x59d954;this['_calcStep']();for(var _0x474715=0x0;_0x474715<this['particlesNumber'];_0x474715++){var _0x495cab=this[_0x6b3d02(0x27f)](new _0x5c8007());this[_0x6b3d02(0x1b3)]['push'](_0x495cab);}this['canvasContext'][_0x6b3d02(0x276)]=_0x6b3d02(0x1b9),this[_0x6b3d02(0x1ca)][_0x6b3d02(0x139)]=0.6,this[_0x6b3d02(0x182)]();}},{'key':'_calcStep','value':function(){var _0x967d4d=_0x59d954;this[_0x967d4d(0x16a)]&&(this[_0x967d4d(0x23e)]=[(this['windField'][_0x967d4d(0x195)]-this['windField'][_0x967d4d(0x1b5)])/this[_0x967d4d(0x1e8)],(this['windField']['ymax']-this['windField'][_0x967d4d(0x273)])/this[_0x967d4d(0x1e8)]]);}},{'key':_0x59d954(0x182),'value':function(){var _0x5c78a5=_0x59d954,_0x28be50=this;if(this['show']&&!(this[_0x5c78a5(0x1b3)][_0x5c78a5(0x178)]<=0x0)){var _0x13dd3e=null,_0xed81b3=null,_0x3c8f67=null;this[_0x5c78a5(0x1b3)]['forEach'](function(_0x5bc478){var _0x2e8d13=_0x5c78a5;if(_0x5bc478[_0x2e8d13(0x13b)]<=0x0&&_0x28be50[_0x2e8d13(0x27f)](_0x5bc478),_0x5bc478[_0x2e8d13(0x13b)]>0x0){var _0x465ffb=_0x5bc478[_0x2e8d13(0x215)],_0x44d0d7=_0x5bc478[_0x2e8d13(0x219)];(_0x3c8f67=_0x28be50[_0x2e8d13(0x16a)][_0x2e8d13(0x11e)](_0x465ffb,_0x44d0d7))?(_0x13dd3e=_0x465ffb+_0x28be50[_0x2e8d13(0x23e)][0x0]*_0x3c8f67[0x0],_0xed81b3=_0x44d0d7+_0x28be50[_0x2e8d13(0x23e)][0x1]*_0x3c8f67[0x1],_0x5bc478[_0x2e8d13(0x1a0)]=_0x465ffb,_0x5bc478['lat']=_0x44d0d7,_0x5bc478[_0x2e8d13(0x215)]=_0x13dd3e,_0x5bc478[_0x2e8d13(0x219)]=_0xed81b3,_0x5bc478[_0x2e8d13(0x13b)]--):_0x5bc478[_0x2e8d13(0x13b)]=0x0;}}),this[_0x5c78a5(0x146)]();}}},{'key':_0x59d954(0x279),'value':function(_0x5cafc7,_0x4dc49b,_0x132141){var _0xfc2a1=_0x59d954,_0x217659=_0x5acf77[_0xfc2a1(0x1c1)][_0xfc2a1(0x205)](_0x5cafc7,_0x4dc49b,this[_0xfc2a1(0x175)]),_0x4861ab=this[_0xfc2a1(0x21d)][_0xfc2a1(0x1c0)];if(_0x4861ab[_0xfc2a1(0x222)]===_0x5acf77[_0xfc2a1(0x228)][_0xfc2a1(0x26b)]&&!new _0x5acf77[(_0xfc2a1(0x132))](_0x4861ab[_0xfc2a1(0x1e4)]['ellipsoid'],_0x4861ab[_0xfc2a1(0x266)][_0xfc2a1(0x128)])[_0xfc2a1(0x19b)](_0x217659))return _0x132141[_0xfc2a1(0x13b)]=0x0,null;var _0x360053=_0x5acf77['SceneTransforms'][_0xfc2a1(0x290)](this['_map'][_0xfc2a1(0x1c0)],_0x217659);return _0x360053?[_0x360053['x'],_0x360053['y']]:null;}},{'key':_0x59d954(0x146),'value':function(){var _0x3ab201=_0x59d954,_0x296de1=this,_0x4dfd26=this[_0x3ab201(0x1b3)];this[_0x3ab201(0x1ca)][_0x3ab201(0x275)]=_0x296de1[_0x3ab201(0x275)],this['canvasContext'][_0x3ab201(0x22e)]=_0x3ab201(0x152),this[_0x3ab201(0x1ca)][_0x3ab201(0x1bd)](0x0,0x0,this['canvasWidth'],this[_0x3ab201(0x1f3)]),this[_0x3ab201(0x1ca)]['globalCompositeOperation']=_0x3ab201(0x24c),this[_0x3ab201(0x1ca)][_0x3ab201(0x139)]=0.9,this['canvasContext'][_0x3ab201(0x20a)](),this[_0x3ab201(0x1ca)]['strokeStyle']=this[_0x3ab201(0x16e)];var _0x585843=this[_0x3ab201(0x21d)][_0x3ab201(0x1c0)][_0x3ab201(0x222)]!==_0x5acf77['SceneMode'][_0x3ab201(0x26b)];_0x4dfd26['forEach'](function(_0x12d7b6){var _0x5d75c6=_0x3ab201,_0x46cc61=_0x296de1[_0x5d75c6(0x279)](_0x12d7b6[_0x5d75c6(0x1a0)],_0x12d7b6[_0x5d75c6(0x136)],_0x12d7b6),_0x3e4eb8=_0x296de1[_0x5d75c6(0x279)](_0x12d7b6[_0x5d75c6(0x215)],_0x12d7b6[_0x5d75c6(0x219)],_0x12d7b6);if(null!=_0x46cc61&&null!=_0x3e4eb8){var _0x1364c5=Math[_0x5d75c6(0x1fe)](_0x46cc61[0x0]-_0x3e4eb8[0x0]);_0x585843&&_0x1364c5>=_0x296de1[_0x5d75c6(0x1f4)]||(_0x296de1[_0x5d75c6(0x1ca)][_0x5d75c6(0x13a)](_0x46cc61[0x0],_0x46cc61[0x1]),_0x296de1[_0x5d75c6(0x1ca)][_0x5d75c6(0x1bb)](_0x3e4eb8[0x0],_0x3e4eb8[0x1]));}}),this[_0x3ab201(0x1ca)]['stroke']();}},{'key':_0x59d954(0x27f),'value':function(_0x27f2d6){var _0xf3b921=_0x59d954;for(var _0x542bc5,_0x17a122,_0xf24fce=0x0;_0xf24fce<0x1e&&(_0x542bc5=this[_0xf3b921(0x16a)][_0xf3b921(0x28b)](),!((_0x17a122=this[_0xf3b921(0x16a)][_0xf3b921(0x11e)](_0x542bc5[_0xf3b921(0x1a0)],_0x542bc5[_0xf3b921(0x136)]))&&_0x17a122[0x2]>0x0));_0xf24fce++);if(!_0x17a122)return _0x27f2d6;var _0x5ce4a2=_0x542bc5[_0xf3b921(0x1a0)]+this[_0xf3b921(0x23e)][0x0]*_0x17a122[0x0],_0x5e7ddc=_0x542bc5['lat']+this[_0xf3b921(0x23e)][0x1]*_0x17a122[0x1];return _0x27f2d6[_0xf3b921(0x1a0)]=_0x542bc5[_0xf3b921(0x1a0)],_0x27f2d6[_0xf3b921(0x136)]=_0x542bc5['lat'],_0x27f2d6[_0xf3b921(0x215)]=_0x5ce4a2,_0x27f2d6[_0xf3b921(0x219)]=_0x5e7ddc,_0x27f2d6['age']=Math[_0xf3b921(0x213)](Math['random']()*this[_0xf3b921(0x187)]),_0x27f2d6;}},{'key':'clear','value':function(){var _0x309ac5=_0x59d954;this[_0x309ac5(0x1b3)]=[],delete this[_0x309ac5(0x16a)],delete this[_0x309ac5(0x1aa)];}}]),_0x1ce1e4;}(_0x19e9c8['layer'][_0x1bf4d0(0x20b)]);function _0x5313d3(_0x4f0065,_0x587dc5){var _0x52524b=_0x1bf4d0;return _0x4f0065*Math[_0x52524b(0x186)](_0x5acf77[_0x52524b(0x1b1)][_0x52524b(0x278)](_0x587dc5));}function _0x373106(_0x268206,_0x582b99){var _0x34a599=_0x1bf4d0;return _0x268206*Math['sin'](_0x5acf77[_0x34a599(0x1b1)][_0x34a599(0x278)](_0x582b99));}function _0x1ae4c4(_0x9cea1e,_0x4b51a6){var _0x2d8a5a=_0x1bf4d0;return Math[_0x2d8a5a(0x1ba)](Math[_0x2d8a5a(0x260)](_0x9cea1e,0x2)+Math[_0x2d8a5a(0x260)](_0x4b51a6,0x2));}function _0x578106(_0x49708b,_0x3bc0da){var _0x40c086=_0x1bf4d0,_0x46ff06=_0x5acf77[_0x40c086(0x1b1)][_0x40c086(0x137)](Math[_0x40c086(0x1bc)](_0x3bc0da,_0x49708b));return _0x46ff06+=_0x46ff06<0x0?0x168:0x0;}_0x19e9c8[_0x1bf4d0(0x1e1)]['register'](_0x1bf4d0(0x12b),_0x2f3f52),_0x19e9c8[_0x1bf4d0(0x1ce)][_0x1bf4d0(0x151)]=_0x2f3f52,_0x19e9c8['WindUtil']=_0x22f9eb;}]);}));function a0_0x4b8e(_0x413a18,_0x121dd1){var _0x270596=a0_0x2705();return a0_0x4b8e=function(_0x4b8e94,_0x23be5c){_0x4b8e94=_0x4b8e94-0x11d;var _0x466463=_0x270596[_0x4b8e94];return _0x466463;},a0_0x4b8e(_0x413a18,_0x121dd1);}function a0_0x2705(){var _0x244a20=['xmax','refreshParticles','getDirection','ALWAYS','DepthFunction','postProcessingSpeed','isPointVisible','primitives','latRange','reverseY','removeEventListener','lng','all','setData','_removedHook','segmentsDepth','drawingBufferHeight','push','cancelAnimationFrame','7010mtCZSk','segments','windData','particlesRendering','mars3d-cesium','setAttribute','particleSystem','110GEfbOH','EventType','Math','symbol','particles','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','xmin','undefined','autoClear','viewerParameters','rgba(0,\x200,\x200,\x200.97)','sqrt','lineTo','atan2','fillRect','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','PI_OVER_THREE','scene','Cartesian3','valueOf','particlesWind','getPrototypeOf','trails','nextTrails','enumerable','nextTrailsDepth','clear','canvasContext','particlesTextures','_pointerEvents','RGB','layer','_onMouseUpEvent','rows','666tmddwN','getExtent','BufferUsage','_onMouseDownEvent','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','_showHook','DEPTH_COMPONENT','prototype','viewport','isInExtent','floor','DrawCommand','54SWSWDE','Module','computeViewRectangle','1991PGaeJU','LayerUtil','ShaderSource','PixelDatatype','globe','vertexArray','13559RHfxjA','mars3d','speedRate','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','removeChild','hasOwnProperty','updateDate','WindLayer','maxParticles','options','Matrix4','TRIANGLES','canvasHeight','canvasWidth','construct','randomizeParticles','grid','lon','dropRateBump','randomBetween','remove','postProcessingPosition','width','abs','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','BoundingSphere','createParticlesTextures','createElement','setOptions','ZERO','fromDegrees','value','mouse_down','particlesComputing','south','beginPath','BaseLayer','position','frameTime','source','nextTrailsColor','mouseUp','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','nextParticlesPosition','round','bind','tlng','auto','outputTexture','pointerEvents','tlat','lonRange','_onMap_preRenderEvent','unbindEvent','_map','once','now','exports','uniformMap','mode','arrayBufferView','speedFactor','commandList','refreshTimer','Sampler','SceneMode','0px','absolute','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','framebuffer','pointer-events','globalCompositeOperation','WMS_URL','GeometryAttribute','createRenderingFramebuffers','_bilinearInterpolation','OPAQUE','drawWind','Draw','colorNum','toGridXY','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','off','clientHeight','textures','__proto__','createFramebuffer','calc_speedRate','updateViewerParameters','context','appendChild','PI_OVER_TWO','createCommand','clearCommand','clearFramebuffers','getV','key','nextParticlesSpeed','currentTrails','ClearCommand','colorTable','lighter','particlesTextureSize','isDestroyed','100%','8476eKqOAi','zIndex','applyUserInput','_onMapWhellEvent','_calcUV','animateFrame','show','depthTexture','fromGeometry','height','1238958XzYkZA','getPixelSize','createTexture','east','viewRectangleToLonLatRange','none','pow','mouse_move','forEach','getFullscreenQuad','resize','removeAll','camera','_particlesNumber','NEAREST','ymax','mouseDown','SCENE3D','defaultValue','createRenderingTextures','dimensions','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','object','ellipsoid','constructor','ymin','Pass','lineWidth','fillStyle','LUMINANCE','toRadians','_tomap','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','userInput','RGBA','data','particleHeight','randomParticle','Color','register','STATIC_DRAW','preRender','fragmentShaderSource','north','ComponentDatatype','IDENTITY','getContext','udata','_calcStep','getRandomLatLng','create','mars3dWind','bindEvent','west','wgs84ToWindowCoordinates','call','destroy','updatePosition','PrimitiveCollection','min','_mountedHook','DISABLE_GL_POSITION_LOG_DEPTH','add','destroyObject','canvasWindy','defined','getUVByPoint','currentParticlesSpeed','Cartesian2','VertexArray','WindUtil','writable','UNSIGNED_BYTE','8Ufbkrs','random','10284tszBpz','positionWC','createWindTextures','addPrimitives','canvasWind','TextureMagnificationFilter','PrimitiveType','commandToExecute','updateSpeed','1987ScpjTN','blending','EllipsoidalOccluder','reverse','_speedRate','getUserInput','lat','toDegrees','mouseMove','globalAlpha','moveTo','age','preExecute','particlesNumber','default','apply','attributeLocations','mod','keys','THREE_PI_OVER_TWO','shaderProgram','vdata','_drawLines','framebuffers','Geometry','LINEAR','fromCache','_createCanvas','GeometryAttributes','TWO_PI','function','FLOAT','canvasResize','CanvasWindLayer','destination-in','12750CttmGR','left','toStringTag','currentTrailsColor','destroyParticlesTextures','setPrototypeOf','lev','fadeOpacity','getColorTexture','getDefaultRenderState','_maxAge','visibility','Compute','_onMouseMoveEvent','pixelSize','Appearance','canvas','geometry','hidden','defineProperty','applyViewerParameters','_addedHook','getUVByXY','windField','PixelFormat','clientWidth','Cesium','color','getU','globeBoundingSphere','Texture','style','windTextures','__esModule','fixedHeight','clampToLatitudeRange','segmentsColor','length','redraw','container','createSegmentsGeometry','sham','TextureMinificationFilter','wheel','commandType','string','rawRenderState','update','top','array','amd','cos','maxAge','currentParticlesPosition','visible','cols','17068pzjNAh','createRawRenderState','screen','dropRate','vertexShaderSource','drawingBufferWidth','max','requestAnimationFrame','canrefresh','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}'];a0_0x2705=function(){return _0x244a20;};return a0_0x2705();}