function a0_0x5e7f(){var _0x1cc32f=['tlat','dimensions','__esModule','autoClear','string','absolute','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','color','SCENE3D','drawingBufferHeight','rawRenderState','attributeLocations','clientWidth','update','textures','sqrt','mars3d-cesium','18kEEglx','maxParticles','windTextures','camera','ellipsoid','fadeOpacity','toStringTag','PrimitiveType','blending','canvasWidth','east','moveTo','particlesWind','segmentsDepth','_showHook','beginPath','particlesComputing','GeometryAttributes','0px','dropRateBump','mouseDown','round','style','updateDate','_setOptionsHook','4IFqylB','3827184fLGxbq','_addedHook','lineTo','Matrix4','createCommand','currentTrails','currentTrailsDepth','pixelSize','applyViewerParameters','removeEventListener','Cartesian3','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','Color','lev','once','setPrototypeOf','createFramebuffer','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','dropRate','globe','valueOf','viewport','xmin','xmax','_maxAge','latRange','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','pointerEvents','nextParticlesSpeed','postProcessingPosition','options','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','randomParticle','redraw','segmentsColor','execute','ZERO','NEAREST','frameRate','array','#ffffff','primitiveType','_tomap','destroyObject','RGB','addPrimitives','createRenderingTextures','globalCompositeOperation','WindUtil','Math','screen','remove','forEach','createWindTextures','off','viewerParameters','EventType','particlesTextureSize','CanvasWindLayer','clientHeight','particlesNumber','fromCache','_speedRate','object','positionWC','add','drawWind','createElement','globeLayer','getDirection','getUserInput','LINEAR','GeometryAttribute','keys','globalAlpha','construct','canvasContext','destination-in','grid','framebuffers','bindEvent','iterator','postProcessingSpeed','particles','cols','ShaderSource','STATIC_DRAW','OPAQUE','canvas','auto','particlesRendering','depthTexture','cancelAnimationFrame','age','visibility','speedFactor','_onMap_preRenderEvent','vertexArray','enumerable','height','none','canrefresh','DISABLE_GL_POSITION_LOG_DEPTH','resize','tlng','currentParticlesSpeed','drawingBufferWidth','push','commandType','Rectangle','_drawLines','2881740qewUbL','22XWsMhN','_bilinearInterpolation','ComponentDatatype','commandToExecute','canvasWindy','isPointVisible','context','defaultValue','particleSystem','layer','getU','abs','_calcUV','apply','lineWidth','refreshTimer','rows','reverseY','viewRectangleToLonLatRange','createParticlesTextures','unbindEvent','306500DMJcpi','reverse','_removedHook','length','SceneMode','userInput','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','ShaderProgram','vertexShaderSource','class','shaderProgram','particleHeight','toRadians','scene','maxAge','globeBoundingSphere','undefined','removeChild','colorTable','Draw','speedRate','getColorTexture','canvasHeight','ClearCommand','uniformMap','_onMouseUpEvent','amd','getExtent','PI_OVER_TWO','BufferUsage','1416354PFTSuC','fragmentShaderSource','zIndex','create','createTexture','pow','_pointerEvents','toDegrees','EllipsoidalOccluder','TextureMinificationFilter','calc_speedRate','width','Pass','updateViewerParameters','lat','isDestroyed','FLOAT','container','lng','register','currentParticlesPosition','stroke','destroyParticlesTextures','random','RenderState','log','setAttribute','_onMouseMoveEvent','wind','2sOmYab','show','primitives','getFullscreenQuad','mouseMove','_particlesNumber','mode','UNSIGNED_INT','_onMapWhellEvent','100%','applyUserInput','mouse_move','getPrototypeOf','WindLayer','_onMouseDownEvent','Appearance','mouseUp','bind','sham','configurable','LUMINANCE','addEventListener','requestAnimationFrame','setOptions','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','__proto__','prototype','Compute','segments','isInExtent','preExecute','wheel','createRawRenderState','mars3d','refreshParticles','function','2056810WsvVwS','preRender','now','Framebuffer','ceil','symbol','mars3dWind','top','_createCanvas','fromGeometry','framebuffer','lonRange','Geometry','mod','ymax','min','hidden','ymin','getV','clearFramebuffers','updateSpeed','RGBA','constructor','_map','frameTime','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','nextTrailsColor','fixedHeight','north','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','lon','getDefaultRenderState','trails','colorNum','west','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','createRenderingPrimitives','LayerUtil','vdata','getUVByXY','Cesium','max','createSegmentsGeometry','value','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','getRandomLatLng','removeAll','nextTrails','mouse_down','VertexArray','TextureMagnificationFilter','rgba(0,\x200,\x200,\x200.97)','TWO_PI','commandList','particlesTextures','destroy','_calcStep','3509285RngdpP','updatePosition','defineProperty','floor','call','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','writable','Module','getWind','46266eXaHnV','getSpeed','PI_OVER_THREE','windField','wgs84ToWindowCoordinates','left','_mountedHook','animateFrame','nextParticlesPosition','setGeometry','clearCommand','PixelFormat','clear','TRIANGLES','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','data','lighter','Cartesian2','default','canvasResize','PrimitiveCollection','fromDegrees','exports','SceneTransforms','windData','cos','outputTexture','DepthFunction','287SsguND','key','PixelDatatype','toGridXY','visible','geometry','all','createComputingPrimitives','fill','Sampler','sin','defined','atan2','getUVByPoint','arrayBufferView'];a0_0x5e7f=function(){return _0x1cc32f;};return a0_0x5e7f();}function a0_0x11dd(_0x1892e2,_0x43e243){var _0x5e7f07=a0_0x5e7f();return a0_0x11dd=function(_0x11dde1,_0x5c0d6d){_0x11dde1=_0x11dde1-0xcd;var _0x988e95=_0x5e7f07[_0x11dde1];return _0x988e95;},a0_0x11dd(_0x1892e2,_0x43e243);}(function(_0x4819fc,_0x5a813d){var _0x2fff7f=a0_0x11dd,_0x43b91f=_0x4819fc();while(!![]){try{var _0x4e5c60=parseInt(_0x2fff7f(0x104))/0x1+parseInt(_0x2fff7f(0x13f))/0x2*(parseInt(_0x2fff7f(0x122))/0x3)+-parseInt(_0x2fff7f(0x1fa))/0x4*(-parseInt(_0x2fff7f(0x19c))/0x5)+parseInt(_0x2fff7f(0x1a5))/0x6*(parseInt(_0x2fff7f(0x1c1))/0x7)+-parseInt(_0x2fff7f(0x1fb))/0x8+-parseInt(_0x2fff7f(0x1e1))/0x9*(parseInt(_0x2fff7f(0x163))/0xa)+parseInt(_0x2fff7f(0xef))/0xb*(-parseInt(_0x2fff7f(0xee))/0xc);if(_0x4e5c60===_0x5a813d)break;else _0x43b91f['push'](_0x43b91f['shift']());}catch(_0x480e69){_0x43b91f['push'](_0x43b91f['shift']());}}}(a0_0x5e7f,0x68250),!function(_0xeda207,_0x1eb179){var _0x4d32ae=a0_0x11dd;_0x4d32ae(0x23a)==typeof exports&&_0x4d32ae(0x23a)==typeof module?module['exports']=_0x1eb179(require(_0x4d32ae(0x1e0)),require(_0x4d32ae(0x160))):_0x4d32ae(0x162)==typeof define&&define[_0x4d32ae(0x11e)]?define('mars3dWind',[_0x4d32ae(0x1e0),_0x4d32ae(0x160)],_0x1eb179):_0x4d32ae(0x23a)==typeof exports?exports[_0x4d32ae(0x169)]=_0x1eb179(require('mars3d-cesium'),require('mars3d')):_0xeda207['mars3dWind']=_0x1eb179(_0xeda207[_0x4d32ae(0x18b)],_0xeda207[_0x4d32ae(0x160)]);}(window,function(_0x5aa10b,_0x3303c4){return function(_0x2db061){var _0x12f712={};function _0x104b58(_0x2d517e){var _0x1d9d35=a0_0x11dd;if(_0x12f712[_0x2d517e])return _0x12f712[_0x2d517e][_0x1d9d35(0x1bb)];var _0x3d2428=_0x12f712[_0x2d517e]={'i':_0x2d517e,'l':!0x1,'exports':{}};return _0x2db061[_0x2d517e][_0x1d9d35(0x1a0)](_0x3d2428[_0x1d9d35(0x1bb)],_0x3d2428,_0x3d2428[_0x1d9d35(0x1bb)],_0x104b58),_0x3d2428['l']=!0x0,_0x3d2428[_0x1d9d35(0x1bb)];}return _0x104b58['m']=_0x2db061,_0x104b58['c']=_0x12f712,_0x104b58['d']=function(_0x14e81a,_0x1a3266,_0x5251dd){var _0x29fcf9=a0_0x11dd;_0x104b58['o'](_0x14e81a,_0x1a3266)||Object[_0x29fcf9(0x19e)](_0x14e81a,_0x1a3266,{'enumerable':!0x0,'get':_0x5251dd});},_0x104b58['r']=function(_0x334b1e){var _0xe1737b=a0_0x11dd;_0xe1737b(0x114)!=typeof Symbol&&Symbol[_0xe1737b(0x1e7)]&&Object['defineProperty'](_0x334b1e,Symbol['toStringTag'],{'value':_0xe1737b(0x1a3)}),Object['defineProperty'](_0x334b1e,_0xe1737b(0x1d2),{'value':!0x0});},_0x104b58['t']=function(_0x5497ae,_0x2690c3){var _0x541abb=a0_0x11dd;if(0x1&_0x2690c3&&(_0x5497ae=_0x104b58(_0x5497ae)),0x8&_0x2690c3)return _0x5497ae;if(0x4&_0x2690c3&&'object'==typeof _0x5497ae&&_0x5497ae&&_0x5497ae[_0x541abb(0x1d2)])return _0x5497ae;var _0x3b18a4=Object[_0x541abb(0x125)](null);if(_0x104b58['r'](_0x3b18a4),Object[_0x541abb(0x19e)](_0x3b18a4,'default',{'enumerable':!0x0,'value':_0x5497ae}),0x2&_0x2690c3&&_0x541abb(0x1d4)!=typeof _0x5497ae){for(var _0x4880a0 in _0x5497ae)_0x104b58['d'](_0x3b18a4,_0x4880a0,function(_0x1c2cc6){return _0x5497ae[_0x1c2cc6];}[_0x541abb(0x150)](null,_0x4880a0));}return _0x3b18a4;},_0x104b58['n']=function(_0x9dff05){var _0x1fab54=a0_0x11dd,_0x5f577b=_0x9dff05&&_0x9dff05[_0x1fab54(0x1d2)]?function(){var _0x375006=_0x1fab54;return _0x9dff05[_0x375006(0x1b7)];}:function(){return _0x9dff05;};return _0x104b58['d'](_0x5f577b,'a',_0x5f577b),_0x5f577b;},_0x104b58['o']=function(_0x5ca170,_0x1615e9){var _0x52bc49=a0_0x11dd;return Object[_0x52bc49(0x159)]['hasOwnProperty'][_0x52bc49(0x1a0)](_0x5ca170,_0x1615e9);},_0x104b58['p']='',_0x104b58(_0x104b58['s']=0x14);}([function(_0x43c216,_0x4d68b2){var _0x380603=a0_0x11dd;_0x43c216[_0x380603(0x1bb)]=_0x5aa10b;},function(_0x1a6ce4,_0x1edb1f){var _0x452828=a0_0x11dd;_0x1a6ce4[_0x452828(0x1bb)]=_0x3303c4;},function(_0x1274b5,_0x40bcf1){var _0x35b6fa=a0_0x11dd;_0x1274b5[_0x35b6fa(0x1bb)]=function(_0x212dcf,_0x202e41){if(!(_0x212dcf instanceof _0x202e41))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');},_0x1274b5[_0x35b6fa(0x1bb)][_0x35b6fa(0x1b7)]=_0x1274b5[_0x35b6fa(0x1bb)],_0x1274b5[_0x35b6fa(0x1bb)][_0x35b6fa(0x1d2)]=!0x0;},function(_0x18c6b1,_0x542a36){var _0x4d5168=a0_0x11dd;function _0x707612(_0x57da14,_0x363c40){var _0x1bce26=a0_0x11dd;for(var _0x29a89e=0x0;_0x29a89e<_0x363c40[_0x1bce26(0x107)];_0x29a89e++){var _0x1f0a2b=_0x363c40[_0x29a89e];_0x1f0a2b[_0x1bce26(0xe1)]=_0x1f0a2b[_0x1bce26(0xe1)]||!0x1,_0x1f0a2b[_0x1bce26(0x152)]=!0x0,_0x1bce26(0x18e)in _0x1f0a2b&&(_0x1f0a2b[_0x1bce26(0x1a2)]=!0x0),Object[_0x1bce26(0x19e)](_0x57da14,_0x1f0a2b[_0x1bce26(0x1c2)],_0x1f0a2b);}}_0x18c6b1['exports']=function(_0x21f6d4,_0x3ceb62,_0x5aa352){var _0x449832=a0_0x11dd;return _0x3ceb62&&_0x707612(_0x21f6d4[_0x449832(0x159)],_0x3ceb62),_0x5aa352&&_0x707612(_0x21f6d4,_0x5aa352),_0x21f6d4;},_0x18c6b1['exports'][_0x4d5168(0x1b7)]=_0x18c6b1[_0x4d5168(0x1bb)],_0x18c6b1[_0x4d5168(0x1bb)]['__esModule']=!0x0;},function(_0x3039d9,_0x26d009){var _0x5c982f=a0_0x11dd;function _0x1b6d0d(_0x59c73f){var _0xd39661=a0_0x11dd;return _0x3039d9[_0xd39661(0x1bb)]=_0x1b6d0d=Object[_0xd39661(0x20a)]?Object[_0xd39661(0x14b)]:function(_0x2f4cc5){var _0x16c7ff=_0xd39661;return _0x2f4cc5[_0x16c7ff(0x158)]||Object['getPrototypeOf'](_0x2f4cc5);},_0x3039d9[_0xd39661(0x1bb)]['default']=_0x3039d9['exports'],_0x3039d9[_0xd39661(0x1bb)][_0xd39661(0x1d2)]=!0x0,_0x1b6d0d(_0x59c73f);}_0x3039d9[_0x5c982f(0x1bb)]=_0x1b6d0d,_0x3039d9['exports']['default']=_0x3039d9['exports'],_0x3039d9[_0x5c982f(0x1bb)][_0x5c982f(0x1d2)]=!0x0;},function(_0xf204b,_0xf8597e,_0x153e1e){var _0x199f47=a0_0x11dd,_0x143a36=_0x153e1e(0x11);_0xf204b['exports']=function(_0x465ea4,_0x566d67){var _0x53ec5d=a0_0x11dd;if(_0x53ec5d(0x162)!=typeof _0x566d67&&null!==_0x566d67)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x465ea4[_0x53ec5d(0x159)]=Object[_0x53ec5d(0x125)](_0x566d67&&_0x566d67['prototype'],{'constructor':{'value':_0x465ea4,'writable':!0x0,'configurable':!0x0}}),_0x566d67&&_0x143a36(_0x465ea4,_0x566d67);},_0xf204b[_0x199f47(0x1bb)][_0x199f47(0x1b7)]=_0xf204b[_0x199f47(0x1bb)],_0xf204b[_0x199f47(0x1bb)][_0x199f47(0x1d2)]=!0x0;},function(_0xc61d0c,_0x40aecd,_0x19b9c9){var _0x3cfef9=a0_0x11dd,_0x18ed8b=_0x19b9c9(0x12)[_0x3cfef9(0x1b7)],_0x37c262=_0x19b9c9(0x13);_0xc61d0c[_0x3cfef9(0x1bb)]=function(_0x557d46,_0x550202){var _0x109449=_0x3cfef9;if(_0x550202&&(_0x109449(0x23a)===_0x18ed8b(_0x550202)||_0x109449(0x162)==typeof _0x550202))return _0x550202;if(void 0x0!==_0x550202)throw new TypeError(_0x109449(0x17c));return _0x37c262(_0x557d46);},_0xc61d0c['exports']['default']=_0xc61d0c[_0x3cfef9(0x1bb)],_0xc61d0c[_0x3cfef9(0x1bb)][_0x3cfef9(0x1d2)]=!0x0;},function(_0x3f43d1,_0x14950c){var _0x1a6401=a0_0x11dd;_0x3f43d1[_0x1a6401(0x1bb)]=_0x1a6401(0x215);},function(_0x51dee7,_0x18460a){var _0x16bbd2=a0_0x11dd;_0x51dee7[_0x16bbd2(0x1bb)]=_0x16bbd2(0x18f);},function(_0x2c39db,_0x2d4ced){var _0x4d417c=a0_0x11dd;_0x2c39db[_0x4d417c(0x1bb)]=_0x4d417c(0x21a);},function(_0x1e844c,_0x1c4073){var _0x4cebd2=a0_0x11dd;_0x1e844c[_0x4cebd2(0x1bb)]=_0x4cebd2(0x1d6);},function(_0x41d388,_0x42cd65){var _0x144d11=a0_0x11dd;_0x41d388['exports']=_0x144d11(0x157);},function(_0x2fe78c,_0x28410c){var _0xe49143=a0_0x11dd;_0x2fe78c['exports']=_0xe49143(0x20c);},function(_0x11ec0d,_0x3a6941){var _0x546b27=a0_0x11dd;_0x11ec0d[_0x546b27(0x1bb)]=_0x546b27(0x1b3);},function(_0x2879b5,_0x3de92e){var _0x23e526=a0_0x11dd;_0x2879b5[_0x23e526(0x1bb)]=_0x23e526(0x186);},function(_0x27d649,_0x3e8d8a){var _0x590378=a0_0x11dd;_0x27d649['exports']=_0x590378(0x1a1);},function(_0x342a25,_0x17a05e){var _0x2ff819=a0_0x11dd;_0x342a25[_0x2ff819(0x1bb)]=_0x2ff819(0x10a);},function(_0x24f60a,_0x396154){var _0x1a6e2e=a0_0x11dd;function _0x537260(_0x4ab4fa,_0x5582ca){var _0x29c6eb=a0_0x11dd;return _0x24f60a[_0x29c6eb(0x1bb)]=_0x537260=Object[_0x29c6eb(0x20a)]||function(_0x442044,_0xdfed27){return _0x442044['__proto__']=_0xdfed27,_0x442044;},_0x24f60a[_0x29c6eb(0x1bb)]['default']=_0x24f60a[_0x29c6eb(0x1bb)],_0x24f60a[_0x29c6eb(0x1bb)][_0x29c6eb(0x1d2)]=!0x0,_0x537260(_0x4ab4fa,_0x5582ca);}_0x24f60a['exports']=_0x537260,_0x24f60a['exports'][_0x1a6e2e(0x1b7)]=_0x24f60a['exports'],_0x24f60a[_0x1a6e2e(0x1bb)][_0x1a6e2e(0x1d2)]=!0x0;},function(_0x5bc766,_0x4be5c0){var _0x4a06a8=a0_0x11dd;function _0x434d78(_0x47f83d){var _0x38eee7=a0_0x11dd;return _0x38eee7(0x162)==typeof Symbol&&_0x38eee7(0x168)==typeof Symbol[_0x38eee7(0xd0)]?(_0x5bc766['exports']=_0x434d78=function(_0x9fffca){return typeof _0x9fffca;},_0x5bc766['exports']['default']=_0x5bc766[_0x38eee7(0x1bb)],_0x5bc766['exports']['__esModule']=!0x0):(_0x5bc766['exports']=_0x434d78=function(_0x56c635){var _0x5984a4=_0x38eee7;return _0x56c635&&_0x5984a4(0x162)==typeof Symbol&&_0x56c635[_0x5984a4(0x179)]===Symbol&&_0x56c635!==Symbol['prototype']?_0x5984a4(0x168):typeof _0x56c635;},_0x5bc766[_0x38eee7(0x1bb)][_0x38eee7(0x1b7)]=_0x5bc766['exports'],_0x5bc766[_0x38eee7(0x1bb)][_0x38eee7(0x1d2)]=!0x0),_0x434d78(_0x47f83d);}_0x5bc766['exports']=_0x434d78,_0x5bc766[_0x4a06a8(0x1bb)][_0x4a06a8(0x1b7)]=_0x5bc766['exports'],_0x5bc766['exports']['__esModule']=!0x0;},function(_0x5dcc41,_0xc75203){var _0x27f45a=a0_0x11dd;_0x5dcc41[_0x27f45a(0x1bb)]=function(_0x364904){var _0x55264d=_0x27f45a;if(void 0x0===_0x364904)throw new ReferenceError(_0x55264d(0x180));return _0x364904;},_0x5dcc41[_0x27f45a(0x1bb)][_0x27f45a(0x1b7)]=_0x5dcc41[_0x27f45a(0x1bb)],_0x5dcc41[_0x27f45a(0x1bb)][_0x27f45a(0x1d2)]=!0x0;},function(_0x45322f,_0x321308,_0x4f76cd){'use strict';var _0x2a78c8=a0_0x11dd;_0x4f76cd['r'](_0x321308),_0x4f76cd['d'](_0x321308,_0x2a78c8(0x14c),function(){return _0x2395ba;}),_0x4f76cd['d'](_0x321308,'CanvasWindLayer',function(){return _0x1821ac;}),_0x4f76cd['d'](_0x321308,_0x2a78c8(0x22b),function(){return _0x2e0492;});var _0x2e0492={};_0x4f76cd['r'](_0x2e0492),_0x4f76cd['d'](_0x2e0492,_0x2a78c8(0xf9),function(){return _0x2ed0d5;}),_0x4f76cd['d'](_0x2e0492,_0x2a78c8(0x175),function(){return _0x20db0a;}),_0x4f76cd['d'](_0x2e0492,_0x2a78c8(0x1a6),function(){return _0x1f067d;}),_0x4f76cd['d'](_0x2e0492,_0x2a78c8(0x240),function(){return _0x5603fe;});var _0x40c284=_0x4f76cd(0x1),_0x30c97f=_0x4f76cd(0x2),_0x425363=_0x4f76cd['n'](_0x30c97f),_0xd7fbbb=_0x4f76cd(0x3),_0x16cc15=_0x4f76cd['n'](_0xd7fbbb),_0x507f99=_0x4f76cd(0x5),_0x422b40=_0x4f76cd['n'](_0x507f99),_0x12e7b3=_0x4f76cd(0x6),_0x52d12a=_0x4f76cd['n'](_0x12e7b3),_0x23935e=_0x4f76cd(0x4),_0x225c07=_0x4f76cd['n'](_0x23935e),_0x547085=_0x4f76cd(0x0),_0x2248dc=function(){var _0x2a0359=_0x2a78c8;function _0x831cba(_0x2cbf8d){var _0x5f5564=a0_0x11dd;_0x425363()(this,_0x831cba),this[_0x5f5564(0xeb)]=_0x2cbf8d[_0x5f5564(0xeb)],this['geometry']=_0x2cbf8d['geometry'],this['attributeLocations']=_0x2cbf8d[_0x5f5564(0x1db)],this['primitiveType']=_0x2cbf8d['primitiveType'],this[_0x5f5564(0x11c)]=_0x2cbf8d[_0x5f5564(0x11c)],this[_0x5f5564(0x10c)]=_0x2cbf8d['vertexShaderSource'],this[_0x5f5564(0x123)]=_0x2cbf8d['fragmentShaderSource'],this['rawRenderState']=_0x2cbf8d[_0x5f5564(0x1da)],this[_0x5f5564(0x16d)]=_0x2cbf8d[_0x5f5564(0x16d)],this[_0x5f5564(0x1bf)]=_0x2cbf8d[_0x5f5564(0x1bf)],this[_0x5f5564(0x1d3)]=_0x547085[_0x5f5564(0xf6)](_0x2cbf8d['autoClear'],!0x1),this[_0x5f5564(0x15d)]=_0x2cbf8d[_0x5f5564(0x15d)],this[_0x5f5564(0x140)]=!0x0,this[_0x5f5564(0xf2)]=void 0x0,this[_0x5f5564(0x1af)]=void 0x0,this[_0x5f5564(0x1d3)]&&(this[_0x5f5564(0x1af)]=new _0x547085[(_0x5f5564(0x11b))]({'color':new _0x547085[(_0x5f5564(0x207))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x5f5564(0x16d)],'pass':_0x547085[_0x5f5564(0x12e)][_0x5f5564(0xd6)]}));}return _0x16cc15()(_0x831cba,[{'key':_0x2a0359(0x1ff),'value':function(_0x4944df){var _0x3d843c=_0x2a0359;switch(this[_0x3d843c(0xeb)]){case'Draw':var _0x219fd2=_0x547085['VertexArray'][_0x3d843c(0x16c)]({'context':_0x4944df,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x547085[_0x3d843c(0x121)][_0x3d843c(0xd5)]}),_0x5a524e=_0x547085[_0x3d843c(0x10b)]['fromCache']({'context':_0x4944df,'attributeLocations':this['attributeLocations'],'vertexShaderSource':this[_0x3d843c(0x10c)],'fragmentShaderSource':this[_0x3d843c(0x123)]}),_0x3ca99c=_0x547085[_0x3d843c(0x13a)][_0x3d843c(0x238)](this[_0x3d843c(0x1da)]);return new _0x547085['DrawCommand']({'owner':this,'vertexArray':_0x219fd2,'primitiveType':this[_0x3d843c(0x224)],'uniformMap':this[_0x3d843c(0x11c)],'modelMatrix':_0x547085[_0x3d843c(0x1fe)]['IDENTITY'],'shaderProgram':_0x5a524e,'framebuffer':this[_0x3d843c(0x16d)],'renderState':_0x3ca99c,'pass':_0x547085[_0x3d843c(0x12e)][_0x3d843c(0xd6)]});case'Compute':return new _0x547085['ComputeCommand']({'owner':this,'fragmentShaderSource':this['fragmentShaderSource'],'uniformMap':this[_0x3d843c(0x11c)],'outputTexture':this[_0x3d843c(0x1bf)],'persists':!0x0});}}},{'key':_0x2a0359(0x1ae),'value':function(_0x28fa57,_0x403bc2){var _0x34e58f=_0x2a0359;this[_0x34e58f(0x1c6)]=_0x403bc2;var _0x383d65=_0x547085[_0x34e58f(0x194)]['fromGeometry']({'context':_0x28fa57,'geometry':this[_0x34e58f(0x1c6)],'attributeLocations':this[_0x34e58f(0x1db)],'bufferUsage':_0x547085[_0x34e58f(0x121)]['STATIC_DRAW']});this[_0x34e58f(0xf2)]['vertexArray']=_0x383d65;}},{'key':_0x2a0359(0x1dd),'value':function(_0x4fb2b6){var _0x3c6ec7=_0x2a0359;this[_0x3c6ec7(0x140)]&&_0x4fb2b6[_0x3c6ec7(0x145)]==_0x547085[_0x3c6ec7(0x108)][_0x3c6ec7(0x1d8)]&&(_0x547085[_0x3c6ec7(0x1cc)](this[_0x3c6ec7(0xf2)])||(this[_0x3c6ec7(0xf2)]=this[_0x3c6ec7(0x1ff)](_0x4fb2b6[_0x3c6ec7(0xf5)])),_0x547085[_0x3c6ec7(0x1cc)](this[_0x3c6ec7(0x15d)])&&this[_0x3c6ec7(0x15d)](),_0x547085[_0x3c6ec7(0x1cc)](this[_0x3c6ec7(0x1af)])&&_0x4fb2b6[_0x3c6ec7(0x198)][_0x3c6ec7(0xea)](this[_0x3c6ec7(0x1af)]),_0x4fb2b6[_0x3c6ec7(0x198)][_0x3c6ec7(0xea)](this['commandToExecute']));}},{'key':_0x2a0359(0x131),'value':function(){return!0x1;}},{'key':_0x2a0359(0x19a),'value':function(){var _0x5bf1fb=_0x2a0359;return _0x547085[_0x5bf1fb(0x1cc)](this[_0x5bf1fb(0xf2)])&&(this[_0x5bf1fb(0xf2)][_0x5bf1fb(0x10e)]=this[_0x5bf1fb(0xf2)][_0x5bf1fb(0x10e)]&&this[_0x5bf1fb(0xf2)]['shaderProgram'][_0x5bf1fb(0x19a)]()),_0x547085[_0x5bf1fb(0x226)](this);}}]),_0x831cba;}(),_0x4b651f={'getFullscreenQuad':function(){var _0x39bbb0=_0x2a78c8;return new _0x547085['Geometry']({'attributes':new _0x547085[(_0x39bbb0(0x1f2))]({'position':new _0x547085['GeometryAttribute']({'componentDatatype':_0x547085[_0x39bbb0(0xf1)][_0x39bbb0(0x132)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x547085[(_0x39bbb0(0x243))]({'componentDatatype':_0x547085[_0x39bbb0(0xf1)][_0x39bbb0(0x132)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x26eb79,_0x335cca){var _0x4d8e92=_0x2a78c8;if(_0x547085[_0x4d8e92(0x1cc)](_0x335cca)){var _0x304e25={};_0x304e25[_0x4d8e92(0x1cf)]=_0x335cca,_0x26eb79['source']=_0x304e25;}return new _0x547085['Texture'](_0x26eb79);},'createFramebuffer':function(_0x5ab26c,_0x2c1d89,_0x472101){var _0x513e87=_0x2a78c8;return new _0x547085[(_0x513e87(0x166))]({'context':_0x5ab26c,'colorTextures':[_0x2c1d89],'depthTexture':_0x472101});},'createRawRenderState':function(_0x202b91){var _0x3e5b22=_0x2a78c8,_0x4b5435={'viewport':_0x202b91[_0x3e5b22(0x210)],'depthTest':_0x202b91['depthTest'],'depthMask':_0x202b91['depthMask'],'blending':_0x202b91[_0x3e5b22(0x1e9)]};return _0x547085[_0x3e5b22(0x14e)][_0x3e5b22(0x182)](!0x0,!0x1,_0x4b5435);},'viewRectangleToLonLatRange':function(_0x5b5bb1){var _0x52cd2f=_0x2a78c8,_0x3c39b1,_0x46355a,_0x3319c5={},_0x3c3e13=_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x170)](_0x5b5bb1[_0x52cd2f(0x185)],_0x547085['Math'][_0x52cd2f(0x197)]),_0x59f175=_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x170)](_0x5b5bb1[_0x52cd2f(0x1eb)],_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x197)]),_0x5b70c9=_0x5b5bb1[_0x52cd2f(0x12d)];_0x5b70c9>_0x547085[_0x52cd2f(0x22c)]['THREE_PI_OVER_TWO']?(_0x3c39b1=0x0,_0x46355a=_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x197)]):_0x59f175-_0x3c3e13<_0x5b70c9?(_0x3c39b1=_0x3c3e13,_0x46355a=_0x3c3e13+_0x5b70c9):(_0x3c39b1=_0x3c3e13,_0x46355a=_0x59f175),_0x3319c5['lon']={'min':_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x129)](_0x3c39b1),'max':_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x129)](_0x46355a)};var _0x1cc070=_0x5b5bb1['south'],_0x3d6e98=_0x5b5bb1[_0x52cd2f(0x17f)],_0xa51910=_0x5b5bb1[_0x52cd2f(0xe2)],_0x4f92d9=_0xa51910>_0x547085[_0x52cd2f(0x22c)]['PI']/0xc?_0xa51910/0x2:0x0,_0x18c404=_0x547085[_0x52cd2f(0x22c)]['clampToLatitudeRange'](_0x1cc070-_0x4f92d9),_0x23c8f4=_0x547085['Math']['clampToLatitudeRange'](_0x3d6e98+_0x4f92d9);return _0x18c404<-_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x1a7)]&&(_0x18c404=-_0x547085['Math'][_0x52cd2f(0x120)]),_0x23c8f4>_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x1a7)]&&(_0x23c8f4=_0x547085['Math']['PI_OVER_TWO']),_0x3319c5[_0x52cd2f(0x130)]={'min':_0x547085['Math'][_0x52cd2f(0x129)](_0x18c404),'max':_0x547085[_0x52cd2f(0x22c)][_0x52cd2f(0x129)](_0x23c8f4)},_0x3319c5;}},_0x1231bb=_0x4f76cd(0x8),_0x338e5f=_0x4f76cd['n'](_0x1231bb),_0x5ed00f=_0x4f76cd(0x9),_0x2aadbf=_0x4f76cd['n'](_0x5ed00f),_0xe974b4=_0x4f76cd(0x7),_0xf61bc7=_0x4f76cd['n'](_0xe974b4),_0x51852e=_0x4f76cd(0xa),_0x1c0d41=_0x4f76cd['n'](_0x51852e),_0xd5d124=_0x4f76cd(0xb),_0x1ea575=_0x4f76cd['n'](_0xd5d124),_0x4bc918=function(){var _0x53363d=_0x2a78c8;function _0x3d1958(_0x29a871,_0xcd0e35,_0x441053,_0x540a24,_0xf8a032){var _0x499072=a0_0x11dd;_0x425363()(this,_0x3d1958),this[_0x499072(0x229)](_0x29a871,_0xcd0e35),this['createRenderingFramebuffers'](_0x29a871),this[_0x499072(0x187)](_0x29a871,_0x441053,_0x540a24,_0xf8a032);}return _0x16cc15()(_0x3d1958,[{'key':'createRenderingTextures','value':function(_0x45a1ab,_0x52f741){var _0x10b8d3=a0_0x11dd,_0x59552f={'context':_0x45a1ab,'width':_0x45a1ab['drawingBufferWidth'],'height':_0x45a1ab[_0x10b8d3(0x1d9)],'pixelFormat':_0x547085[_0x10b8d3(0x1b0)][_0x10b8d3(0x178)],'pixelDatatype':_0x547085['PixelDatatype']['UNSIGNED_BYTE']},_0xfeb619={'context':_0x45a1ab,'width':_0x45a1ab[_0x10b8d3(0xe9)],'height':_0x45a1ab[_0x10b8d3(0x1d9)],'pixelFormat':_0x547085[_0x10b8d3(0x1b0)]['DEPTH_COMPONENT'],'pixelDatatype':_0x547085[_0x10b8d3(0x1c3)][_0x10b8d3(0x146)]},_0x183523={'context':_0x45a1ab,'width':_0x52f741['colorTable'][_0x10b8d3(0x184)],'height':0x1,'pixelFormat':_0x547085[_0x10b8d3(0x1b0)][_0x10b8d3(0x227)],'pixelDatatype':_0x547085[_0x10b8d3(0x1c3)][_0x10b8d3(0x132)],'sampler':new _0x547085[(_0x10b8d3(0x1ca))]({'minificationFilter':_0x547085[_0x10b8d3(0x12b)][_0x10b8d3(0x242)],'magnificationFilter':_0x547085[_0x10b8d3(0x195)][_0x10b8d3(0x242)]})};this[_0x10b8d3(0x1de)]={'segmentsColor':_0x4b651f[_0x10b8d3(0x126)](_0x59552f),'segmentsDepth':_0x4b651f['createTexture'](_0xfeb619),'currentTrailsColor':_0x4b651f[_0x10b8d3(0x126)](_0x59552f),'currentTrailsDepth':_0x4b651f[_0x10b8d3(0x126)](_0xfeb619),'nextTrailsColor':_0x4b651f[_0x10b8d3(0x126)](_0x59552f),'nextTrailsDepth':_0x4b651f[_0x10b8d3(0x126)](_0xfeb619),'colorTable':_0x4b651f[_0x10b8d3(0x126)](_0x183523,_0x52f741['colorTable'][_0x10b8d3(0x222)])};}},{'key':'createRenderingFramebuffers','value':function(_0x488af8){var _0x5ed8ee=a0_0x11dd;this[_0x5ed8ee(0xce)]={'segments':_0x4b651f[_0x5ed8ee(0x20b)](_0x488af8,this[_0x5ed8ee(0x1de)]['segmentsColor'],this['textures']['segmentsDepth']),'currentTrails':_0x4b651f[_0x5ed8ee(0x20b)](_0x488af8,this['textures']['currentTrailsColor'],this[_0x5ed8ee(0x1de)][_0x5ed8ee(0x201)]),'nextTrails':_0x4b651f[_0x5ed8ee(0x20b)](_0x488af8,this['textures'][_0x5ed8ee(0x17d)],this[_0x5ed8ee(0x1de)]['nextTrailsDepth'])};}},{'key':_0x53363d(0x18d),'value':function(_0x7caf6b){var _0x519bc7=_0x53363d;for(var _0x1c712a=[],_0x2f58c8=0x0;_0x2f58c8<_0x7caf6b[_0x519bc7(0x234)];_0x2f58c8++)for(var _0x147c8e=0x0;_0x147c8e<_0x7caf6b[_0x519bc7(0x234)];_0x147c8e++)for(var _0x33e1d6=0x0;_0x33e1d6<0x4;_0x33e1d6++)_0x1c712a[_0x519bc7(0xea)](_0x2f58c8/_0x7caf6b['particlesTextureSize']),_0x1c712a[_0x519bc7(0xea)](_0x147c8e/_0x7caf6b[_0x519bc7(0x234)]);_0x1c712a=new Float32Array(_0x1c712a);for(var _0x54ddce=[],_0x1de328=[-0x1,0x1],_0x1475c1=[-0x1,0x1],_0x2ff3d6=0x0;_0x2ff3d6<_0x7caf6b[_0x519bc7(0x1e2)];_0x2ff3d6++)for(var _0x2f0d07=0x0;_0x2f0d07<0x2;_0x2f0d07++)for(var _0x4c9b73=0x0;_0x4c9b73<0x2;_0x4c9b73++)_0x54ddce[_0x519bc7(0xea)](_0x1de328[_0x2f0d07]),_0x54ddce[_0x519bc7(0xea)](_0x1475c1[_0x4c9b73]),_0x54ddce[_0x519bc7(0xea)](0x0);_0x54ddce=new Float32Array(_0x54ddce);for(var _0x2d4266=0x6*_0x7caf6b['maxParticles'],_0x1cdd54=new Uint32Array(_0x2d4266),_0x5d5493=0x0,_0xc586a4=0x0,_0x92c5cf=0x0;_0x5d5493<_0x7caf6b[_0x519bc7(0x1e2)];_0x5d5493++)_0x1cdd54[_0xc586a4++]=_0x92c5cf+0x0,_0x1cdd54[_0xc586a4++]=_0x92c5cf+0x1,_0x1cdd54[_0xc586a4++]=_0x92c5cf+0x2,_0x1cdd54[_0xc586a4++]=_0x92c5cf+0x2,_0x1cdd54[_0xc586a4++]=_0x92c5cf+0x1,_0x1cdd54[_0xc586a4++]=_0x92c5cf+0x3,_0x92c5cf+=0x4;return new _0x547085[(_0x519bc7(0x16f))]({'attributes':new _0x547085['GeometryAttributes']({'st':new _0x547085[(_0x519bc7(0x243))]({'componentDatatype':_0x547085[_0x519bc7(0xf1)][_0x519bc7(0x132)],'componentsPerAttribute':0x2,'values':_0x1c712a}),'normal':new _0x547085[(_0x519bc7(0x243))]({'componentDatatype':_0x547085['ComponentDatatype'][_0x519bc7(0x132)],'componentsPerAttribute':0x3,'values':_0x54ddce})}),'indices':_0x1cdd54});}},{'key':_0x53363d(0x187),'value':function(_0x4c9de9,_0x31583e,_0x12c1c8,_0x1a3f9e){var _0x2e3c28=_0x53363d,_0x134603=this;this['primitives']={'segments':new _0x2248dc({'commandType':_0x2e3c28(0x117),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x2e3c28(0x18d)](_0x31583e),'primitiveType':_0x547085['PrimitiveType']['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function(){var _0x1c2282=_0x2e3c28;return _0x1a3f9e['particlesTextures'][_0x1c2282(0x136)];},'postProcessingPosition':function(){var _0x4032bf=_0x2e3c28;return _0x1a3f9e[_0x4032bf(0x199)][_0x4032bf(0x218)];},'postProcessingSpeed':function(){var _0x8c21f0=_0x2e3c28;return _0x1a3f9e[_0x8c21f0(0x199)][_0x8c21f0(0xd1)];},'colorTable':function(){var _0x525c1f=_0x2e3c28;return _0x134603['textures'][_0x525c1f(0x116)];},'aspect':function(){var _0x3d4a6e=_0x2e3c28;return _0x4c9de9[_0x3d4a6e(0xe9)]/_0x4c9de9[_0x3d4a6e(0x1d9)];},'pixelSize':function(){var _0x2a9476=_0x2e3c28;return _0x12c1c8[_0x2a9476(0x202)];},'lineWidth':function(){var _0x3dfa64=_0x2e3c28;return _0x31583e[_0x3dfa64(0xfd)];},'particleHeight':function(){return _0x31583e['particleHeight'];}},'vertexShaderSource':new _0x547085[(_0x2e3c28(0xd4))]({'sources':[_0x338e5f['a']]}),'fragmentShaderSource':new _0x547085['ShaderSource']({'sources':[_0x2aadbf['a']]}),'rawRenderState':_0x4b651f[_0x2e3c28(0x15f)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x2e3c28(0xce)][_0x2e3c28(0x15b)],'autoClear':!0x0}),'trails':new _0x2248dc({'commandType':_0x2e3c28(0x117),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x4b651f[_0x2e3c28(0x142)](),'primitiveType':_0x547085[_0x2e3c28(0x1e8)][_0x2e3c28(0x1b2)],'uniformMap':{'segmentsColorTexture':function(){var _0x5576eb=_0x2e3c28;return _0x134603[_0x5576eb(0x1de)][_0x5576eb(0x21d)];},'segmentsDepthTexture':function(){var _0xf15388=_0x2e3c28;return _0x134603['textures'][_0xf15388(0x1ee)];},'currentTrailsColor':function(){var _0x487303=_0x2e3c28;return _0x134603[_0x487303(0xce)][_0x487303(0x200)][_0x487303(0x119)](0x0);},'trailsDepthTexture':function(){var _0x2b2923=_0x2e3c28;return _0x134603['framebuffers'][_0x2b2923(0x200)][_0x2b2923(0xda)];},'fadeOpacity':function(){var _0x1d497c=_0x2e3c28;return _0x31583e[_0x1d497c(0x1e6)];}},'vertexShaderSource':new _0x547085[(_0x2e3c28(0xd4))]({'defines':[_0x2e3c28(0xe5)],'sources':[_0xf61bc7['a']]}),'fragmentShaderSource':new _0x547085[(_0x2e3c28(0xd4))]({'defines':[_0x2e3c28(0x206)],'sources':[_0x1c0d41['a']]}),'rawRenderState':_0x4b651f[_0x2e3c28(0x15f)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x547085[_0x2e3c28(0x1c0)]['ALWAYS']},'depthMask':!0x0}),'framebuffer':this[_0x2e3c28(0xce)]['nextTrails'],'autoClear':!0x0,'preExecute':function(){var _0x3a1743=_0x2e3c28,_0x1d5f4d;_0x1d5f4d=_0x134603[_0x3a1743(0xce)][_0x3a1743(0x200)],_0x134603[_0x3a1743(0xce)]['currentTrails']=_0x134603[_0x3a1743(0xce)][_0x3a1743(0x192)],_0x134603[_0x3a1743(0xce)][_0x3a1743(0x192)]=_0x1d5f4d,_0x134603[_0x3a1743(0x141)]['trails'][_0x3a1743(0xf2)][_0x3a1743(0x16d)]=_0x134603[_0x3a1743(0xce)][_0x3a1743(0x192)],_0x134603[_0x3a1743(0x141)][_0x3a1743(0x183)][_0x3a1743(0x1af)]['framebuffer']=_0x134603[_0x3a1743(0xce)][_0x3a1743(0x192)];}}),'screen':new _0x2248dc({'commandType':_0x2e3c28(0x117),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x4b651f[_0x2e3c28(0x142)](),'primitiveType':_0x547085[_0x2e3c28(0x1e8)][_0x2e3c28(0x1b2)],'uniformMap':{'trailsColorTexture':function(){var _0x396487=_0x2e3c28;return _0x134603['framebuffers'][_0x396487(0x192)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x517ab2=_0x2e3c28;return _0x134603['framebuffers'][_0x517ab2(0x192)][_0x517ab2(0xda)];}},'vertexShaderSource':new _0x547085[(_0x2e3c28(0xd4))]({'defines':[_0x2e3c28(0xe5)],'sources':[_0xf61bc7['a']]}),'fragmentShaderSource':new _0x547085[(_0x2e3c28(0xd4))]({'defines':[_0x2e3c28(0x206)],'sources':[_0x1ea575['a']]}),'rawRenderState':_0x4b651f[_0x2e3c28(0x15f)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x3d1958;}(),_0x29dc2d=_0x4f76cd(0xc),_0x534331=_0x4f76cd['n'](_0x29dc2d),_0x7336e9=_0x4f76cd(0xd),_0x325fd5=_0x4f76cd['n'](_0x7336e9),_0x37a5d8=_0x4f76cd(0xe),_0x488f59=_0x4f76cd['n'](_0x37a5d8),_0x1a4f2b=_0x4f76cd(0xf),_0x28c797=_0x4f76cd['n'](_0x1a4f2b),_0x12b787=_0x4f76cd(0x10),_0x4decf6=_0x4f76cd['n'](_0x12b787),_0x5475a3=function(){var _0x45ae71=_0x2a78c8;function _0x4537fd(_0x5adfa7,_0xd126bd,_0x50e7f8,_0x15e932){var _0x4e64b6=a0_0x11dd;_0x425363()(this,_0x4537fd),this[_0x4e64b6(0x1b4)]=_0xd126bd,this[_0x4e64b6(0x230)](_0x5adfa7,_0xd126bd),this[_0x4e64b6(0x102)](_0x5adfa7,_0x50e7f8,_0x15e932),this[_0x4e64b6(0x1c8)](_0xd126bd,_0x50e7f8,_0x15e932);}return _0x16cc15()(_0x4537fd,[{'key':_0x45ae71(0x230),'value':function(_0x18307f,_0x5cd52e){var _0x1b4a06=_0x45ae71,_0x5c1595={'context':_0x18307f,'width':_0x5cd52e[_0x1b4a06(0x1d1)][_0x1b4a06(0x181)],'height':_0x5cd52e[_0x1b4a06(0x1d1)][_0x1b4a06(0x130)]*_0x5cd52e[_0x1b4a06(0x1d1)][_0x1b4a06(0x208)],'pixelFormat':_0x547085[_0x1b4a06(0x1b0)][_0x1b4a06(0x153)],'pixelDatatype':_0x547085[_0x1b4a06(0x1c3)][_0x1b4a06(0x132)],'flipY':!0x1,'sampler':new _0x547085[(_0x1b4a06(0x1ca))]({'minificationFilter':_0x547085['TextureMinificationFilter'][_0x1b4a06(0x220)],'magnificationFilter':_0x547085['TextureMagnificationFilter']['NEAREST']})};this['windTextures']={'U':_0x4b651f[_0x1b4a06(0x126)](_0x5c1595,_0x5cd52e['U'][_0x1b4a06(0x222)]),'V':_0x4b651f['createTexture'](_0x5c1595,_0x5cd52e['V'][_0x1b4a06(0x222)])};}},{'key':_0x45ae71(0x102),'value':function(_0x198919,_0x15850f,_0x56a772){var _0x558a79=_0x45ae71,_0x30ac49={'context':_0x198919,'width':_0x15850f['particlesTextureSize'],'height':_0x15850f[_0x558a79(0x234)],'pixelFormat':_0x547085[_0x558a79(0x1b0)]['RGBA'],'pixelDatatype':_0x547085[_0x558a79(0x1c3)][_0x558a79(0x132)],'flipY':!0x1,'sampler':new _0x547085[(_0x558a79(0x1ca))]({'minificationFilter':_0x547085['TextureMinificationFilter'][_0x558a79(0x220)],'magnificationFilter':_0x547085[_0x558a79(0x195)]['NEAREST']})},_0x3df595=this['randomizeParticles'](_0x15850f[_0x558a79(0x1e2)],_0x56a772),_0x59b5c9=new Float32Array(0x4*_0x15850f['maxParticles'])[_0x558a79(0x1c9)](0x0);this['particlesTextures']={'particlesWind':_0x4b651f[_0x558a79(0x126)](_0x30ac49),'currentParticlesPosition':_0x4b651f[_0x558a79(0x126)](_0x30ac49,_0x3df595),'nextParticlesPosition':_0x4b651f[_0x558a79(0x126)](_0x30ac49,_0x3df595),'currentParticlesSpeed':_0x4b651f[_0x558a79(0x126)](_0x30ac49,_0x59b5c9),'nextParticlesSpeed':_0x4b651f['createTexture'](_0x30ac49,_0x59b5c9),'postProcessingPosition':_0x4b651f[_0x558a79(0x126)](_0x30ac49,_0x3df595),'postProcessingSpeed':_0x4b651f['createTexture'](_0x30ac49,_0x59b5c9)};}},{'key':'randomizeParticles','value':function(_0x1c010e,_0x51155d){var _0x588cf=_0x45ae71;for(var _0x331fc9=new Float32Array(0x4*_0x1c010e),_0x59149f=0x0;_0x59149f<_0x1c010e;_0x59149f++)_0x331fc9[0x4*_0x59149f]=_0x547085[_0x588cf(0x22c)]['randomBetween'](_0x51155d[_0x588cf(0x16e)]['x'],_0x51155d[_0x588cf(0x16e)]['y']),_0x331fc9[0x4*_0x59149f+0x1]=_0x547085['Math']['randomBetween'](_0x51155d[_0x588cf(0x214)]['x'],_0x51155d[_0x588cf(0x214)]['y']),_0x331fc9[0x4*_0x59149f+0x2]=_0x547085[_0x588cf(0x22c)]['randomBetween'](this[_0x588cf(0x1b4)][_0x588cf(0x208)]['min'],this[_0x588cf(0x1b4)]['lev']['max']),_0x331fc9[0x4*_0x59149f+0x3]=0x0;return _0x331fc9;}},{'key':'destroyParticlesTextures','value':function(){var _0x27c0a3=_0x45ae71,_0x5baf9b=this;Object['keys'](this[_0x27c0a3(0x199)])['forEach'](function(_0xe354dc){var _0x516ca5=_0x27c0a3;_0x5baf9b[_0x516ca5(0x199)][_0xe354dc]['destroy']();});}},{'key':'createComputingPrimitives','value':function(_0x5e7ed6,_0x275cf2,_0x411a48){var _0x1dfc2a=_0x45ae71,_0x5174bb=new _0x547085['Cartesian3'](_0x5e7ed6[_0x1dfc2a(0x1d1)][_0x1dfc2a(0x181)],_0x5e7ed6[_0x1dfc2a(0x1d1)][_0x1dfc2a(0x130)],_0x5e7ed6[_0x1dfc2a(0x1d1)][_0x1dfc2a(0x208)]),_0x3f17a8=new _0x547085[(_0x1dfc2a(0x205))](_0x5e7ed6['lon']['min'],_0x5e7ed6[_0x1dfc2a(0x130)][_0x1dfc2a(0x172)],_0x5e7ed6[_0x1dfc2a(0x208)][_0x1dfc2a(0x172)]),_0x2c2fbf=new _0x547085[(_0x1dfc2a(0x205))](_0x5e7ed6[_0x1dfc2a(0x181)][_0x1dfc2a(0x18c)],_0x5e7ed6['lat']['max'],_0x5e7ed6[_0x1dfc2a(0x208)][_0x1dfc2a(0x18c)]),_0x5a1ca9=new _0x547085[(_0x1dfc2a(0x205))]((_0x2c2fbf['x']-_0x3f17a8['x'])/(_0x5174bb['x']-0x1),(_0x2c2fbf['y']-_0x3f17a8['y'])/(_0x5174bb['y']-0x1),_0x5174bb['z']>0x1?(_0x2c2fbf['z']-_0x3f17a8['z'])/(_0x5174bb['z']-0x1):0x1),_0x30f8c9=new _0x547085[(_0x1dfc2a(0x1b6))](_0x5e7ed6['U'][_0x1dfc2a(0x172)],_0x5e7ed6['U'][_0x1dfc2a(0x18c)]),_0x414871=new _0x547085[(_0x1dfc2a(0x1b6))](_0x5e7ed6['V'][_0x1dfc2a(0x172)],_0x5e7ed6['V'][_0x1dfc2a(0x18c)]),_0x374157=this;this[_0x1dfc2a(0x141)]={'getWind':new _0x2248dc({'commandType':_0x1dfc2a(0x15a),'uniformMap':{'U':function(){var _0x54eab8=_0x1dfc2a;return _0x374157[_0x54eab8(0x1e3)]['U'];},'V':function(){var _0x29b30a=_0x1dfc2a;return _0x374157[_0x29b30a(0x1e3)]['V'];},'currentParticlesPosition':function(){var _0x4cb8e0=_0x1dfc2a;return _0x374157[_0x4cb8e0(0x199)]['currentParticlesPosition'];},'dimension':function(){return _0x5174bb;},'minimum':function(){return _0x3f17a8;},'maximum':function(){return _0x2c2fbf;},'interval':function(){return _0x5a1ca9;}},'fragmentShaderSource':new _0x547085[(_0x1dfc2a(0xd4))]({'sources':[_0x534331['a']]}),'outputTexture':this[_0x1dfc2a(0x199)][_0x1dfc2a(0x1ed)],'preExecute':function(){var _0x523797=_0x1dfc2a;_0x374157[_0x523797(0x141)][_0x523797(0x1a4)]['commandToExecute'][_0x523797(0x1bf)]=_0x374157['particlesTextures']['particlesWind'];}}),'updateSpeed':new _0x2248dc({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function(){var _0x1b68ac=_0x1dfc2a;return _0x374157['particlesTextures'][_0x1b68ac(0xe8)];},'particlesWind':function(){var _0x5583bd=_0x1dfc2a;return _0x374157['particlesTextures'][_0x5583bd(0x1ed)];},'uSpeedRange':function(){return _0x30f8c9;},'vSpeedRange':function(){return _0x414871;},'pixelSize':function(){var _0x108db7=_0x1dfc2a;return _0x411a48[_0x108db7(0x202)];},'speedFactor':function(){var _0x2a2ff4=_0x1dfc2a;return _0x275cf2[_0x2a2ff4(0xde)];}},'fragmentShaderSource':new _0x547085['ShaderSource']({'sources':[_0x325fd5['a']]}),'outputTexture':this[_0x1dfc2a(0x199)]['nextParticlesSpeed'],'preExecute':function(){var _0x4c092d=_0x1dfc2a,_0x28a218;_0x28a218=_0x374157[_0x4c092d(0x199)][_0x4c092d(0xe8)],_0x374157[_0x4c092d(0x199)][_0x4c092d(0xe8)]=_0x374157[_0x4c092d(0x199)][_0x4c092d(0xd1)],_0x374157['particlesTextures'][_0x4c092d(0xd1)]=_0x28a218,_0x374157[_0x4c092d(0x141)]['updateSpeed'][_0x4c092d(0xf2)][_0x4c092d(0x1bf)]=_0x374157[_0x4c092d(0x199)][_0x4c092d(0x217)];}}),'updatePosition':new _0x2248dc({'commandType':_0x1dfc2a(0x15a),'uniformMap':{'currentParticlesPosition':function(){var _0x1084b2=_0x1dfc2a;return _0x374157['particlesTextures'][_0x1084b2(0x136)];},'currentParticlesSpeed':function(){var _0x991eea=_0x1dfc2a;return _0x374157['particlesTextures'][_0x991eea(0xe8)];}},'fragmentShaderSource':new _0x547085['ShaderSource']({'sources':[_0x488f59['a']]}),'outputTexture':this[_0x1dfc2a(0x199)][_0x1dfc2a(0x1ad)],'preExecute':function(){var _0x4f4fb7=_0x1dfc2a,_0x594314;_0x594314=_0x374157[_0x4f4fb7(0x199)][_0x4f4fb7(0x136)],_0x374157[_0x4f4fb7(0x199)][_0x4f4fb7(0x136)]=_0x374157[_0x4f4fb7(0x199)][_0x4f4fb7(0x218)],_0x374157[_0x4f4fb7(0x199)][_0x4f4fb7(0x218)]=_0x594314,_0x374157[_0x4f4fb7(0x141)][_0x4f4fb7(0x19d)][_0x4f4fb7(0xf2)]['outputTexture']=_0x374157[_0x4f4fb7(0x199)][_0x4f4fb7(0x1ad)];}}),'postProcessingPosition':new _0x2248dc({'commandType':_0x1dfc2a(0x15a),'uniformMap':{'nextParticlesPosition':function(){var _0x3166aa=_0x1dfc2a;return _0x374157['particlesTextures'][_0x3166aa(0x1ad)];},'nextParticlesSpeed':function(){var _0x57dbda=_0x1dfc2a;return _0x374157[_0x57dbda(0x199)][_0x57dbda(0x217)];},'lonRange':function(){return _0x411a48['lonRange'];},'latRange':function(){var _0x440de4=_0x1dfc2a;return _0x411a48[_0x440de4(0x214)];},'randomCoefficient':function(){var _0x503ce1=_0x1dfc2a,_0x1675db=Math[_0x503ce1(0x139)]();return _0x1675db;},'dropRate':function(){var _0x336583=_0x1dfc2a;return _0x275cf2[_0x336583(0x20d)];},'dropRateBump':function(){var _0x4e182d=_0x1dfc2a;return _0x275cf2[_0x4e182d(0x1f4)];}},'fragmentShaderSource':new _0x547085['ShaderSource']({'sources':[_0x28c797['a']]}),'outputTexture':this['particlesTextures'][_0x1dfc2a(0x218)],'preExecute':function(){var _0x5de95d=_0x1dfc2a;_0x374157['primitives'][_0x5de95d(0x218)][_0x5de95d(0xf2)][_0x5de95d(0x1bf)]=_0x374157[_0x5de95d(0x199)][_0x5de95d(0x218)];}}),'postProcessingSpeed':new _0x2248dc({'commandType':_0x1dfc2a(0x15a),'uniformMap':{'postProcessingPosition':function(){var _0x3f298e=_0x1dfc2a;return _0x374157[_0x3f298e(0x199)]['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x2a2fde=_0x1dfc2a;return _0x374157['particlesTextures'][_0x2a2fde(0x217)];}},'fragmentShaderSource':new _0x547085['ShaderSource']({'sources':[_0x4decf6['a']]}),'outputTexture':this[_0x1dfc2a(0x199)][_0x1dfc2a(0xd1)],'preExecute':function(){var _0xf5a72b=_0x1dfc2a;_0x374157[_0xf5a72b(0x141)]['postProcessingSpeed'][_0xf5a72b(0xf2)][_0xf5a72b(0x1bf)]=_0x374157[_0xf5a72b(0x199)][_0xf5a72b(0xd1)];}})};}}]),_0x4537fd;}(),_0x5c8633=function(){var _0x220854=_0x2a78c8;function _0x3cc8db(_0x5637fa,_0x1cb458,_0x3a14db,_0x37d96a){var _0x5c38e2=a0_0x11dd;_0x425363()(this,_0x3cc8db),this[_0x5c38e2(0xf5)]=_0x5637fa,this[_0x5c38e2(0x1b4)]=_0x1cb458,this[_0x5c38e2(0x109)]=_0x3a14db,this[_0x5c38e2(0x232)]=_0x37d96a,this[_0x5c38e2(0x1f1)]=new _0x5475a3(this['context'],this['data'],this[_0x5c38e2(0x109)],this[_0x5c38e2(0x232)]),this[_0x5c38e2(0xd9)]=new _0x4bc918(this[_0x5c38e2(0xf5)],this[_0x5c38e2(0x1b4)],this['userInput'],this['viewerParameters'],this['particlesComputing']);}return _0x16cc15()(_0x3cc8db,[{'key':_0x220854(0x1b8),'value':function(_0xa8a8db){var _0x51307c=_0x220854,_0x1bc399=this;this['particlesComputing'][_0x51307c(0x138)](),Object[_0x51307c(0x244)](this['particlesComputing'][_0x51307c(0x1e3)])[_0x51307c(0x22f)](function(_0x1fe311){var _0x41e58a=_0x51307c;_0x1bc399[_0x41e58a(0x1f1)][_0x41e58a(0x1e3)][_0x1fe311][_0x41e58a(0x19a)]();}),this[_0x51307c(0xd9)][_0x51307c(0x1de)][_0x51307c(0x116)][_0x51307c(0x19a)](),Object[_0x51307c(0x244)](this[_0x51307c(0xd9)][_0x51307c(0xce)])[_0x51307c(0x22f)](function(_0x2696df){_0x1bc399['particlesRendering']['framebuffers'][_0x2696df]['destroy']();}),this['context']=_0xa8a8db,this['particlesComputing']=new _0x5475a3(this[_0x51307c(0xf5)],this['data'],this[_0x51307c(0x109)],this[_0x51307c(0x232)]),this[_0x51307c(0xd9)]=new _0x4bc918(this[_0x51307c(0xf5)],this[_0x51307c(0x1b4)],this['userInput'],this['viewerParameters'],this[_0x51307c(0x1f1)]);}},{'key':'clearFramebuffers','value':function(){var _0x23e316=_0x220854,_0x2ee1a0=this,_0x425f9e=new _0x547085['ClearCommand']({'color':new _0x547085[(_0x23e316(0x207))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x547085[_0x23e316(0x12e)][_0x23e316(0xd6)]});Object['keys'](this[_0x23e316(0xd9)]['framebuffers'])[_0x23e316(0x22f)](function(_0x5e8f2b){var _0x4eceb0=_0x23e316;_0x425f9e[_0x4eceb0(0x16d)]=_0x2ee1a0[_0x4eceb0(0xd9)][_0x4eceb0(0xce)][_0x5e8f2b],_0x425f9e[_0x4eceb0(0x21e)](_0x2ee1a0[_0x4eceb0(0xf5)]);});}},{'key':_0x220854(0x161),'value':function(_0x4b1236){var _0x244ff3=_0x220854;if(this[_0x244ff3(0x176)](),this[_0x244ff3(0x1f1)][_0x244ff3(0x138)](),this[_0x244ff3(0x1f1)][_0x244ff3(0x102)](this['context'],this[_0x244ff3(0x109)],this[_0x244ff3(0x232)]),_0x4b1236){var _0x1c410d=this['particlesRendering'][_0x244ff3(0x18d)](this['userInput']);this[_0x244ff3(0xd9)]['primitives'][_0x244ff3(0x15b)][_0x244ff3(0x1c6)]=_0x1c410d;var _0x1eabef=_0x547085[_0x244ff3(0x194)]['fromGeometry']({'context':this[_0x244ff3(0xf5)],'geometry':_0x1c410d,'attributeLocations':this[_0x244ff3(0xd9)][_0x244ff3(0x141)][_0x244ff3(0x15b)][_0x244ff3(0x1db)],'bufferUsage':_0x547085[_0x244ff3(0x121)][_0x244ff3(0xd5)]});this['particlesRendering'][_0x244ff3(0x141)][_0x244ff3(0x15b)][_0x244ff3(0xf2)][_0x244ff3(0xe0)]=_0x1eabef;}}},{'key':_0x220854(0x149),'value':function(_0x50a53f){var _0x20ec65=_0x220854,_0x5ebefa=this,_0x3aa5e0=!0x1;this['userInput']['maxParticles']!=_0x50a53f[_0x20ec65(0x1e2)]&&(_0x3aa5e0=!0x0),Object[_0x20ec65(0x244)](_0x50a53f)[_0x20ec65(0x22f)](function(_0x420ce6){var _0x3fbb63=_0x20ec65;_0x5ebefa[_0x3fbb63(0x109)][_0x420ce6]=_0x50a53f[_0x420ce6];}),this['refreshParticles'](_0x3aa5e0);}},{'key':_0x220854(0x203),'value':function(_0x1eaf18){var _0x1c7541=_0x220854,_0x234cfe=this;Object[_0x1c7541(0x244)](_0x1eaf18)[_0x1c7541(0x22f)](function(_0x1cc149){var _0x160c33=_0x1c7541;_0x234cfe[_0x160c33(0x232)][_0x1cc149]=_0x1eaf18[_0x1cc149];}),this[_0x1c7541(0x161)](!0x1);}}]),_0x3cc8db;}();function _0x16889f(_0x4e6ab3){var _0x58e456=function(){var _0x5302df=a0_0x11dd;if(_0x5302df(0x114)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x5302df(0x246)][_0x5302df(0x151)])return!0x1;if(_0x5302df(0x162)==typeof Proxy)return!0x0;try{return Boolean[_0x5302df(0x159)][_0x5302df(0x20f)][_0x5302df(0x1a0)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0xdfa73a){return!0x1;}}();return function(){var _0x3bbdde=a0_0x11dd,_0x46f17d,_0x76ef95=_0x225c07()(_0x4e6ab3);if(_0x58e456){var _0xaea681=_0x225c07()(this)[_0x3bbdde(0x179)];_0x46f17d=Reflect[_0x3bbdde(0x246)](_0x76ef95,arguments,_0xaea681);}else _0x46f17d=_0x76ef95[_0x3bbdde(0xfc)](this,arguments);return _0x52d12a()(this,_0x46f17d);};}var _0x44ec05=_0x40c284[_0x2a78c8(0xf8)]['BaseLayer'],_0x9b0854=0x1000,_0x648b35=0x64,_0x1665a6=0.996,_0x4a37a6=0.003,_0x595b34=0.01,_0x468da7=0.5,_0x2c6030=0x2,_0x2395ba=function(_0x3939ac){var _0x156647=_0x2a78c8;_0x422b40()(_0x3d289f,_0x3939ac);var _0x46545f=_0x16889f(_0x3d289f);function _0x3d289f(){var _0x4d1052=a0_0x11dd,_0x385858,_0x428f71=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x425363()(this,_0x3d289f),(_0x385858=_0x46545f[_0x4d1052(0x1a0)](this,_0x428f71))[_0x4d1052(0x1e2)]=_0x9b0854,_0x385858[_0x4d1052(0x10f)]=_0x648b35,_0x385858[_0x4d1052(0x1e6)]=_0x1665a6,_0x385858[_0x4d1052(0x20d)]=_0x4a37a6,_0x385858[_0x4d1052(0x1f4)]=_0x595b34,_0x385858['speedFactor']=_0x468da7,_0x385858[_0x4d1052(0xfd)]=_0x2c6030,_0x385858[_0x4d1052(0x1f9)](_0x428f71),_0x385858;}return _0x16cc15()(_0x3d289f,[{'key':_0x156647(0xf8),'get':function(){var _0x1f18c9=_0x156647;return this[_0x1f18c9(0x141)];}},{'key':_0x156647(0x1f9),'value':function(_0x2096a4){if(_0x2096a4){for(var _0x58cf68 in _0x2096a4)this[_0x58cf68]=_0x2096a4[_0x58cf68];}}},{'key':_0x156647(0x1ab),'value':function(){}},{'key':_0x156647(0x1fc),'value':function(){var _0x37874d=_0x156647;this[_0x37874d(0x111)]=this['_map'][_0x37874d(0x111)],this['camera']=this['_map']['camera'],this[_0x37874d(0x141)]=new _0x547085[(_0x37874d(0x1b9))](),this[_0x37874d(0x17a)]['scene'][_0x37874d(0x141)][_0x37874d(0x23c)](this[_0x37874d(0x141)]),this[_0x37874d(0x232)]={'lonRange':new _0x547085[(_0x37874d(0x1b6))](),'latRange':new _0x547085[(_0x37874d(0x1b6))](),'pixelSize':0x0},this[_0x37874d(0x113)]=new _0x547085['BoundingSphere'](_0x547085['Cartesian3'][_0x37874d(0x21f)],6314355.63),this[_0x37874d(0x12f)](),window[_0x37874d(0x154)](_0x37874d(0xe6),this[_0x37874d(0xe6)][_0x37874d(0x150)](this),!0x1),this[_0x37874d(0x193)]=!0x1,this[_0x37874d(0x14a)]=!0x1,this[_0x37874d(0x17a)]['on'](_0x40c284[_0x37874d(0x233)][_0x37874d(0x15e)],this[_0x37874d(0x147)],this),this[_0x37874d(0x17a)]['on'](_0x40c284['EventType'][_0x37874d(0x1f5)],this[_0x37874d(0x14d)],this),this[_0x37874d(0x17a)]['on'](_0x40c284[_0x37874d(0x233)][_0x37874d(0x14f)],this['_onMouseUpEvent'],this),this[_0x37874d(0x17a)]['on'](_0x40c284[_0x37874d(0x233)][_0x37874d(0x143)],this[_0x37874d(0x13d)],this);}},{'key':_0x156647(0x106),'value':function(){var _0x202a00=_0x156647;window[_0x202a00(0x204)](_0x202a00(0xe6),this[_0x202a00(0xe6)]),this[_0x202a00(0x17a)][_0x202a00(0x231)](_0x40c284[_0x202a00(0x233)][_0x202a00(0x164)],this[_0x202a00(0xdf)],this),this[_0x202a00(0x17a)]['off'](_0x40c284[_0x202a00(0x233)][_0x202a00(0x15e)],this['_onMapWhellEvent'],this),this[_0x202a00(0x17a)][_0x202a00(0x231)](_0x40c284[_0x202a00(0x233)][_0x202a00(0x1f5)],this['_onMouseDownEvent'],this),this[_0x202a00(0x17a)][_0x202a00(0x231)](_0x40c284['EventType'][_0x202a00(0x14f)],this['_onMouseUpEvent'],this),this['_map']['off'](_0x40c284[_0x202a00(0x233)]['mouseMove'],this[_0x202a00(0x13d)],this),this['primitives'][_0x202a00(0x191)](),this[_0x202a00(0x17a)]['scene'][_0x202a00(0x141)][_0x202a00(0x22e)](this[_0x202a00(0x141)]);}},{'key':_0x156647(0xe6),'value':function(){var _0x5223ad=_0x156647;this[_0x5223ad(0x140)]&&this[_0x5223ad(0xf7)]&&(this['primitives'][_0x5223ad(0x140)]=!0x1,this[_0x5223ad(0x141)][_0x5223ad(0x191)](),this[_0x5223ad(0x17a)][_0x5223ad(0x209)](_0x40c284[_0x5223ad(0x233)][_0x5223ad(0x164)],this[_0x5223ad(0xdf)],this));}},{'key':_0x156647(0xdf),'value':function(_0x2e48af){var _0xab7353=_0x156647;this['particleSystem'][_0xab7353(0x1b8)](this['scene']['context']),this[_0xab7353(0x228)](),this[_0xab7353(0x141)]['show']=!0x0;}},{'key':'_onMapWhellEvent','value':function(_0x255274){var _0x489741=_0x156647,_0xe4654f=this;clearTimeout(this[_0x489741(0xfe)]),this['show']&&this[_0x489741(0xf7)]&&(this[_0x489741(0x141)]['show']=!0x1,this['refreshTimer']=setTimeout(function(){var _0x376c1a=_0x489741;_0xe4654f[_0x376c1a(0x140)]&&_0xe4654f[_0x376c1a(0x21c)]();},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0x304543){this['mouse_down']=!0x0;}},{'key':'_onMouseMoveEvent','value':function(_0x4a4453){var _0x3acd71=_0x156647;this[_0x3acd71(0x140)]&&this[_0x3acd71(0xf7)]&&this[_0x3acd71(0x193)]&&(this[_0x3acd71(0x141)]['show']=!0x1,this[_0x3acd71(0x14a)]=!0x0);}},{'key':'_onMouseUpEvent','value':function(_0x2f6fba){var _0x5ed1cc=_0x156647;this['show']&&this[_0x5ed1cc(0xf7)]&&(this[_0x5ed1cc(0x193)]&&this[_0x5ed1cc(0x14a)]&&this[_0x5ed1cc(0x21c)](),this['primitives']['show']=!0x0,this[_0x5ed1cc(0x193)]=!0x1,this[_0x5ed1cc(0x14a)]=!0x1);}},{'key':_0x156647(0x21c),'value':function(){var _0x114ba6=_0x156647;this[_0x114ba6(0x17a)]&&this['show']&&(this['updateViewerParameters'](),this[_0x114ba6(0xf7)][_0x114ba6(0x203)](this[_0x114ba6(0x232)]),this[_0x114ba6(0x141)][_0x114ba6(0x140)]=!0x0);}},{'key':'setData','value':function(_0xb5d59d){var _0x51e435=_0x156647;this[_0x51e435(0xf7)]=new _0x5c8633(this[_0x51e435(0x111)]['context'],_0xb5d59d,this[_0x51e435(0x241)](),this[_0x51e435(0x232)]),this[_0x51e435(0x228)]();}},{'key':_0x156647(0x156),'value':function(_0x3b241d){var _0x5748ec=_0x156647;if(_0x3b241d){for(var _0xbef401 in _0x3b241d)this[_0xbef401]=_0x3b241d[_0xbef401];}return this[_0x5748ec(0xf7)]&&this[_0x5748ec(0xf7)][_0x5748ec(0x149)](this['getUserInput']()),this;}},{'key':_0x156647(0x241),'value':function(){var _0x260c99=_0x156647,_0x16500a=Math[_0x260c99(0x167)](Math[_0x260c99(0x1df)](this[_0x260c99(0x1e2)]));return this[_0x260c99(0x1e2)]=_0x16500a*_0x16500a,{'particlesTextureSize':_0x16500a,'maxParticles':this[_0x260c99(0x1e2)],'particleHeight':this[_0x260c99(0x10f)],'fadeOpacity':this[_0x260c99(0x1e6)],'dropRate':this['dropRate'],'dropRateBump':this['dropRateBump'],'speedFactor':this[_0x260c99(0xde)],'lineWidth':this[_0x260c99(0xfd)],'globeLayer':this[_0x260c99(0x23f)],'WMS_URL':this['WMS_URL']};}},{'key':_0x156647(0x228),'value':function(){var _0x232966=_0x156647;this['primitives']['add'](this[_0x232966(0xf7)][_0x232966(0x1f1)][_0x232966(0x141)][_0x232966(0x1a4)]),this['primitives'][_0x232966(0x23c)](this['particleSystem'][_0x232966(0x1f1)][_0x232966(0x141)][_0x232966(0x177)]),this[_0x232966(0x141)][_0x232966(0x23c)](this[_0x232966(0xf7)][_0x232966(0x1f1)][_0x232966(0x141)][_0x232966(0x19d)]),this['primitives']['add'](this[_0x232966(0xf7)]['particlesComputing'][_0x232966(0x141)][_0x232966(0x218)]),this[_0x232966(0x141)]['add'](this[_0x232966(0xf7)][_0x232966(0x1f1)][_0x232966(0x141)]['postProcessingSpeed']),this['primitives'][_0x232966(0x23c)](this['particleSystem'][_0x232966(0xd9)][_0x232966(0x141)][_0x232966(0x15b)]),this[_0x232966(0x141)][_0x232966(0x23c)](this['particleSystem']['particlesRendering']['primitives'][_0x232966(0x183)]),this['primitives'][_0x232966(0x23c)](this['particleSystem']['particlesRendering'][_0x232966(0x141)][_0x232966(0x22d)]);}},{'key':_0x156647(0x12f),'value':function(){var _0x25e865=_0x156647,_0x9f605c=this[_0x25e865(0x1e4)]['computeViewRectangle'](this[_0x25e865(0x111)][_0x25e865(0x20e)][_0x25e865(0x1e5)]);if(!_0x9f605c){var _0x32e023=this[_0x25e865(0x17a)][_0x25e865(0x11f)]();_0x9f605c=_0x547085[_0x25e865(0xec)]['fromDegrees'](_0x32e023[_0x25e865(0x211)],_0x32e023[_0x25e865(0x174)],_0x32e023[_0x25e865(0x212)],_0x32e023['ymax']);}var _0xb9b804=_0x4b651f[_0x25e865(0x101)](_0x9f605c);this['viewerParameters'][_0x25e865(0x16e)]['x']=_0xb9b804[_0x25e865(0x181)][_0x25e865(0x172)],this[_0x25e865(0x232)]['lonRange']['y']=_0xb9b804[_0x25e865(0x181)][_0x25e865(0x18c)],this['viewerParameters'][_0x25e865(0x214)]['x']=_0xb9b804[_0x25e865(0x130)]['min'],this[_0x25e865(0x232)][_0x25e865(0x214)]['y']=_0xb9b804['lat'][_0x25e865(0x18c)];var _0x2eccfc=this['camera']['getPixelSize'](this[_0x25e865(0x113)],this[_0x25e865(0x111)][_0x25e865(0xe9)],this[_0x25e865(0x111)][_0x25e865(0x1d9)]);_0x2eccfc>0x0&&(this[_0x25e865(0x232)]['pixelSize']=_0x2eccfc);}}]),_0x3d289f;}(_0x44ec05);_0x40c284[_0x2a78c8(0x188)][_0x2a78c8(0x135)](_0x2a78c8(0x13e),_0x2395ba),_0x40c284[_0x2a78c8(0xf8)][_0x2a78c8(0x14c)]=_0x2395ba;var _0x4c6097=function _0x3983c3(){var _0x3674e8=_0x2a78c8;_0x425363()(this,_0x3983c3),this[_0x3674e8(0x134)]=null,this[_0x3674e8(0x130)]=null,this['tlng']=null,this[_0x3674e8(0x1d0)]=null,this[_0x3674e8(0xdc)]=null;},_0x3b6763=function(){var _0x2d13b6=_0x2a78c8;function _0x1c7a28(_0x24d304,_0xa22965){var _0x2c2774=a0_0x11dd;_0x425363()(this,_0x1c7a28),this['rows']=_0x24d304[_0x2c2774(0xff)],this[_0x2c2774(0xd3)]=_0x24d304['cols'],this['xmin']=_0x24d304[_0x2c2774(0x211)],this[_0x2c2774(0x212)]=_0x24d304[_0x2c2774(0x212)],this['ymin']=_0x24d304[_0x2c2774(0x174)],this[_0x2c2774(0x171)]=_0x24d304['ymax'],this[_0x2c2774(0xcd)]=[];var _0x2e0216=_0x24d304['udata'],_0x147ee8=_0x24d304[_0x2c2774(0x189)],_0x1839e5=!0x1;_0x2e0216['length']===this[_0x2c2774(0xff)]&&_0x2e0216[0x0][_0x2c2774(0x107)]===this[_0x2c2774(0xd3)]&&(_0x1839e5=!0x0);for(var _0xd55516=0x0,_0x47d0c4=null,_0x290ed7=null,_0x345ea8=0x0;_0x345ea8<this[_0x2c2774(0xff)];_0x345ea8++){_0x47d0c4=[];for(var _0x4d2b2d=0x0;_0x4d2b2d<this['cols'];_0x4d2b2d++,_0xd55516++)_0x290ed7=_0x1839e5?this[_0x2c2774(0xfb)](_0x2e0216[_0x345ea8][_0x4d2b2d],_0x147ee8[_0x345ea8][_0x4d2b2d]):this[_0x2c2774(0xfb)](_0x2e0216[_0xd55516],_0x147ee8[_0xd55516]),_0x47d0c4[_0x2c2774(0xea)](_0x290ed7);this[_0x2c2774(0xcd)]['push'](_0x47d0c4);}_0xa22965&&this['grid'][_0x2c2774(0x105)]();}return _0x16cc15()(_0x1c7a28,[{'key':_0x2d13b6(0x1c4),'value':function(_0x5be4aa,_0x138bfe){var _0x1069df=_0x2d13b6;return{'x':(_0x5be4aa-this[_0x1069df(0x211)])/(this['xmax']-this[_0x1069df(0x211)])*(this[_0x1069df(0xd3)]-0x1),'y':(this[_0x1069df(0x171)]-_0x138bfe)/(this[_0x1069df(0x171)]-this[_0x1069df(0x174)])*(this[_0x1069df(0xff)]-0x1)};}},{'key':_0x2d13b6(0x18a),'value':function(_0x30b21a,_0x435a2b){var _0x31a58d=_0x2d13b6;if(_0x30b21a<0x0||_0x30b21a>=this[_0x31a58d(0xd3)]||_0x435a2b>=this[_0x31a58d(0xff)])return[0x0,0x0,0x0];var _0x5b6208,_0x5cc5c8,_0x25d290=Math['floor'](_0x30b21a),_0x2b18a1=Math[_0x31a58d(0x19f)](_0x435a2b);if(_0x25d290===_0x30b21a&&_0x2b18a1===_0x435a2b)return this['grid'][_0x435a2b][_0x30b21a];_0x5b6208=_0x25d290+0x1,_0x5cc5c8=_0x2b18a1+0x1;var _0x34890d=this[_0x31a58d(0x18a)](_0x25d290,_0x2b18a1),_0x27ac33=this[_0x31a58d(0x18a)](_0x5b6208,_0x2b18a1),_0x535b56=this[_0x31a58d(0x18a)](_0x25d290,_0x5cc5c8),_0x25ed02=this[_0x31a58d(0x18a)](_0x5b6208,_0x5cc5c8),_0x15515c=null;try{_0x15515c=this[_0x31a58d(0xf0)](_0x30b21a-_0x25d290,_0x435a2b-_0x2b18a1,_0x34890d,_0x27ac33,_0x535b56,_0x25ed02);}catch(_0x35b347){console[_0x31a58d(0x13b)](_0x30b21a,_0x435a2b);}return _0x15515c;}},{'key':_0x2d13b6(0xf0),'value':function(_0xb90279,_0x28f6db,_0x4d1a3a,_0x444a66,_0x5b9403,_0x359acf){var _0x2e3002=0x1-_0xb90279,_0x23472d=0x1-_0x28f6db,_0x17c9c2=_0x2e3002*_0x23472d,_0x3c35e3=_0xb90279*_0x23472d,_0x59b03c=_0x2e3002*_0x28f6db,_0x3d8867=_0xb90279*_0x28f6db,_0x38f97e=_0x4d1a3a[0x0]*_0x17c9c2+_0x444a66[0x0]*_0x3c35e3+_0x5b9403[0x0]*_0x59b03c+_0x359acf[0x0]*_0x3d8867,_0x3ef40b=_0x4d1a3a[0x1]*_0x17c9c2+_0x444a66[0x1]*_0x3c35e3+_0x5b9403[0x1]*_0x59b03c+_0x359acf[0x1]*_0x3d8867;return this['_calcUV'](_0x38f97e,_0x3ef40b);}},{'key':_0x2d13b6(0xfb),'value':function(_0x1e5236,_0x1d39e4){var _0x1285a1=_0x2d13b6;return[+_0x1e5236,+_0x1d39e4,Math[_0x1285a1(0x1df)](_0x1e5236*_0x1e5236+_0x1d39e4*_0x1d39e4)];}},{'key':_0x2d13b6(0x1ce),'value':function(_0x2136e6,_0x1522e2){var _0x51753d=_0x2d13b6;if(!this[_0x51753d(0x15c)](_0x2136e6,_0x1522e2))return null;var _0x194060=this['toGridXY'](_0x2136e6,_0x1522e2);return this[_0x51753d(0x18a)](_0x194060['x'],_0x194060['y']);}},{'key':_0x2d13b6(0x15c),'value':function(_0x5b40df,_0x4c9150){var _0x4f494a=_0x2d13b6;return _0x5b40df>=this[_0x4f494a(0x211)]&&_0x5b40df<=this[_0x4f494a(0x212)]&&_0x4c9150>=this[_0x4f494a(0x174)]&&_0x4c9150<=this[_0x4f494a(0x171)];}},{'key':_0x2d13b6(0x190),'value':function(){var _0x3a0a6d=_0x2d13b6,_0x50cb77=_0x50306a(this[_0x3a0a6d(0x211)],this[_0x3a0a6d(0x212)]);return{'lat':_0x50306a(this[_0x3a0a6d(0x174)],this['ymax']),'lng':_0x50cb77};}}]),_0x1c7a28;}();function _0x50306a(_0x15bed5,_0x56e7c8){var _0x494a5c=_0x2a78c8;return _0x15bed5+Math[_0x494a5c(0x139)]()*(_0x56e7c8-_0x15bed5);}function _0x69dea(_0x26d927){var _0x416d89=function(){var _0x318616=a0_0x11dd;if(_0x318616(0x114)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x318616(0x246)]['sham'])return!0x1;if(_0x318616(0x162)==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x318616(0x20f)][_0x318616(0x1a0)](Reflect[_0x318616(0x246)](Boolean,[],function(){})),!0x0;}catch(_0x1a6dd6){return!0x1;}}();return function(){var _0x2127d8=a0_0x11dd,_0x4f03d1,_0x21f783=_0x225c07()(_0x26d927);if(_0x416d89){var _0x4ae623=_0x225c07()(this)['constructor'];_0x4f03d1=Reflect[_0x2127d8(0x246)](_0x21f783,arguments,_0x4ae623);}else _0x4f03d1=_0x21f783['apply'](this,arguments);return _0x52d12a()(this,_0x4f03d1);};}var _0x1821ac=function(_0x4b6a1d){var _0x3a0ea6=_0x2a78c8;_0x422b40()(_0x6e7c82,_0x4b6a1d);var _0x3cb2d2=_0x69dea(_0x6e7c82);function _0x6e7c82(){var _0x51390c=a0_0x11dd,_0x38ae40,_0x15f6bf=arguments[_0x51390c(0x107)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x425363()(this,_0x6e7c82),(_0x38ae40=_0x3cb2d2['call'](this,_0x15f6bf))[_0x51390c(0x1f9)](_0x15f6bf),_0x38ae40[_0x51390c(0xd7)]=null,_0x38ae40;}return _0x16cc15()(_0x6e7c82,[{'key':_0x3a0ea6(0x1f9),'value':function(_0x352440){var _0x19c395=_0x3a0ea6;this['calc_speedRate']=[0x0,0x0],this[_0x19c395(0xd2)]=[],this[_0x19c395(0x118)]=_0x352440[_0x19c395(0x118)]||0x32,this[_0x19c395(0x144)]=_0x352440['particlesNumber']||0x4e20,this['_maxAge']=_0x352440[_0x19c395(0x112)]||0x78,this[_0x19c395(0x17b)]=0x3e8/(_0x352440[_0x19c395(0x221)]||0xa),this[_0x19c395(0x128)]=_0x547085[_0x19c395(0xf6)](this[_0x19c395(0x219)]['pointerEvents'],!0x1),this[_0x19c395(0x1d7)]=_0x352440['color']||_0x19c395(0x223),this[_0x19c395(0xfd)]=_0x352440[_0x19c395(0xfd)]||0x1,this['fixedHeight']=_0x547085['defaultValue'](_0x352440['fixedHeight'],0x0),this['reverseY']=_0x547085[_0x19c395(0xf6)](_0x352440[_0x19c395(0x100)],!0x1);}},{'key':'layer','get':function(){var _0x3c7561=_0x3a0ea6;return this[_0x3c7561(0xd7)];}},{'key':'canvasWidth','get':function(){var _0x453b17=_0x3a0ea6;return this[_0x453b17(0x17a)][_0x453b17(0x111)]['canvas'][_0x453b17(0x1dc)];}},{'key':'canvasHeight','get':function(){var _0x5a39cc=_0x3a0ea6;return this['_map'][_0x5a39cc(0x111)][_0x5a39cc(0xd7)][_0x5a39cc(0x236)];}},{'key':'pointerEvents','get':function(){var _0x54981c=_0x3a0ea6;return this[_0x54981c(0x128)];},'set':function(_0x424465){var _0x3c7db4=_0x3a0ea6;this[_0x3c7db4(0x128)]=_0x424465,this[_0x3c7db4(0xd7)]&&(this['canvas'][_0x3c7db4(0x1f7)]['pointer-events']=_0x424465?_0x3c7db4(0x1c7):_0x3c7db4(0xe3));}},{'key':'speedRate','get':function(){var _0x275ea6=_0x3a0ea6;return this[_0x275ea6(0x239)];},'set':function(_0x1d32a1){var _0x57a962=_0x3a0ea6;this[_0x57a962(0x239)]=0x64*(0x64-(_0x1d32a1>0x63?0x63:_0x1d32a1)),this[_0x57a962(0x19b)]();}},{'key':'particlesNumber','get':function(){var _0x4551e4=_0x3a0ea6;return this[_0x4551e4(0x144)];},'set':function(_0x5e3caa){var _0x2d8286=_0x3a0ea6,_0x300694=this;this[_0x2d8286(0x144)]=_0x5e3caa,clearTimeout(this[_0x2d8286(0xe4)]),this[_0x2d8286(0xe4)]=setTimeout(function(){_0x300694['redraw']();},0x1f4);}},{'key':'maxAge','get':function(){var _0x94e2ba=_0x3a0ea6;return this[_0x94e2ba(0x213)];},'set':function(_0x47d50d){var _0x3e2104=_0x3a0ea6,_0x1a729f=this;this[_0x3e2104(0x213)]=_0x47d50d,clearTimeout(this[_0x3e2104(0xe4)]),this[_0x3e2104(0xe4)]=setTimeout(function(){var _0x27950b=_0x3e2104;_0x1a729f[_0x27950b(0x21c)]();},0x1f4);}},{'key':'data','get':function(){var _0x1ad3d9=_0x3a0ea6;return this[_0x1ad3d9(0x1bd)];},'set':function(_0x507234){var _0x5cf206=_0x3a0ea6;this[_0x5cf206(0x1f8)](_0x507234);}},{'key':_0x3a0ea6(0x1ef),'value':function(_0xefcb4e){var _0x465749=_0x3a0ea6;_0xefcb4e?this[_0x465749(0x1fc)]():(this[_0x465749(0x1bd)]&&(this[_0x465749(0x219)]['data']=this[_0x465749(0x1bd)]),this['_removedHook']());}},{'key':_0x3a0ea6(0x1ab),'value':function(){}},{'key':_0x3a0ea6(0x1fc),'value':function(){var _0x10fc3b=_0x3a0ea6;this[_0x10fc3b(0xd7)]=this[_0x10fc3b(0x16b)](),this[_0x10fc3b(0x247)]=this[_0x10fc3b(0xd7)]['getContext']('2d'),this[_0x10fc3b(0xcf)](),this[_0x10fc3b(0x219)][_0x10fc3b(0x1b4)]&&this[_0x10fc3b(0x1f8)](this[_0x10fc3b(0x219)][_0x10fc3b(0x1b4)]);}},{'key':'_removedHook','value':function(){var _0x497fed=_0x3a0ea6;this[_0x497fed(0x1b1)](),this[_0x497fed(0x103)](),this[_0x497fed(0xd7)]&&(this[_0x497fed(0x17a)][_0x497fed(0x133)][_0x497fed(0x115)](this['canvas']),delete this['canvas']);}},{'key':_0x3a0ea6(0x16b),'value':function(){var _0x5b86e0=_0x3a0ea6,_0x54cff8=document[_0x5b86e0(0x23e)](_0x5b86e0(0xd7));_0x54cff8[_0x5b86e0(0x1f7)]['position']=_0x5b86e0(0x1d5),_0x54cff8['style'][_0x5b86e0(0x16a)]=_0x5b86e0(0x1f3),_0x54cff8['style'][_0x5b86e0(0x1aa)]=_0x5b86e0(0x1f3),_0x54cff8[_0x5b86e0(0x1f7)][_0x5b86e0(0x12d)]=_0x5b86e0(0x148),_0x54cff8[_0x5b86e0(0x1f7)][_0x5b86e0(0xe2)]=_0x5b86e0(0x148),_0x54cff8[_0x5b86e0(0x1f7)][_0x5b86e0(0x216)]=this[_0x5b86e0(0x128)]?_0x5b86e0(0xd8):_0x5b86e0(0xe3),_0x54cff8[_0x5b86e0(0x1f7)][_0x5b86e0(0x124)]=0xa,_0x54cff8['setAttribute']('id',_0x5b86e0(0xf3)),_0x54cff8[_0x5b86e0(0x13c)](_0x5b86e0(0x10d),_0x5b86e0(0xf3)),this[_0x5b86e0(0x17a)]['container']['appendChild'](_0x54cff8);var _0x5c32a8=this[_0x5b86e0(0x17a)][_0x5b86e0(0x111)];return _0x54cff8['width']=_0x5c32a8[_0x5b86e0(0xd7)]['clientWidth'],_0x54cff8['height']=_0x5c32a8[_0x5b86e0(0xd7)][_0x5b86e0(0x236)],_0x54cff8;}},{'key':'resize','value':function(){var _0x45cb49=_0x3a0ea6;this[_0x45cb49(0xd7)]&&(this[_0x45cb49(0xd7)][_0x45cb49(0x12d)]=this[_0x45cb49(0x1ea)],this[_0x45cb49(0xd7)][_0x45cb49(0xe2)]=this['canvasHeight']);}},{'key':_0x3a0ea6(0xcf),'value':function(){var _0xb7ba32=_0x3a0ea6,_0x2e5424=this,_0x177f2a=Date[_0xb7ba32(0x165)]();!function _0x433721(){var _0x56c0ef=_0xb7ba32;_0x2e5424[_0x56c0ef(0x1ac)]=window[_0x56c0ef(0x155)](_0x433721);var _0x2f13e5=Date['now'](),_0x1a1232=_0x2f13e5-_0x177f2a;_0x1a1232>_0x2e5424[_0x56c0ef(0x17b)]&&(_0x177f2a=_0x2f13e5-_0x1a1232%_0x2e5424[_0x56c0ef(0x17b)],_0x2e5424[_0x56c0ef(0x1dd)]());}(),window[_0xb7ba32(0x154)](_0xb7ba32(0xe6),this['resize'][_0xb7ba32(0x150)](this),!0x1),this['mouse_down']=!0x1,this[_0xb7ba32(0x14a)]=!0x1,this[_0xb7ba32(0x17a)]['on'](_0x40c284[_0xb7ba32(0x233)][_0xb7ba32(0x15e)],this[_0xb7ba32(0x147)],this),this[_0xb7ba32(0x17a)]['on'](_0x40c284[_0xb7ba32(0x233)]['mouseDown'],this[_0xb7ba32(0x14d)],this),this['_map']['on'](_0x40c284[_0xb7ba32(0x233)]['mouseUp'],this[_0xb7ba32(0x11d)],this),this['_map']['on'](_0x40c284[_0xb7ba32(0x233)]['mouseMove'],this[_0xb7ba32(0x13d)],this);}},{'key':'unbindEvent','value':function(){var _0xa70f59=_0x3a0ea6;window[_0xa70f59(0xdb)](this['animateFrame']),delete this[_0xa70f59(0x1ac)],window[_0xa70f59(0x204)](_0xa70f59(0xe6),this[_0xa70f59(0xe6)]),this['_map'][_0xa70f59(0x231)](_0x40c284[_0xa70f59(0x233)][_0xa70f59(0x15e)],this[_0xa70f59(0x147)],this),this[_0xa70f59(0x17a)][_0xa70f59(0x231)](_0x40c284['EventType']['mouseDown'],this[_0xa70f59(0x14d)],this),this[_0xa70f59(0x17a)][_0xa70f59(0x231)](_0x40c284[_0xa70f59(0x233)][_0xa70f59(0x14f)],this[_0xa70f59(0x11d)],this),this[_0xa70f59(0x17a)][_0xa70f59(0x231)](_0x40c284['EventType'][_0xa70f59(0x143)],this[_0xa70f59(0x13d)],this);}},{'key':'_onMapWhellEvent','value':function(_0x4ca8c0){var _0x52be7f=_0x3a0ea6,_0x18da7f=this;clearTimeout(this[_0x52be7f(0xfe)]),this[_0x52be7f(0x140)]&&this['canvas']&&(this[_0x52be7f(0xd7)]['style']['visibility']=_0x52be7f(0x173),this[_0x52be7f(0xfe)]=setTimeout(function(){var _0x5ea17b=_0x52be7f;_0x18da7f[_0x5ea17b(0x140)]&&(_0x18da7f['redraw'](),_0x18da7f[_0x5ea17b(0xd7)][_0x5ea17b(0x1f7)][_0x5ea17b(0xdd)]='visible');},0xc8));}},{'key':_0x3a0ea6(0x14d),'value':function(_0x375757){var _0x21c6e0=_0x3a0ea6;this[_0x21c6e0(0x193)]=!0x0;}},{'key':_0x3a0ea6(0x13d),'value':function(_0x53f04b){var _0x569a07=_0x3a0ea6;this[_0x569a07(0x140)]&&this['canvas']&&this[_0x569a07(0x193)]&&(this[_0x569a07(0xd7)][_0x569a07(0x1f7)]['visibility']=_0x569a07(0x173),this[_0x569a07(0x14a)]=!0x0);}},{'key':_0x3a0ea6(0x11d),'value':function(_0x178482){var _0x1d898c=_0x3a0ea6;this['show']&&this[_0x1d898c(0xd7)]&&(this['mouse_down']&&this['mouse_move']&&this[_0x1d898c(0x21c)](),this[_0x1d898c(0xd7)][_0x1d898c(0x1f7)][_0x1d898c(0xdd)]=_0x1d898c(0x1c5),this['mouse_down']=!0x1,this['mouse_move']=!0x1);}},{'key':_0x3a0ea6(0x21c),'value':function(){var _0x37b330=_0x3a0ea6;this[_0x37b330(0x140)]&&this[_0x37b330(0x1a8)]&&(this['particles']=[],this['drawWind']());}},{'key':_0x3a0ea6(0x1f8),'value':function(_0x1cd9bc){var _0x58055f=_0x3a0ea6;this[_0x58055f(0x1b1)](),this[_0x58055f(0x1bd)]=_0x1cd9bc,this[_0x58055f(0x1a8)]=new _0x3b6763(this[_0x58055f(0x1bd)],this[_0x58055f(0x100)]),this[_0x58055f(0x23d)]();}},{'key':'drawWind','value':function(){var _0x377b80=_0x3a0ea6;this['_calcStep']();for(var _0x46a222=0x0;_0x46a222<this[_0x377b80(0x237)];_0x46a222++){var _0x305725=this[_0x377b80(0x21b)](new _0x4c6097());this[_0x377b80(0xd2)][_0x377b80(0xea)](_0x305725);}this[_0x377b80(0x247)]['fillStyle']=_0x377b80(0x196),this[_0x377b80(0x247)][_0x377b80(0x245)]=0.6,this[_0x377b80(0x1dd)]();}},{'key':_0x3a0ea6(0x19b),'value':function(){var _0x41efd7=_0x3a0ea6;this['windField']&&(this[_0x41efd7(0x12c)]=[(this[_0x41efd7(0x1a8)][_0x41efd7(0x212)]-this[_0x41efd7(0x1a8)][_0x41efd7(0x211)])/this[_0x41efd7(0x118)],(this[_0x41efd7(0x1a8)][_0x41efd7(0x171)]-this['windField']['ymin'])/this[_0x41efd7(0x118)]]);}},{'key':'update','value':function(){var _0x8d62dd=_0x3a0ea6,_0x47bdd7=this;if(this[_0x8d62dd(0x140)]&&!(this[_0x8d62dd(0xd2)]['length']<=0x0)){var _0x558a82=null,_0x5c3b1c=null,_0xa3be96=null;this[_0x8d62dd(0xd2)][_0x8d62dd(0x22f)](function(_0x497cd7){var _0x34b8c5=_0x8d62dd;if(_0x497cd7[_0x34b8c5(0xdc)]<=0x0&&_0x47bdd7[_0x34b8c5(0x21b)](_0x497cd7),_0x497cd7[_0x34b8c5(0xdc)]>0x0){var _0x534d85=_0x497cd7[_0x34b8c5(0xe7)],_0x530792=_0x497cd7[_0x34b8c5(0x1d0)];(_0xa3be96=_0x47bdd7[_0x34b8c5(0x1a8)][_0x34b8c5(0x1ce)](_0x534d85,_0x530792))?(_0x558a82=_0x534d85+_0x47bdd7[_0x34b8c5(0x12c)][0x0]*_0xa3be96[0x0],_0x5c3b1c=_0x530792+_0x47bdd7['calc_speedRate'][0x1]*_0xa3be96[0x1],_0x497cd7[_0x34b8c5(0x134)]=_0x534d85,_0x497cd7['lat']=_0x530792,_0x497cd7[_0x34b8c5(0xe7)]=_0x558a82,_0x497cd7[_0x34b8c5(0x1d0)]=_0x5c3b1c,_0x497cd7['age']--):_0x497cd7['age']=0x0;}}),this['_drawLines']();}}},{'key':_0x3a0ea6(0x225),'value':function(_0x10b52c,_0x385091,_0x4125a0){var _0x3be6ff=_0x3a0ea6,_0x3eff2a=_0x547085[_0x3be6ff(0x205)][_0x3be6ff(0x1ba)](_0x10b52c,_0x385091,this[_0x3be6ff(0x17e)]),_0x4b8e4b=this[_0x3be6ff(0x17a)]['scene'];if(_0x4b8e4b[_0x3be6ff(0x145)]===_0x547085[_0x3be6ff(0x108)][_0x3be6ff(0x1d8)]&&!new _0x547085[(_0x3be6ff(0x12a))](_0x4b8e4b['globe'][_0x3be6ff(0x1e5)],_0x4b8e4b[_0x3be6ff(0x1e4)][_0x3be6ff(0x23b)])[_0x3be6ff(0xf4)](_0x3eff2a))return _0x4125a0[_0x3be6ff(0xdc)]=0x0,null;var _0x230d43=_0x547085[_0x3be6ff(0x1bc)][_0x3be6ff(0x1a9)](this[_0x3be6ff(0x17a)][_0x3be6ff(0x111)],_0x3eff2a);return _0x230d43?[_0x230d43['x'],_0x230d43['y']]:null;}},{'key':_0x3a0ea6(0xed),'value':function(){var _0x97bd16=_0x3a0ea6,_0x431e77=this,_0x48c684=this[_0x97bd16(0xd2)];this[_0x97bd16(0x247)][_0x97bd16(0xfd)]=_0x431e77['lineWidth'],this['canvasContext'][_0x97bd16(0x22a)]=_0x97bd16(0x248),this[_0x97bd16(0x247)]['fillRect'](0x0,0x0,this[_0x97bd16(0x1ea)],this[_0x97bd16(0x11a)]),this[_0x97bd16(0x247)][_0x97bd16(0x22a)]=_0x97bd16(0x1b5),this[_0x97bd16(0x247)][_0x97bd16(0x245)]=0.9,this[_0x97bd16(0x247)][_0x97bd16(0x1f0)](),this[_0x97bd16(0x247)]['strokeStyle']=this[_0x97bd16(0x1d7)];var _0x29334b=this[_0x97bd16(0x17a)][_0x97bd16(0x111)][_0x97bd16(0x145)]!==_0x547085[_0x97bd16(0x108)][_0x97bd16(0x1d8)];_0x48c684[_0x97bd16(0x22f)](function(_0x4fe180){var _0x1288d8=_0x97bd16,_0x3d053c=_0x431e77['_tomap'](_0x4fe180['lng'],_0x4fe180[_0x1288d8(0x130)],_0x4fe180),_0x1cd939=_0x431e77[_0x1288d8(0x225)](_0x4fe180['tlng'],_0x4fe180[_0x1288d8(0x1d0)],_0x4fe180);if(null!=_0x3d053c&&null!=_0x1cd939){var _0x39eebb=Math[_0x1288d8(0xfa)](_0x3d053c[0x0]-_0x1cd939[0x0]);_0x29334b&&_0x39eebb>=_0x431e77[_0x1288d8(0x1ea)]||(_0x431e77['canvasContext'][_0x1288d8(0x1ec)](_0x3d053c[0x0],_0x3d053c[0x1]),_0x431e77[_0x1288d8(0x247)][_0x1288d8(0x1fd)](_0x1cd939[0x0],_0x1cd939[0x1]));}}),this['canvasContext'][_0x97bd16(0x137)]();}},{'key':_0x3a0ea6(0x21b),'value':function(_0xf8a72e){var _0x3161aa=_0x3a0ea6;for(var _0x3d4d78,_0x16445b,_0x25c702=0x0;_0x25c702<0x1e&&(_0x3d4d78=this[_0x3161aa(0x1a8)][_0x3161aa(0x190)](),!((_0x16445b=this['windField'][_0x3161aa(0x1ce)](_0x3d4d78[_0x3161aa(0x134)],_0x3d4d78[_0x3161aa(0x130)]))&&_0x16445b[0x2]>0x0));_0x25c702++);if(!_0x16445b)return _0xf8a72e;var _0x478b81=_0x3d4d78['lng']+this[_0x3161aa(0x12c)][0x0]*_0x16445b[0x0],_0x117542=_0x3d4d78['lat']+this[_0x3161aa(0x12c)][0x1]*_0x16445b[0x1];return _0xf8a72e['lng']=_0x3d4d78[_0x3161aa(0x134)],_0xf8a72e[_0x3161aa(0x130)]=_0x3d4d78[_0x3161aa(0x130)],_0xf8a72e[_0x3161aa(0xe7)]=_0x478b81,_0xf8a72e[_0x3161aa(0x1d0)]=_0x117542,_0xf8a72e[_0x3161aa(0xdc)]=Math[_0x3161aa(0x1f6)](Math['random']()*this['maxAge']),_0xf8a72e;}},{'key':_0x3a0ea6(0x1b1),'value':function(){var _0x1f9826=_0x3a0ea6;this[_0x1f9826(0xd2)]=[],delete this[_0x1f9826(0x1a8)],delete this[_0x1f9826(0x1bd)];}}]),_0x6e7c82;}(_0x40c284['layer']['BaseLayer']);function _0x2ed0d5(_0x4caf6f,_0x5656ab){var _0x109e86=_0x2a78c8;return _0x4caf6f*Math[_0x109e86(0x1be)](_0x547085[_0x109e86(0x22c)][_0x109e86(0x110)](_0x5656ab));}function _0x20db0a(_0x53dba5,_0x10afcc){var _0x169d02=_0x2a78c8;return _0x53dba5*Math[_0x169d02(0x1cb)](_0x547085['Math'][_0x169d02(0x110)](_0x10afcc));}function _0x1f067d(_0x2f0fc3,_0xb43737){var _0x4103a4=_0x2a78c8;return Math[_0x4103a4(0x1df)](Math[_0x4103a4(0x127)](_0x2f0fc3,0x2)+Math['pow'](_0xb43737,0x2));}function _0x5603fe(_0x5d7d9d,_0x257f08){var _0x152224=_0x2a78c8,_0x10c0f7=_0x547085[_0x152224(0x22c)][_0x152224(0x129)](Math[_0x152224(0x1cd)](_0x257f08,_0x5d7d9d));return _0x10c0f7+=_0x10c0f7<0x0?0x168:0x0;}_0x40c284[_0x2a78c8(0x188)]['register']('canvasWind',_0x1821ac),_0x40c284['layer'][_0x2a78c8(0x235)]=_0x1821ac,_0x40c284[_0x2a78c8(0x22b)]=_0x2e0492;}]);}));