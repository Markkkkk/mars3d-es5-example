function a0_0x1ea9(_0x415991,_0xa9743b){var _0x372e34=a0_0x372e();return a0_0x1ea9=function(_0x1ea9b0,_0x9867da){_0x1ea9b0=_0x1ea9b0-0x1ec;var _0x5109f4=_0x372e34[_0x1ea9b0];return _0x5109f4;},a0_0x1ea9(_0x415991,_0xa9743b);}(function(_0xef41e3,_0x308299){var _0x10f586=a0_0x1ea9,_0x1e5069=_0xef41e3();while(!![]){try{var _0x2c76ee=parseInt(_0x10f586(0x28f))/0x1+parseInt(_0x10f586(0x282))/0x2+-parseInt(_0x10f586(0x315))/0x3+parseInt(_0x10f586(0x30e))/0x4*(-parseInt(_0x10f586(0x279))/0x5)+parseInt(_0x10f586(0x34e))/0x6+-parseInt(_0x10f586(0x25f))/0x7*(parseInt(_0x10f586(0x2d1))/0x8)+parseInt(_0x10f586(0x364))/0x9*(parseInt(_0x10f586(0x299))/0xa);if(_0x2c76ee===_0x308299)break;else _0x1e5069['push'](_0x1e5069['shift']());}catch(_0x27d85b){_0x1e5069['push'](_0x1e5069['shift']());}}}(a0_0x372e,0xf183e),!function(_0x4c36f0,_0x473a1b){var _0x49647e=a0_0x1ea9;_0x49647e(0x31a)==typeof exports&&'object'==typeof module?module['exports']=_0x473a1b(require(_0x49647e(0x251)),require(_0x49647e(0x2b6))):_0x49647e(0x23e)==typeof define&&define['amd']?define(_0x49647e(0x254),[_0x49647e(0x251),_0x49647e(0x2b6)],_0x473a1b):'object'==typeof exports?exports[_0x49647e(0x254)]=_0x473a1b(require('mars3d-cesium'),require('mars3d')):_0x4c36f0[_0x49647e(0x254)]=_0x473a1b(_0x4c36f0[_0x49647e(0x310)],_0x4c36f0[_0x49647e(0x2b6)]);}(window,function(_0x43421f,_0x143aa8){return function(_0x193a19){var _0x1d2665={};function _0x3d8651(_0x5a4120){var _0x1fe1e4=a0_0x1ea9;if(_0x1d2665[_0x5a4120])return _0x1d2665[_0x5a4120][_0x1fe1e4(0x2fd)];var _0x20f334=_0x1d2665[_0x5a4120]={'i':_0x5a4120,'l':!0x1,'exports':{}};return _0x193a19[_0x5a4120][_0x1fe1e4(0x235)](_0x20f334[_0x1fe1e4(0x2fd)],_0x20f334,_0x20f334[_0x1fe1e4(0x2fd)],_0x3d8651),_0x20f334['l']=!0x0,_0x20f334['exports'];}return _0x3d8651['m']=_0x193a19,_0x3d8651['c']=_0x1d2665,_0x3d8651['d']=function(_0x4fe9f4,_0x12dace,_0x3febd7){_0x3d8651['o'](_0x4fe9f4,_0x12dace)||Object['defineProperty'](_0x4fe9f4,_0x12dace,{'enumerable':!0x0,'get':_0x3febd7});},_0x3d8651['r']=function(_0x23eaab){var _0x81b35d=a0_0x1ea9;_0x81b35d(0x30d)!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x23eaab,Symbol[_0x81b35d(0x2e2)],{'value':_0x81b35d(0x2f6)}),Object[_0x81b35d(0x2cf)](_0x23eaab,'__esModule',{'value':!0x0});},_0x3d8651['t']=function(_0x3436dc,_0x1679ab){var _0x43e435=a0_0x1ea9;if(0x1&_0x1679ab&&(_0x3436dc=_0x3d8651(_0x3436dc)),0x8&_0x1679ab)return _0x3436dc;if(0x4&_0x1679ab&&_0x43e435(0x31a)==typeof _0x3436dc&&_0x3436dc&&_0x3436dc[_0x43e435(0x2b9)])return _0x3436dc;var _0xcec8f0=Object[_0x43e435(0x2e9)](null);if(_0x3d8651['r'](_0xcec8f0),Object[_0x43e435(0x2cf)](_0xcec8f0,'default',{'enumerable':!0x0,'value':_0x3436dc}),0x2&_0x1679ab&&_0x43e435(0x2fc)!=typeof _0x3436dc){for(var _0x3a029b in _0x3436dc)_0x3d8651['d'](_0xcec8f0,_0x3a029b,function(_0x4037e7){return _0x3436dc[_0x4037e7];}[_0x43e435(0x21b)](null,_0x3a029b));}return _0xcec8f0;},_0x3d8651['n']=function(_0x40a01c){var _0x299a51=a0_0x1ea9,_0xc808ef=_0x40a01c&&_0x40a01c[_0x299a51(0x2b9)]?function(){var _0x5ec96b=_0x299a51;return _0x40a01c[_0x5ec96b(0x33c)];}:function(){return _0x40a01c;};return _0x3d8651['d'](_0xc808ef,'a',_0xc808ef),_0xc808ef;},_0x3d8651['o']=function(_0x1bd70c,_0x5b1dfd){var _0x2d3a3c=a0_0x1ea9;return Object[_0x2d3a3c(0x313)][_0x2d3a3c(0x322)][_0x2d3a3c(0x235)](_0x1bd70c,_0x5b1dfd);},_0x3d8651['p']='',_0x3d8651(_0x3d8651['s']=0x14);}([function(_0x1dd947,_0x90e54b){var _0x2f350e=a0_0x1ea9;_0x1dd947[_0x2f350e(0x2fd)]=_0x43421f;},function(_0x5a58d6,_0x3f9dd0){var _0x5e5c42=a0_0x1ea9;_0x5a58d6[_0x5e5c42(0x2fd)]=_0x143aa8;},function(_0x160795,_0x1c6916){var _0x349258=a0_0x1ea9;_0x160795[_0x349258(0x2fd)]=function(_0x5802d9,_0x6056a7){if(!(_0x5802d9 instanceof _0x6056a7))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');},_0x160795['exports'][_0x349258(0x33c)]=_0x160795[_0x349258(0x2fd)],_0x160795['exports']['__esModule']=!0x0;},function(_0x40a4c5,_0x1e3d52){var _0xecb958=a0_0x1ea9;function _0x2dcc65(_0x355e86,_0x3eb0a1){var _0x5d1c67=a0_0x1ea9;for(var _0x584b56=0x0;_0x584b56<_0x3eb0a1[_0x5d1c67(0x348)];_0x584b56++){var _0x4b2e9b=_0x3eb0a1[_0x584b56];_0x4b2e9b[_0x5d1c67(0x2d8)]=_0x4b2e9b[_0x5d1c67(0x2d8)]||!0x1,_0x4b2e9b[_0x5d1c67(0x29c)]=!0x0,'value'in _0x4b2e9b&&(_0x4b2e9b[_0x5d1c67(0x2ea)]=!0x0),Object[_0x5d1c67(0x2cf)](_0x355e86,_0x4b2e9b[_0x5d1c67(0x1f7)],_0x4b2e9b);}}_0x40a4c5[_0xecb958(0x2fd)]=function(_0x50a93f,_0x51cf7d,_0x4abed4){var _0x115338=_0xecb958;return _0x51cf7d&&_0x2dcc65(_0x50a93f[_0x115338(0x313)],_0x51cf7d),_0x4abed4&&_0x2dcc65(_0x50a93f,_0x4abed4),_0x50a93f;},_0x40a4c5['exports'][_0xecb958(0x33c)]=_0x40a4c5[_0xecb958(0x2fd)],_0x40a4c5['exports'][_0xecb958(0x2b9)]=!0x0;},function(_0x7f643d,_0x2694d2){var _0xbb341a=a0_0x1ea9;function _0x329052(_0x46502f){var _0x5d2819=a0_0x1ea9;return _0x7f643d['exports']=_0x329052=Object[_0x5d2819(0x205)]?Object['getPrototypeOf']:function(_0x5b5806){var _0x307775=_0x5d2819;return _0x5b5806[_0x307775(0x1f8)]||Object['getPrototypeOf'](_0x5b5806);},_0x7f643d[_0x5d2819(0x2fd)][_0x5d2819(0x33c)]=_0x7f643d[_0x5d2819(0x2fd)],_0x7f643d[_0x5d2819(0x2fd)][_0x5d2819(0x2b9)]=!0x0,_0x329052(_0x46502f);}_0x7f643d[_0xbb341a(0x2fd)]=_0x329052,_0x7f643d[_0xbb341a(0x2fd)][_0xbb341a(0x33c)]=_0x7f643d[_0xbb341a(0x2fd)],_0x7f643d[_0xbb341a(0x2fd)][_0xbb341a(0x2b9)]=!0x0;},function(_0x228829,_0x1c70d7,_0x8b3b0f){var _0x55b7ec=a0_0x1ea9,_0x1550e1=_0x8b3b0f(0x11);_0x228829[_0x55b7ec(0x2fd)]=function(_0x276b56,_0x676af9){var _0x5eace6=_0x55b7ec;if(_0x5eace6(0x23e)!=typeof _0x676af9&&null!==_0x676af9)throw new TypeError(_0x5eace6(0x35b));_0x276b56[_0x5eace6(0x313)]=Object[_0x5eace6(0x2e9)](_0x676af9&&_0x676af9[_0x5eace6(0x313)],{'constructor':{'value':_0x276b56,'writable':!0x0,'configurable':!0x0}}),_0x676af9&&_0x1550e1(_0x276b56,_0x676af9);},_0x228829[_0x55b7ec(0x2fd)][_0x55b7ec(0x33c)]=_0x228829['exports'],_0x228829[_0x55b7ec(0x2fd)][_0x55b7ec(0x2b9)]=!0x0;},function(_0xde1012,_0x332f16,_0x1c437a){var _0x3032bd=a0_0x1ea9,_0x2abcdc=_0x1c437a(0x12)[_0x3032bd(0x33c)],_0x1efb2f=_0x1c437a(0x13);_0xde1012['exports']=function(_0x2047d8,_0x17a7f0){var _0x1902d3=_0x3032bd;if(_0x17a7f0&&(_0x1902d3(0x31a)===_0x2abcdc(_0x17a7f0)||_0x1902d3(0x23e)==typeof _0x17a7f0))return _0x17a7f0;if(void 0x0!==_0x17a7f0)throw new TypeError(_0x1902d3(0x250));return _0x1efb2f(_0x2047d8);},_0xde1012[_0x3032bd(0x2fd)][_0x3032bd(0x33c)]=_0xde1012['exports'],_0xde1012['exports'][_0x3032bd(0x2b9)]=!0x0;},function(_0x14348b,_0x85f3bd){var _0x3d2173=a0_0x1ea9;_0x14348b[_0x3d2173(0x2fd)]=_0x3d2173(0x268);},function(_0x39c799,_0x213f9d){var _0x519341=a0_0x1ea9;_0x39c799[_0x519341(0x2fd)]='attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}';},function(_0x116f48,_0x5d0dab){var _0x15f6b5=a0_0x1ea9;_0x116f48[_0x15f6b5(0x2fd)]=_0x15f6b5(0x303);},function(_0x52653e,_0x139215){var _0x494a59=a0_0x1ea9;_0x52653e[_0x494a59(0x2fd)]=_0x494a59(0x24d);},function(_0x1c7398,_0x460061){var _0x2370b5=a0_0x1ea9;_0x1c7398[_0x2370b5(0x2fd)]=_0x2370b5(0x353);},function(_0x29b308,_0x53e829){var _0x32c24d=a0_0x1ea9;_0x29b308[_0x32c24d(0x2fd)]=_0x32c24d(0x344);},function(_0x48c103,_0x446a0c){var _0x43bbce=a0_0x1ea9;_0x48c103['exports']=_0x43bbce(0x210);},function(_0x5efdde,_0x5b6ee1){var _0x55f4c3=a0_0x1ea9;_0x5efdde['exports']=_0x55f4c3(0x32c);},function(_0x1e66be,_0x3111b7){var _0x231643=a0_0x1ea9;_0x1e66be[_0x231643(0x2fd)]=_0x231643(0x271);},function(_0x55865f,_0x27fa09){var _0x5d8d28=a0_0x1ea9;_0x55865f[_0x5d8d28(0x2fd)]=_0x5d8d28(0x1ee);},function(_0x4c74b2,_0x395749){var _0x1f8de2=a0_0x1ea9;function _0x530390(_0x571eb5,_0x52de10){var _0x2dfd3d=a0_0x1ea9;return _0x4c74b2[_0x2dfd3d(0x2fd)]=_0x530390=Object[_0x2dfd3d(0x205)]||function(_0x6ad7e6,_0x31403f){var _0x5b96ee=_0x2dfd3d;return _0x6ad7e6[_0x5b96ee(0x1f8)]=_0x31403f,_0x6ad7e6;},_0x4c74b2[_0x2dfd3d(0x2fd)][_0x2dfd3d(0x33c)]=_0x4c74b2[_0x2dfd3d(0x2fd)],_0x4c74b2[_0x2dfd3d(0x2fd)]['__esModule']=!0x0,_0x530390(_0x571eb5,_0x52de10);}_0x4c74b2[_0x1f8de2(0x2fd)]=_0x530390,_0x4c74b2[_0x1f8de2(0x2fd)][_0x1f8de2(0x33c)]=_0x4c74b2[_0x1f8de2(0x2fd)],_0x4c74b2['exports']['__esModule']=!0x0;},function(_0x5d639f,_0x412250){var _0xe9827=a0_0x1ea9;function _0x268d1a(_0x39fa2f){var _0xdf57a7=a0_0x1ea9;return _0xdf57a7(0x23e)==typeof Symbol&&'symbol'==typeof Symbol['iterator']?(_0x5d639f['exports']=_0x268d1a=function(_0x961ee3){return typeof _0x961ee3;},_0x5d639f[_0xdf57a7(0x2fd)][_0xdf57a7(0x33c)]=_0x5d639f[_0xdf57a7(0x2fd)],_0x5d639f[_0xdf57a7(0x2fd)][_0xdf57a7(0x2b9)]=!0x0):(_0x5d639f['exports']=_0x268d1a=function(_0x1d56a0){var _0x237c4a=_0xdf57a7;return _0x1d56a0&&'function'==typeof Symbol&&_0x1d56a0['constructor']===Symbol&&_0x1d56a0!==Symbol['prototype']?_0x237c4a(0x35c):typeof _0x1d56a0;},_0x5d639f['exports'][_0xdf57a7(0x33c)]=_0x5d639f[_0xdf57a7(0x2fd)],_0x5d639f[_0xdf57a7(0x2fd)][_0xdf57a7(0x2b9)]=!0x0),_0x268d1a(_0x39fa2f);}_0x5d639f[_0xe9827(0x2fd)]=_0x268d1a,_0x5d639f['exports']['default']=_0x5d639f['exports'],_0x5d639f[_0xe9827(0x2fd)][_0xe9827(0x2b9)]=!0x0;},function(_0x313656,_0x3248bb){var _0x220e97=a0_0x1ea9;_0x313656['exports']=function(_0x3757ac){var _0x105cb3=a0_0x1ea9;if(void 0x0===_0x3757ac)throw new ReferenceError(_0x105cb3(0x2ab));return _0x3757ac;},_0x313656[_0x220e97(0x2fd)][_0x220e97(0x33c)]=_0x313656[_0x220e97(0x2fd)],_0x313656['exports'][_0x220e97(0x2b9)]=!0x0;},function(_0x580cb0,_0x500bad,_0x492658){'use strict';var _0x14990a=a0_0x1ea9;_0x492658['r'](_0x500bad),_0x492658['d'](_0x500bad,_0x14990a(0x2b8),function(){return _0x399ae4;}),_0x492658['d'](_0x500bad,_0x14990a(0x255),function(){return _0x34bcde;}),_0x492658['d'](_0x500bad,_0x14990a(0x2a3),function(){return _0x550405;});var _0x550405={};_0x492658['r'](_0x550405),_0x492658['d'](_0x550405,'getU',function(){return _0x26b446;}),_0x492658['d'](_0x550405,_0x14990a(0x26c),function(){return _0x4f3fa9;}),_0x492658['d'](_0x550405,'getSpeed',function(){return _0x504ff3;}),_0x492658['d'](_0x550405,_0x14990a(0x311),function(){return _0x17a5c4;});var _0x27ad42=_0x492658(0x1),_0x84a974=_0x492658(0x2),_0xbf049a=_0x492658['n'](_0x84a974),_0x3b4c46=_0x492658(0x3),_0x42f999=_0x492658['n'](_0x3b4c46),_0x2b4a5e=_0x492658(0x5),_0x1b7e91=_0x492658['n'](_0x2b4a5e),_0x19fdea=_0x492658(0x6),_0x43b61d=_0x492658['n'](_0x19fdea),_0x57fefb=_0x492658(0x4),_0x2f41e6=_0x492658['n'](_0x57fefb),_0x12f1d7=_0x492658(0x0),_0x3ea30b=function(){var _0x2b2df4=_0x14990a;function _0x599b87(_0x3f7df0){var _0x3af5dc=a0_0x1ea9;_0xbf049a()(this,_0x599b87),this[_0x3af5dc(0x272)]=_0x3f7df0[_0x3af5dc(0x272)],this[_0x3af5dc(0x308)]=_0x3f7df0[_0x3af5dc(0x308)],this[_0x3af5dc(0x2b7)]=_0x3f7df0[_0x3af5dc(0x2b7)],this[_0x3af5dc(0x26f)]=_0x3f7df0[_0x3af5dc(0x26f)],this[_0x3af5dc(0x2e8)]=_0x3f7df0[_0x3af5dc(0x2e8)],this[_0x3af5dc(0x32e)]=_0x3f7df0['vertexShaderSource'],this['fragmentShaderSource']=_0x3f7df0[_0x3af5dc(0x347)],this[_0x3af5dc(0x2c8)]=_0x3f7df0[_0x3af5dc(0x2c8)],this[_0x3af5dc(0x327)]=_0x3f7df0[_0x3af5dc(0x327)],this[_0x3af5dc(0x216)]=_0x3f7df0['outputTexture'],this[_0x3af5dc(0x333)]=_0x12f1d7[_0x3af5dc(0x2db)](_0x3f7df0['autoClear'],!0x1),this[_0x3af5dc(0x28d)]=_0x3f7df0[_0x3af5dc(0x28d)],this[_0x3af5dc(0x32f)]=!0x0,this[_0x3af5dc(0x367)]=void 0x0,this[_0x3af5dc(0x33d)]=void 0x0,this[_0x3af5dc(0x333)]&&(this[_0x3af5dc(0x33d)]=new _0x12f1d7[(_0x3af5dc(0x2c2))]({'color':new _0x12f1d7[(_0x3af5dc(0x274))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':_0x12f1d7[_0x3af5dc(0x2e7)][_0x3af5dc(0x26b)]}));}return _0x42f999()(_0x599b87,[{'key':_0x2b2df4(0x31e),'value':function(_0x4d0292){var _0x1cd22d=_0x2b2df4;switch(this[_0x1cd22d(0x272)]){case'Draw':var _0x1f6522=_0x12f1d7[_0x1cd22d(0x31d)][_0x1cd22d(0x238)]({'context':_0x4d0292,'geometry':this[_0x1cd22d(0x308)],'attributeLocations':this[_0x1cd22d(0x2b7)],'bufferUsage':_0x12f1d7['BufferUsage']['STATIC_DRAW']}),_0x3db07b=_0x12f1d7[_0x1cd22d(0x34b)][_0x1cd22d(0x23d)]({'context':_0x4d0292,'attributeLocations':this['attributeLocations'],'vertexShaderSource':this[_0x1cd22d(0x32e)],'fragmentShaderSource':this[_0x1cd22d(0x347)]}),_0x24fefb=_0x12f1d7[_0x1cd22d(0x354)][_0x1cd22d(0x23d)](this['rawRenderState']);return new _0x12f1d7[(_0x1cd22d(0x323))]({'owner':this,'vertexArray':_0x1f6522,'primitiveType':this[_0x1cd22d(0x26f)],'uniformMap':this['uniformMap'],'modelMatrix':_0x12f1d7[_0x1cd22d(0x298)]['IDENTITY'],'shaderProgram':_0x3db07b,'framebuffer':this[_0x1cd22d(0x327)],'renderState':_0x24fefb,'pass':_0x12f1d7[_0x1cd22d(0x2e7)]['OPAQUE']});case _0x1cd22d(0x2ef):return new _0x12f1d7[(_0x1cd22d(0x22e))]({'owner':this,'fragmentShaderSource':this[_0x1cd22d(0x347)],'uniformMap':this[_0x1cd22d(0x2e8)],'outputTexture':this['outputTexture'],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x2a6c9f,_0x381b9e){var _0x4ddd68=_0x2b2df4;this[_0x4ddd68(0x308)]=_0x381b9e;var _0x55179f=_0x12f1d7['VertexArray']['fromGeometry']({'context':_0x2a6c9f,'geometry':this[_0x4ddd68(0x308)],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x12f1d7[_0x4ddd68(0x358)][_0x4ddd68(0x266)]});this[_0x4ddd68(0x367)][_0x4ddd68(0x233)]=_0x55179f;}},{'key':_0x2b2df4(0x301),'value':function(_0x4d5e9e){var _0x4b0f47=_0x2b2df4;this[_0x4b0f47(0x32f)]&&_0x4d5e9e[_0x4b0f47(0x203)]==_0x12f1d7['SceneMode'][_0x4b0f47(0x2a7)]&&(_0x12f1d7[_0x4b0f47(0x234)](this['commandToExecute'])||(this[_0x4b0f47(0x367)]=this[_0x4b0f47(0x31e)](_0x4d5e9e[_0x4b0f47(0x320)])),_0x12f1d7[_0x4b0f47(0x234)](this['preExecute'])&&this['preExecute'](),_0x12f1d7[_0x4b0f47(0x234)](this[_0x4b0f47(0x33d)])&&_0x4d5e9e[_0x4b0f47(0x286)][_0x4b0f47(0x220)](this['clearCommand']),_0x4d5e9e[_0x4b0f47(0x286)][_0x4b0f47(0x220)](this[_0x4b0f47(0x367)]));}},{'key':_0x2b2df4(0x314),'value':function(){return!0x1;}},{'key':'destroy','value':function(){var _0x2fd542=_0x2b2df4;return _0x12f1d7[_0x2fd542(0x234)](this[_0x2fd542(0x367)])&&(this[_0x2fd542(0x367)][_0x2fd542(0x340)]=this[_0x2fd542(0x367)][_0x2fd542(0x340)]&&this[_0x2fd542(0x367)][_0x2fd542(0x340)][_0x2fd542(0x2d9)]()),_0x12f1d7[_0x2fd542(0x359)](this);}}]),_0x599b87;}(),_0x1459bf={'getFullscreenQuad':function(){var _0x5b0d6b=_0x14990a;return new _0x12f1d7[(_0x5b0d6b(0x290))]({'attributes':new _0x12f1d7['GeometryAttributes']({'position':new _0x12f1d7[(_0x5b0d6b(0x293))]({'componentDatatype':_0x12f1d7[_0x5b0d6b(0x2ac)][_0x5b0d6b(0x28e)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x12f1d7['GeometryAttribute']({'componentDatatype':_0x12f1d7[_0x5b0d6b(0x2ac)][_0x5b0d6b(0x28e)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x3660d1,_0xfa6749){var _0x33f502=_0x14990a;if(_0x12f1d7[_0x33f502(0x234)](_0xfa6749)){var _0x125b27={};_0x125b27['arrayBufferView']=_0xfa6749,_0x3660d1[_0x33f502(0x309)]=_0x125b27;}return new _0x12f1d7['Texture'](_0x3660d1);},'createFramebuffer':function(_0x21da3f,_0x40e5a7,_0x1d8287){var _0x5c3c8a=_0x14990a;return new _0x12f1d7[(_0x5c3c8a(0x21f))]({'context':_0x21da3f,'colorTextures':[_0x40e5a7],'depthTexture':_0x1d8287});},'createRawRenderState':function(_0x36c40d){var _0x2fda5b=_0x14990a,_0xa1ae3f={'viewport':_0x36c40d[_0x2fda5b(0x204)],'depthTest':_0x36c40d[_0x2fda5b(0x26a)],'depthMask':_0x36c40d[_0x2fda5b(0x2ee)],'blending':_0x36c40d[_0x2fda5b(0x33f)]};return _0x12f1d7[_0x2fda5b(0x1f3)]['getDefaultRenderState'](!0x0,!0x1,_0xa1ae3f);},'viewRectangleToLonLatRange':function(_0x3da54c){var _0x10e251=_0x14990a,_0x198357,_0x55157a,_0x58dca4={},_0x205da3=_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x241)](_0x3da54c[_0x10e251(0x2a2)],_0x12f1d7['Math'][_0x10e251(0x277)]),_0x4eb823=_0x12f1d7['Math'][_0x10e251(0x241)](_0x3da54c[_0x10e251(0x227)],_0x12f1d7[_0x10e251(0x24a)]['TWO_PI']),_0x3b26a4=_0x3da54c[_0x10e251(0x2fb)];_0x3b26a4>_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x2f7)]?(_0x198357=0x0,_0x55157a=_0x12f1d7['Math'][_0x10e251(0x277)]):_0x4eb823-_0x205da3<_0x3b26a4?(_0x198357=_0x205da3,_0x55157a=_0x205da3+_0x3b26a4):(_0x198357=_0x205da3,_0x55157a=_0x4eb823),_0x58dca4[_0x10e251(0x1f2)]={'min':_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x231)](_0x198357),'max':_0x12f1d7['Math'][_0x10e251(0x231)](_0x55157a)};var _0x31ba81=_0x3da54c[_0x10e251(0x365)],_0x33f372=_0x3da54c[_0x10e251(0x30c)],_0xc8169=_0x3da54c[_0x10e251(0x35f)],_0x108f40=_0xc8169>_0x12f1d7[_0x10e251(0x24a)]['PI']/0xc?_0xc8169/0x2:0x0,_0x53a8b8=_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x29e)](_0x31ba81-_0x108f40),_0x10e497=_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x29e)](_0x33f372+_0x108f40);return _0x53a8b8<-_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x246)]&&(_0x53a8b8=-_0x12f1d7['Math'][_0x10e251(0x2ba)]),_0x10e497>_0x12f1d7['Math'][_0x10e251(0x246)]&&(_0x10e497=_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x2ba)]),_0x58dca4['lat']={'min':_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x231)](_0x53a8b8),'max':_0x12f1d7[_0x10e251(0x24a)][_0x10e251(0x231)](_0x10e497)},_0x58dca4;}},_0x50e83a=_0x492658(0x8),_0x2c570f=_0x492658['n'](_0x50e83a),_0xa0fe9e=_0x492658(0x9),_0x21d5c3=_0x492658['n'](_0xa0fe9e),_0x5257a3=_0x492658(0x7),_0x2febc7=_0x492658['n'](_0x5257a3),_0x7f0ea0=_0x492658(0xa),_0x47fe75=_0x492658['n'](_0x7f0ea0),_0x4027b8=_0x492658(0xb),_0x54f9d4=_0x492658['n'](_0x4027b8),_0x33e0fa=function(){var _0x51de16=_0x14990a;function _0x4ee109(_0x59cce2,_0x5f3c09,_0x1a955f,_0x249f3a,_0x44ce82){var _0x332adf=a0_0x1ea9;_0xbf049a()(this,_0x4ee109),this[_0x332adf(0x1ff)](_0x59cce2,_0x5f3c09),this['createRenderingFramebuffers'](_0x59cce2),this[_0x332adf(0x261)](_0x59cce2,_0x1a955f,_0x249f3a,_0x44ce82);}return _0x42f999()(_0x4ee109,[{'key':_0x51de16(0x1ff),'value':function(_0x450e37,_0x4ae282){var _0x2dff20=_0x51de16,_0x4127ac={'context':_0x450e37,'width':_0x450e37['drawingBufferWidth'],'height':_0x450e37[_0x2dff20(0x2ad)],'pixelFormat':_0x12f1d7[_0x2dff20(0x351)]['RGBA'],'pixelDatatype':_0x12f1d7[_0x2dff20(0x1fb)][_0x2dff20(0x33a)]},_0x4dc0b3={'context':_0x450e37,'width':_0x450e37[_0x2dff20(0x22d)],'height':_0x450e37[_0x2dff20(0x2ad)],'pixelFormat':_0x12f1d7['PixelFormat'][_0x2dff20(0x259)],'pixelDatatype':_0x12f1d7[_0x2dff20(0x1fb)][_0x2dff20(0x34d)]},_0x46bc00={'context':_0x450e37,'width':_0x4ae282[_0x2dff20(0x27e)][_0x2dff20(0x2f5)],'height':0x1,'pixelFormat':_0x12f1d7['PixelFormat'][_0x2dff20(0x218)],'pixelDatatype':_0x12f1d7['PixelDatatype'][_0x2dff20(0x28e)],'sampler':new _0x12f1d7[(_0x2dff20(0x2af))]({'minificationFilter':_0x12f1d7[_0x2dff20(0x2a8)][_0x2dff20(0x275)],'magnificationFilter':_0x12f1d7[_0x2dff20(0x26e)][_0x2dff20(0x275)]})};this[_0x2dff20(0x223)]={'segmentsColor':_0x1459bf[_0x2dff20(0x1f9)](_0x4127ac),'segmentsDepth':_0x1459bf[_0x2dff20(0x1f9)](_0x4dc0b3),'currentTrailsColor':_0x1459bf[_0x2dff20(0x1f9)](_0x4127ac),'currentTrailsDepth':_0x1459bf['createTexture'](_0x4dc0b3),'nextTrailsColor':_0x1459bf[_0x2dff20(0x1f9)](_0x4127ac),'nextTrailsDepth':_0x1459bf['createTexture'](_0x4dc0b3),'colorTable':_0x1459bf[_0x2dff20(0x1f9)](_0x46bc00,_0x4ae282[_0x2dff20(0x27e)][_0x2dff20(0x20e)])};}},{'key':_0x51de16(0x31b),'value':function(_0x464be4){var _0x542631=_0x51de16;this[_0x542631(0x260)]={'segments':_0x1459bf[_0x542631(0x240)](_0x464be4,this[_0x542631(0x223)][_0x542631(0x23c)],this[_0x542631(0x223)][_0x542631(0x2cd)]),'currentTrails':_0x1459bf[_0x542631(0x240)](_0x464be4,this[_0x542631(0x223)][_0x542631(0x2a5)],this['textures'][_0x542631(0x2a4)]),'nextTrails':_0x1459bf[_0x542631(0x240)](_0x464be4,this[_0x542631(0x223)][_0x542631(0x264)],this['textures']['nextTrailsDepth'])};}},{'key':_0x51de16(0x1f0),'value':function(_0x35b96a){var _0x5d1457=_0x51de16;for(var _0x462857=[],_0x3e0ce8=0x0;_0x3e0ce8<_0x35b96a['particlesTextureSize'];_0x3e0ce8++)for(var _0x17fdb9=0x0;_0x17fdb9<_0x35b96a[_0x5d1457(0x32b)];_0x17fdb9++)for(var _0x1ec36a=0x0;_0x1ec36a<0x4;_0x1ec36a++)_0x462857['push'](_0x3e0ce8/_0x35b96a[_0x5d1457(0x32b)]),_0x462857[_0x5d1457(0x220)](_0x17fdb9/_0x35b96a['particlesTextureSize']);_0x462857=new Float32Array(_0x462857);for(var _0x2107e6=[],_0x54db0a=[-0x1,0x1],_0x5cab5f=[-0x1,0x1],_0x32d3dd=0x0;_0x32d3dd<_0x35b96a[_0x5d1457(0x2d7)];_0x32d3dd++)for(var _0x160f59=0x0;_0x160f59<0x2;_0x160f59++)for(var _0x123f3c=0x0;_0x123f3c<0x2;_0x123f3c++)_0x2107e6['push'](_0x54db0a[_0x160f59]),_0x2107e6[_0x5d1457(0x220)](_0x5cab5f[_0x123f3c]),_0x2107e6[_0x5d1457(0x220)](0x0);_0x2107e6=new Float32Array(_0x2107e6);for(var _0x4bf1d5=0x6*_0x35b96a['maxParticles'],_0x111bb6=new Uint32Array(_0x4bf1d5),_0x335390=0x0,_0x288a1c=0x0,_0x100bee=0x0;_0x335390<_0x35b96a['maxParticles'];_0x335390++)_0x111bb6[_0x288a1c++]=_0x100bee+0x0,_0x111bb6[_0x288a1c++]=_0x100bee+0x1,_0x111bb6[_0x288a1c++]=_0x100bee+0x2,_0x111bb6[_0x288a1c++]=_0x100bee+0x2,_0x111bb6[_0x288a1c++]=_0x100bee+0x1,_0x111bb6[_0x288a1c++]=_0x100bee+0x3,_0x100bee+=0x4;return new _0x12f1d7[(_0x5d1457(0x290))]({'attributes':new _0x12f1d7[(_0x5d1457(0x2cb))]({'st':new _0x12f1d7[(_0x5d1457(0x293))]({'componentDatatype':_0x12f1d7[_0x5d1457(0x2ac)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0x462857}),'normal':new _0x12f1d7[(_0x5d1457(0x293))]({'componentDatatype':_0x12f1d7[_0x5d1457(0x2ac)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0x2107e6})}),'indices':_0x111bb6});}},{'key':_0x51de16(0x261),'value':function(_0xf296b0,_0x3f39d3,_0x250766,_0xeb15d0){var _0x5c6086=_0x51de16,_0xd17263=this;this[_0x5c6086(0x23a)]={'segments':new _0x3ea30b({'commandType':'Draw','attributeLocations':{'st':0x0,'normal':0x1},'geometry':this['createSegmentsGeometry'](_0x3f39d3),'primitiveType':_0x12f1d7[_0x5c6086(0x20b)][_0x5c6086(0x306)],'uniformMap':{'currentParticlesPosition':function(){var _0x4d7b65=_0x5c6086;return _0xeb15d0['particlesTextures'][_0x4d7b65(0x22c)];},'postProcessingPosition':function(){var _0x3446b3=_0x5c6086;return _0xeb15d0[_0x3446b3(0x29f)][_0x3446b3(0x200)];},'postProcessingSpeed':function(){var _0xfb514f=_0x5c6086;return _0xeb15d0[_0xfb514f(0x29f)][_0xfb514f(0x243)];},'colorTable':function(){var _0x4ef4f5=_0x5c6086;return _0xd17263[_0x4ef4f5(0x223)][_0x4ef4f5(0x27e)];},'aspect':function(){var _0x391b1f=_0x5c6086;return _0xf296b0[_0x391b1f(0x22d)]/_0xf296b0[_0x391b1f(0x2ad)];},'pixelSize':function(){var _0x1d705d=_0x5c6086;return _0x250766[_0x1d705d(0x284)];},'lineWidth':function(){var _0x18148b=_0x5c6086;return _0x3f39d3[_0x18148b(0x332)];},'particleHeight':function(){var _0x21e708=_0x5c6086;return _0x3f39d3[_0x21e708(0x326)];}},'vertexShaderSource':new _0x12f1d7[(_0x5c6086(0x25b))]({'sources':[_0x2c570f['a']]}),'fragmentShaderSource':new _0x12f1d7['ShaderSource']({'sources':[_0x21d5c3['a']]}),'rawRenderState':_0x1459bf[_0x5c6086(0x30a)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this['framebuffers'][_0x5c6086(0x350)],'autoClear':!0x0}),'trails':new _0x3ea30b({'commandType':_0x5c6086(0x1f1),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x1459bf[_0x5c6086(0x257)](),'primitiveType':_0x12f1d7[_0x5c6086(0x20b)][_0x5c6086(0x306)],'uniformMap':{'segmentsColorTexture':function(){var _0x5c0672=_0x5c6086;return _0xd17263[_0x5c0672(0x223)]['segmentsColor'];},'segmentsDepthTexture':function(){var _0x5b32ca=_0x5c6086;return _0xd17263[_0x5b32ca(0x223)]['segmentsDepth'];},'currentTrailsColor':function(){var _0x6c1e95=_0x5c6086;return _0xd17263[_0x6c1e95(0x260)][_0x6c1e95(0x1ef)][_0x6c1e95(0x239)](0x0);},'trailsDepthTexture':function(){var _0x16b618=_0x5c6086;return _0xd17263['framebuffers'][_0x16b618(0x1ef)][_0x16b618(0x283)];},'fadeOpacity':function(){var _0x3f0e82=_0x5c6086;return _0x3f39d3[_0x3f0e82(0x34f)];}},'vertexShaderSource':new _0x12f1d7[(_0x5c6086(0x25b))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x2febc7['a']]}),'fragmentShaderSource':new _0x12f1d7['ShaderSource']({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[_0x47fe75['a']]}),'rawRenderState':_0x1459bf[_0x5c6086(0x30a)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x12f1d7['DepthFunction'][_0x5c6086(0x267)]},'depthMask':!0x0}),'framebuffer':this[_0x5c6086(0x260)][_0x5c6086(0x2e0)],'autoClear':!0x0,'preExecute':function(){var _0x3ffca5=_0x5c6086,_0x292841;_0x292841=_0xd17263[_0x3ffca5(0x260)][_0x3ffca5(0x1ef)],_0xd17263[_0x3ffca5(0x260)][_0x3ffca5(0x1ef)]=_0xd17263['framebuffers']['nextTrails'],_0xd17263[_0x3ffca5(0x260)]['nextTrails']=_0x292841,_0xd17263['primitives'][_0x3ffca5(0x2fa)][_0x3ffca5(0x367)][_0x3ffca5(0x327)]=_0xd17263[_0x3ffca5(0x260)][_0x3ffca5(0x2e0)],_0xd17263[_0x3ffca5(0x23a)][_0x3ffca5(0x2fa)][_0x3ffca5(0x33d)][_0x3ffca5(0x327)]=_0xd17263[_0x3ffca5(0x260)]['nextTrails'];}}),'screen':new _0x3ea30b({'commandType':_0x5c6086(0x1f1),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x1459bf[_0x5c6086(0x257)](),'primitiveType':_0x12f1d7['PrimitiveType'][_0x5c6086(0x306)],'uniformMap':{'trailsColorTexture':function(){var _0x191ae9=_0x5c6086;return _0xd17263[_0x191ae9(0x260)][_0x191ae9(0x2e0)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x4ae286=_0x5c6086;return _0xd17263['framebuffers'][_0x4ae286(0x2e0)]['depthTexture'];}},'vertexShaderSource':new _0x12f1d7[(_0x5c6086(0x25b))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x2febc7['a']]}),'fragmentShaderSource':new _0x12f1d7[(_0x5c6086(0x25b))]({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[_0x54f9d4['a']]}),'rawRenderState':_0x1459bf[_0x5c6086(0x30a)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x4ee109;}(),_0x4ff6c7=_0x492658(0xc),_0x6ab9ea=_0x492658['n'](_0x4ff6c7),_0x53a727=_0x492658(0xd),_0x45cc5d=_0x492658['n'](_0x53a727),_0x20e30d=_0x492658(0xe),_0x1737fb=_0x492658['n'](_0x20e30d),_0x270c32=_0x492658(0xf),_0x418a2b=_0x492658['n'](_0x270c32),_0x114602=_0x492658(0x10),_0x3fd86d=_0x492658['n'](_0x114602),_0xff37e3=function(){var _0x10f6c6=_0x14990a;function _0xfd149(_0x50fef5,_0x39ecb4,_0x3e9e21,_0x3639c9){var _0x41dfd0=a0_0x1ea9;_0xbf049a()(this,_0xfd149),this[_0x41dfd0(0x32a)]=_0x39ecb4,this['createWindTextures'](_0x50fef5,_0x39ecb4),this[_0x41dfd0(0x339)](_0x50fef5,_0x3e9e21,_0x3639c9),this[_0x41dfd0(0x2eb)](_0x39ecb4,_0x3e9e21,_0x3639c9);}return _0x42f999()(_0xfd149,[{'key':_0x10f6c6(0x228),'value':function(_0xe7400e,_0x48e790){var _0xaaaf6e=_0x10f6c6,_0x108708={'context':_0xe7400e,'width':_0x48e790[_0xaaaf6e(0x23f)][_0xaaaf6e(0x1f2)],'height':_0x48e790['dimensions'][_0xaaaf6e(0x312)]*_0x48e790[_0xaaaf6e(0x23f)]['lev'],'pixelFormat':_0x12f1d7[_0xaaaf6e(0x351)]['LUMINANCE'],'pixelDatatype':_0x12f1d7[_0xaaaf6e(0x1fb)][_0xaaaf6e(0x28e)],'flipY':!0x1,'sampler':new _0x12f1d7[(_0xaaaf6e(0x2af))]({'minificationFilter':_0x12f1d7[_0xaaaf6e(0x2a8)][_0xaaaf6e(0x24e)],'magnificationFilter':_0x12f1d7['TextureMagnificationFilter'][_0xaaaf6e(0x24e)]})};this[_0xaaaf6e(0x20c)]={'U':_0x1459bf['createTexture'](_0x108708,_0x48e790['U'][_0xaaaf6e(0x20e)]),'V':_0x1459bf[_0xaaaf6e(0x1f9)](_0x108708,_0x48e790['V'][_0xaaaf6e(0x20e)])};}},{'key':'createParticlesTextures','value':function(_0x10faea,_0x44de14,_0x2fabe2){var _0x282442=_0x10f6c6,_0x2bd19b={'context':_0x10faea,'width':_0x44de14['particlesTextureSize'],'height':_0x44de14['particlesTextureSize'],'pixelFormat':_0x12f1d7[_0x282442(0x351)]['RGBA'],'pixelDatatype':_0x12f1d7[_0x282442(0x1fb)][_0x282442(0x28e)],'flipY':!0x1,'sampler':new _0x12f1d7['Sampler']({'minificationFilter':_0x12f1d7[_0x282442(0x2a8)]['NEAREST'],'magnificationFilter':_0x12f1d7[_0x282442(0x26e)][_0x282442(0x24e)]})},_0x14e7af=this[_0x282442(0x28a)](_0x44de14[_0x282442(0x2d7)],_0x2fabe2),_0x84315a=new Float32Array(0x4*_0x44de14['maxParticles'])[_0x282442(0x225)](0x0);this[_0x282442(0x29f)]={'particlesWind':_0x1459bf[_0x282442(0x1f9)](_0x2bd19b),'currentParticlesPosition':_0x1459bf[_0x282442(0x1f9)](_0x2bd19b,_0x14e7af),'nextParticlesPosition':_0x1459bf[_0x282442(0x1f9)](_0x2bd19b,_0x14e7af),'currentParticlesSpeed':_0x1459bf[_0x282442(0x1f9)](_0x2bd19b,_0x84315a),'nextParticlesSpeed':_0x1459bf[_0x282442(0x1f9)](_0x2bd19b,_0x84315a),'postProcessingPosition':_0x1459bf[_0x282442(0x1f9)](_0x2bd19b,_0x14e7af),'postProcessingSpeed':_0x1459bf['createTexture'](_0x2bd19b,_0x84315a)};}},{'key':_0x10f6c6(0x28a),'value':function(_0x28e4d4,_0x296dd2){var _0x1a1845=_0x10f6c6;for(var _0x3b10ea=new Float32Array(0x4*_0x28e4d4),_0x22f917=0x0;_0x22f917<_0x28e4d4;_0x22f917++)_0x3b10ea[0x4*_0x22f917]=_0x12f1d7['Math'][_0x1a1845(0x27a)](_0x296dd2[_0x1a1845(0x324)]['x'],_0x296dd2[_0x1a1845(0x324)]['y']),_0x3b10ea[0x4*_0x22f917+0x1]=_0x12f1d7[_0x1a1845(0x24a)]['randomBetween'](_0x296dd2[_0x1a1845(0x207)]['x'],_0x296dd2[_0x1a1845(0x207)]['y']),_0x3b10ea[0x4*_0x22f917+0x2]=_0x12f1d7[_0x1a1845(0x24a)][_0x1a1845(0x27a)](this['data'][_0x1a1845(0x215)][_0x1a1845(0x2a0)],this[_0x1a1845(0x32a)]['lev'][_0x1a1845(0x2e6)]),_0x3b10ea[0x4*_0x22f917+0x3]=0x0;return _0x3b10ea;}},{'key':_0x10f6c6(0x263),'value':function(){var _0x288ea1=_0x10f6c6,_0x54e579=this;Object[_0x288ea1(0x319)](this[_0x288ea1(0x29f)])[_0x288ea1(0x35a)](function(_0x35d6f4){var _0x5ed3e7=_0x288ea1;_0x54e579['particlesTextures'][_0x35d6f4][_0x5ed3e7(0x2d9)]();});}},{'key':_0x10f6c6(0x2eb),'value':function(_0x2221a0,_0x4368cc,_0xd4203){var _0x52c395=_0x10f6c6,_0x5448f5=new _0x12f1d7['Cartesian3'](_0x2221a0[_0x52c395(0x23f)][_0x52c395(0x1f2)],_0x2221a0['dimensions'][_0x52c395(0x312)],_0x2221a0[_0x52c395(0x23f)][_0x52c395(0x215)]),_0x42943a=new _0x12f1d7[(_0x52c395(0x244))](_0x2221a0[_0x52c395(0x1f2)]['min'],_0x2221a0[_0x52c395(0x312)][_0x52c395(0x2a0)],_0x2221a0[_0x52c395(0x215)][_0x52c395(0x2a0)]),_0x1f749e=new _0x12f1d7[(_0x52c395(0x244))](_0x2221a0['lon'][_0x52c395(0x2e6)],_0x2221a0[_0x52c395(0x312)][_0x52c395(0x2e6)],_0x2221a0[_0x52c395(0x215)][_0x52c395(0x2e6)]),_0x5e5b30=new _0x12f1d7[(_0x52c395(0x244))]((_0x1f749e['x']-_0x42943a['x'])/(_0x5448f5['x']-0x1),(_0x1f749e['y']-_0x42943a['y'])/(_0x5448f5['y']-0x1),_0x5448f5['z']>0x1?(_0x1f749e['z']-_0x42943a['z'])/(_0x5448f5['z']-0x1):0x1),_0x1f5de6=new _0x12f1d7[(_0x52c395(0x1f4))](_0x2221a0['U'][_0x52c395(0x2a0)],_0x2221a0['U'][_0x52c395(0x2e6)]),_0x281d31=new _0x12f1d7[(_0x52c395(0x1f4))](_0x2221a0['V'][_0x52c395(0x2a0)],_0x2221a0['V'][_0x52c395(0x2e6)]),_0x1a9ef9=this;this[_0x52c395(0x23a)]={'getWind':new _0x3ea30b({'commandType':'Compute','uniformMap':{'U':function(){return _0x1a9ef9['windTextures']['U'];},'V':function(){var _0x55b7ea=_0x52c395;return _0x1a9ef9[_0x55b7ea(0x20c)]['V'];},'currentParticlesPosition':function(){var _0x3d442a=_0x52c395;return _0x1a9ef9[_0x3d442a(0x29f)][_0x3d442a(0x22c)];},'dimension':function(){return _0x5448f5;},'minimum':function(){return _0x42943a;},'maximum':function(){return _0x1f749e;},'interval':function(){return _0x5e5b30;}},'fragmentShaderSource':new _0x12f1d7['ShaderSource']({'sources':[_0x6ab9ea['a']]}),'outputTexture':this[_0x52c395(0x29f)][_0x52c395(0x27d)],'preExecute':function(){var _0x3eb9d0=_0x52c395;_0x1a9ef9[_0x3eb9d0(0x23a)]['getWind']['commandToExecute']['outputTexture']=_0x1a9ef9[_0x3eb9d0(0x29f)][_0x3eb9d0(0x27d)];}}),'updateSpeed':new _0x3ea30b({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function(){var _0x372e27=_0x52c395;return _0x1a9ef9[_0x372e27(0x29f)][_0x372e27(0x269)];},'particlesWind':function(){var _0x3c8b96=_0x52c395;return _0x1a9ef9['particlesTextures'][_0x3c8b96(0x27d)];},'uSpeedRange':function(){return _0x1f5de6;},'vSpeedRange':function(){return _0x281d31;},'pixelSize':function(){return _0xd4203['pixelSize'];},'speedFactor':function(){return _0x4368cc['speedFactor'];}},'fragmentShaderSource':new _0x12f1d7[(_0x52c395(0x25b))]({'sources':[_0x45cc5d['a']]}),'outputTexture':this[_0x52c395(0x29f)][_0x52c395(0x201)],'preExecute':function(){var _0x46b098=_0x52c395,_0x1c3c61;_0x1c3c61=_0x1a9ef9[_0x46b098(0x29f)][_0x46b098(0x269)],_0x1a9ef9['particlesTextures'][_0x46b098(0x269)]=_0x1a9ef9['particlesTextures'][_0x46b098(0x243)],_0x1a9ef9[_0x46b098(0x29f)][_0x46b098(0x243)]=_0x1c3c61,_0x1a9ef9[_0x46b098(0x23a)]['updateSpeed']['commandToExecute'][_0x46b098(0x216)]=_0x1a9ef9[_0x46b098(0x29f)][_0x46b098(0x201)];}}),'updatePosition':new _0x3ea30b({'commandType':_0x52c395(0x2ef),'uniformMap':{'currentParticlesPosition':function(){var _0x2925c2=_0x52c395;return _0x1a9ef9['particlesTextures'][_0x2925c2(0x22c)];},'currentParticlesSpeed':function(){var _0x18df92=_0x52c395;return _0x1a9ef9[_0x18df92(0x29f)][_0x18df92(0x269)];}},'fragmentShaderSource':new _0x12f1d7[(_0x52c395(0x25b))]({'sources':[_0x1737fb['a']]}),'outputTexture':this[_0x52c395(0x29f)][_0x52c395(0x31c)],'preExecute':function(){var _0x41486c=_0x52c395,_0x38a254;_0x38a254=_0x1a9ef9['particlesTextures'][_0x41486c(0x22c)],_0x1a9ef9[_0x41486c(0x29f)]['currentParticlesPosition']=_0x1a9ef9[_0x41486c(0x29f)][_0x41486c(0x200)],_0x1a9ef9['particlesTextures'][_0x41486c(0x200)]=_0x38a254,_0x1a9ef9[_0x41486c(0x23a)][_0x41486c(0x2df)][_0x41486c(0x367)][_0x41486c(0x216)]=_0x1a9ef9[_0x41486c(0x29f)]['nextParticlesPosition'];}}),'postProcessingPosition':new _0x3ea30b({'commandType':_0x52c395(0x2ef),'uniformMap':{'nextParticlesPosition':function(){var _0x330710=_0x52c395;return _0x1a9ef9[_0x330710(0x29f)][_0x330710(0x31c)];},'nextParticlesSpeed':function(){var _0x4c7229=_0x52c395;return _0x1a9ef9[_0x4c7229(0x29f)][_0x4c7229(0x201)];},'lonRange':function(){return _0xd4203['lonRange'];},'latRange':function(){var _0xd1fa5a=_0x52c395;return _0xd4203[_0xd1fa5a(0x207)];},'randomCoefficient':function(){var _0x224a2d=_0x52c395,_0x538531=Math[_0x224a2d(0x22a)]();return _0x538531;},'dropRate':function(){var _0x3d0dc9=_0x52c395;return _0x4368cc[_0x3d0dc9(0x247)];},'dropRateBump':function(){var _0x2b900e=_0x52c395;return _0x4368cc[_0x2b900e(0x20f)];}},'fragmentShaderSource':new _0x12f1d7[(_0x52c395(0x25b))]({'sources':[_0x418a2b['a']]}),'outputTexture':this[_0x52c395(0x29f)][_0x52c395(0x200)],'preExecute':function(){var _0x10d8e4=_0x52c395;_0x1a9ef9[_0x10d8e4(0x23a)][_0x10d8e4(0x200)]['commandToExecute'][_0x10d8e4(0x216)]=_0x1a9ef9['particlesTextures'][_0x10d8e4(0x200)];}}),'postProcessingSpeed':new _0x3ea30b({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){var _0x421792=_0x52c395;return _0x1a9ef9[_0x421792(0x29f)][_0x421792(0x200)];},'nextParticlesSpeed':function(){var _0x136345=_0x52c395;return _0x1a9ef9[_0x136345(0x29f)]['nextParticlesSpeed'];}},'fragmentShaderSource':new _0x12f1d7[(_0x52c395(0x25b))]({'sources':[_0x3fd86d['a']]}),'outputTexture':this[_0x52c395(0x29f)][_0x52c395(0x243)],'preExecute':function(){var _0x368f44=_0x52c395;_0x1a9ef9['primitives']['postProcessingSpeed']['commandToExecute'][_0x368f44(0x216)]=_0x1a9ef9[_0x368f44(0x29f)][_0x368f44(0x243)];}})};}}]),_0xfd149;}(),_0x3f70e7=function(){var _0x45100f=_0x14990a;function _0x3175c2(_0x3d5342,_0x550e0e,_0xc32f10,_0xb45aab){var _0x43d39c=a0_0x1ea9;_0xbf049a()(this,_0x3175c2),this[_0x43d39c(0x320)]=_0x3d5342,this[_0x43d39c(0x32a)]=_0x550e0e,this['userInput']=_0xc32f10,this[_0x43d39c(0x356)]=_0xb45aab,this[_0x43d39c(0x336)]=new _0xff37e3(this[_0x43d39c(0x320)],this[_0x43d39c(0x32a)],this[_0x43d39c(0x289)],this[_0x43d39c(0x356)]),this[_0x43d39c(0x331)]=new _0x33e0fa(this['context'],this[_0x43d39c(0x32a)],this[_0x43d39c(0x289)],this[_0x43d39c(0x356)],this[_0x43d39c(0x336)]);}return _0x42f999()(_0x3175c2,[{'key':'canvasResize','value':function(_0x334379){var _0x4eb961=a0_0x1ea9,_0x5676c9=this;this['particlesComputing'][_0x4eb961(0x263)](),Object[_0x4eb961(0x319)](this['particlesComputing']['windTextures'])['forEach'](function(_0x16c712){var _0x292f0e=_0x4eb961;_0x5676c9['particlesComputing'][_0x292f0e(0x20c)][_0x16c712][_0x292f0e(0x2d9)]();}),this[_0x4eb961(0x331)]['textures']['colorTable']['destroy'](),Object['keys'](this[_0x4eb961(0x331)][_0x4eb961(0x260)])['forEach'](function(_0x41e3bf){var _0x463ca9=_0x4eb961;_0x5676c9[_0x463ca9(0x331)]['framebuffers'][_0x41e3bf]['destroy']();}),this[_0x4eb961(0x320)]=_0x334379,this['particlesComputing']=new _0xff37e3(this[_0x4eb961(0x320)],this[_0x4eb961(0x32a)],this['userInput'],this[_0x4eb961(0x356)]),this['particlesRendering']=new _0x33e0fa(this[_0x4eb961(0x320)],this[_0x4eb961(0x32a)],this['userInput'],this[_0x4eb961(0x356)],this[_0x4eb961(0x336)]);}},{'key':'clearFramebuffers','value':function(){var _0x2045f8=a0_0x1ea9,_0x566970=this,_0x251fe1=new _0x12f1d7[(_0x2045f8(0x2c2))]({'color':new _0x12f1d7[(_0x2045f8(0x274))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x12f1d7[_0x2045f8(0x2e7)][_0x2045f8(0x26b)]});Object[_0x2045f8(0x319)](this[_0x2045f8(0x331)][_0x2045f8(0x260)])[_0x2045f8(0x35a)](function(_0x1bb74e){var _0xa5e198=_0x2045f8;_0x251fe1[_0xa5e198(0x327)]=_0x566970[_0xa5e198(0x331)][_0xa5e198(0x260)][_0x1bb74e],_0x251fe1[_0xa5e198(0x25a)](_0x566970[_0xa5e198(0x320)]);});}},{'key':'refreshParticles','value':function(_0x1b9217){var _0x4c983d=a0_0x1ea9;if(this[_0x4c983d(0x258)](),this[_0x4c983d(0x336)]['destroyParticlesTextures'](),this[_0x4c983d(0x336)][_0x4c983d(0x339)](this['context'],this['userInput'],this['viewerParameters']),_0x1b9217){var _0x1291f7=this['particlesRendering'][_0x4c983d(0x1f0)](this['userInput']);this['particlesRendering'][_0x4c983d(0x23a)]['segments'][_0x4c983d(0x308)]=_0x1291f7;var _0x213d70=_0x12f1d7[_0x4c983d(0x31d)]['fromGeometry']({'context':this['context'],'geometry':_0x1291f7,'attributeLocations':this[_0x4c983d(0x331)][_0x4c983d(0x23a)][_0x4c983d(0x350)][_0x4c983d(0x2b7)],'bufferUsage':_0x12f1d7[_0x4c983d(0x358)][_0x4c983d(0x266)]});this[_0x4c983d(0x331)][_0x4c983d(0x23a)][_0x4c983d(0x350)]['commandToExecute']['vertexArray']=_0x213d70;}}},{'key':_0x45100f(0x213),'value':function(_0x82a1a){var _0x4af9fb=_0x45100f,_0x1b612a=this,_0x1aab1d=!0x1;this[_0x4af9fb(0x289)][_0x4af9fb(0x2d7)]!=_0x82a1a[_0x4af9fb(0x2d7)]&&(_0x1aab1d=!0x0),Object[_0x4af9fb(0x319)](_0x82a1a)[_0x4af9fb(0x35a)](function(_0x36d909){_0x1b612a['userInput'][_0x36d909]=_0x82a1a[_0x36d909];}),this[_0x4af9fb(0x2c6)](_0x1aab1d);}},{'key':_0x45100f(0x2cc),'value':function(_0x3c1637){var _0x5499bd=_0x45100f,_0x4ae5bc=this;Object['keys'](_0x3c1637)[_0x5499bd(0x35a)](function(_0x265e34){var _0x451d4a=_0x5499bd;_0x4ae5bc[_0x451d4a(0x356)][_0x265e34]=_0x3c1637[_0x265e34];}),this[_0x5499bd(0x2c6)](!0x1);}}]),_0x3175c2;}();function _0x57f48f(_0x521304){var _0x4af6cd=function(){var _0x7f2841=a0_0x1ea9;if(_0x7f2841(0x30d)==typeof Reflect||!Reflect[_0x7f2841(0x248)])return!0x1;if(Reflect['construct'][_0x7f2841(0x338)])return!0x1;if(_0x7f2841(0x23e)==typeof Proxy)return!0x0;try{return Boolean[_0x7f2841(0x313)][_0x7f2841(0x21c)][_0x7f2841(0x235)](Reflect[_0x7f2841(0x248)](Boolean,[],function(){})),!0x0;}catch(_0x4d0e4d){return!0x1;}}();return function(){var _0xa4b499=a0_0x1ea9,_0x2329f5,_0x28d3b5=_0x2f41e6()(_0x521304);if(_0x4af6cd){var _0x3144ec=_0x2f41e6()(this)[_0xa4b499(0x337)];_0x2329f5=Reflect['construct'](_0x28d3b5,arguments,_0x3144ec);}else _0x2329f5=_0x28d3b5[_0xa4b499(0x2c4)](this,arguments);return _0x43b61d()(this,_0x2329f5);};}var _0x368ae8=_0x27ad42[_0x14990a(0x27b)]['BaseLayer'],_0x520ac4=0x1000,_0x46d26b=0x64,_0x503108=0.996,_0x501389=0.003,_0x25b69b=0.01,_0x116915=0.5,_0x4e8470=0x2,_0x399ae4=function(_0x4722ea){var _0x54c4a9=_0x14990a;_0x1b7e91()(_0x3ee646,_0x4722ea);var _0x304928=_0x57f48f(_0x3ee646);function _0x3ee646(){var _0x380dba=a0_0x1ea9,_0x5b97d9,_0x4e78b4=arguments[_0x380dba(0x348)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0xbf049a()(this,_0x3ee646),(_0x5b97d9=_0x304928[_0x380dba(0x235)](this,_0x4e78b4))[_0x380dba(0x2d7)]=_0x520ac4,_0x5b97d9[_0x380dba(0x326)]=_0x46d26b,_0x5b97d9[_0x380dba(0x34f)]=_0x503108,_0x5b97d9[_0x380dba(0x247)]=_0x501389,_0x5b97d9[_0x380dba(0x20f)]=_0x25b69b,_0x5b97d9[_0x380dba(0x2ed)]=_0x116915,_0x5b97d9[_0x380dba(0x332)]=_0x4e8470,_0x4e78b4){for(var _0x314290 in _0x4e78b4)_0x5b97d9[_0x314290]=_0x4e78b4[_0x314290];}return _0x5b97d9;}return _0x42f999()(_0x3ee646,[{'key':_0x54c4a9(0x27b),'get':function(){var _0x3fa43a=_0x54c4a9;return this[_0x3fa43a(0x23a)];}},{'key':'_mountedHook','value':function(){}},{'key':'_addedHook','value':function(){var _0x301636=_0x54c4a9;this[_0x301636(0x24b)]=this['_map']['scene'],this['camera']=this[_0x301636(0x2ce)][_0x301636(0x292)],this[_0x301636(0x23a)]=new _0x12f1d7[(_0x301636(0x22b))](),this[_0x301636(0x2ce)][_0x301636(0x24b)][_0x301636(0x23a)][_0x301636(0x288)](this['primitives']),this[_0x301636(0x356)]={'lonRange':new _0x12f1d7[(_0x301636(0x1f4))](),'latRange':new _0x12f1d7['Cartesian2'](),'pixelSize':0x0},this[_0x301636(0x2f2)]=new _0x12f1d7['BoundingSphere'](_0x12f1d7['Cartesian3'][_0x301636(0x2dd)],6314355.63),this['updateViewerParameters'](),window['addEventListener']('resize',this[_0x301636(0x325)][_0x301636(0x21b)](this),!0x1),this[_0x301636(0x1fa)]=!0x1,this[_0x301636(0x22f)]=!0x1,this['_map']['on'](_0x27ad42['EventType'][_0x301636(0x2c0)],this[_0x301636(0x30f)],this),this['_map']['on'](_0x27ad42[_0x301636(0x346)][_0x301636(0x224)],this[_0x301636(0x1f6)],this),this[_0x301636(0x2ce)]['on'](_0x27ad42[_0x301636(0x346)][_0x301636(0x2b5)],this[_0x301636(0x249)],this),this[_0x301636(0x2ce)]['on'](_0x27ad42[_0x301636(0x346)]['mouseMove'],this['_onMouseMoveEvent'],this);}},{'key':'_removedHook','value':function(){var _0x5a21d9=_0x54c4a9;window[_0x5a21d9(0x1fc)](_0x5a21d9(0x325),this['resize']),this[_0x5a21d9(0x2ce)][_0x5a21d9(0x26d)](_0x27ad42[_0x5a21d9(0x346)][_0x5a21d9(0x27c)],this['_onMap_preRenderEvent'],this),this[_0x5a21d9(0x2ce)][_0x5a21d9(0x26d)](_0x27ad42[_0x5a21d9(0x346)]['wheel'],this[_0x5a21d9(0x30f)],this),this[_0x5a21d9(0x2ce)][_0x5a21d9(0x26d)](_0x27ad42[_0x5a21d9(0x346)][_0x5a21d9(0x224)],this[_0x5a21d9(0x1f6)],this),this[_0x5a21d9(0x2ce)]['off'](_0x27ad42['EventType'][_0x5a21d9(0x2b5)],this['_onMouseUpEvent'],this),this[_0x5a21d9(0x2ce)][_0x5a21d9(0x26d)](_0x27ad42[_0x5a21d9(0x346)][_0x5a21d9(0x2e1)],this['_onMouseMoveEvent'],this),this[_0x5a21d9(0x23a)]['removeAll'](),this[_0x5a21d9(0x2ce)][_0x5a21d9(0x24b)][_0x5a21d9(0x23a)]['remove'](this[_0x5a21d9(0x23a)]);}},{'key':_0x54c4a9(0x325),'value':function(){var _0x570fe8=_0x54c4a9;this['show']&&this['particleSystem']&&(this['primitives'][_0x570fe8(0x32f)]=!0x1,this[_0x570fe8(0x23a)][_0x570fe8(0x245)](),this[_0x570fe8(0x2ce)][_0x570fe8(0x2d3)](_0x27ad42[_0x570fe8(0x346)][_0x570fe8(0x27c)],this['_onMap_preRenderEvent'],this));}},{'key':_0x54c4a9(0x2d0),'value':function(_0x1f63cf){var _0x1faf68=_0x54c4a9;this[_0x1faf68(0x305)][_0x1faf68(0x21d)](this[_0x1faf68(0x24b)][_0x1faf68(0x320)]),this[_0x1faf68(0x291)](),this[_0x1faf68(0x23a)][_0x1faf68(0x32f)]=!0x0;}},{'key':'_onMapWhellEvent','value':function(_0x3cee9f){var _0x508aea=_0x54c4a9,_0x531f4b=this;clearTimeout(this[_0x508aea(0x280)]),this['show']&&this[_0x508aea(0x305)]&&(this[_0x508aea(0x23a)][_0x508aea(0x32f)]=!0x1,this[_0x508aea(0x280)]=setTimeout(function(){var _0x103adc=_0x508aea;_0x531f4b[_0x103adc(0x32f)]&&_0x531f4b[_0x103adc(0x217)]();},0xc8));}},{'key':_0x54c4a9(0x1f6),'value':function(_0x35b9f4){var _0x2977bc=_0x54c4a9;this[_0x2977bc(0x1fa)]=!0x0;}},{'key':_0x54c4a9(0x208),'value':function(_0x44a7b6){var _0x1b2dde=_0x54c4a9;this[_0x1b2dde(0x32f)]&&this[_0x1b2dde(0x305)]&&this[_0x1b2dde(0x1fa)]&&(this[_0x1b2dde(0x23a)][_0x1b2dde(0x32f)]=!0x1,this[_0x1b2dde(0x22f)]=!0x0);}},{'key':_0x54c4a9(0x249),'value':function(_0x4b76b8){var _0x340f6d=_0x54c4a9;this['show']&&this['particleSystem']&&(this[_0x340f6d(0x1fa)]&&this[_0x340f6d(0x22f)]&&this['redraw'](),this[_0x340f6d(0x23a)][_0x340f6d(0x32f)]=!0x0,this[_0x340f6d(0x1fa)]=!0x1,this[_0x340f6d(0x22f)]=!0x1);}},{'key':'redraw','value':function(){var _0x1f33b2=_0x54c4a9;this[_0x1f33b2(0x2ce)]&&this[_0x1f33b2(0x32f)]&&(this[_0x1f33b2(0x29b)](),this[_0x1f33b2(0x305)][_0x1f33b2(0x2cc)](this[_0x1f33b2(0x356)]),this[_0x1f33b2(0x23a)][_0x1f33b2(0x32f)]=!0x0);}},{'key':_0x54c4a9(0x2f4),'value':function(_0x32a9ab){var _0x5312ff=_0x54c4a9;this[_0x5312ff(0x305)]=new _0x3f70e7(this[_0x5312ff(0x24b)][_0x5312ff(0x320)],_0x32a9ab,this[_0x5312ff(0x229)](),this[_0x5312ff(0x356)]),this['addPrimitives']();}},{'key':'setOptions','value':function(_0x77203c){var _0x44c158=_0x54c4a9;if(_0x77203c){for(var _0x1b4333 in _0x77203c)this[_0x1b4333]=_0x77203c[_0x1b4333];}return this[_0x44c158(0x305)]&&this[_0x44c158(0x305)]['applyUserInput'](this['getUserInput']()),this;}},{'key':'getUserInput','value':function(){var _0x548198=_0x54c4a9,_0x323a2f=Math[_0x548198(0x2b0)](Math[_0x548198(0x1fd)](this[_0x548198(0x2d7)]));return this[_0x548198(0x2d7)]=_0x323a2f*_0x323a2f,{'particlesTextureSize':_0x323a2f,'maxParticles':this[_0x548198(0x2d7)],'particleHeight':this[_0x548198(0x326)],'fadeOpacity':this[_0x548198(0x34f)],'dropRate':this['dropRate'],'dropRateBump':this[_0x548198(0x20f)],'speedFactor':this[_0x548198(0x2ed)],'lineWidth':this[_0x548198(0x332)],'globeLayer':this[_0x548198(0x345)],'WMS_URL':this[_0x548198(0x1fe)]};}},{'key':'addPrimitives','value':function(){var _0x4b33f8=_0x54c4a9;this[_0x4b33f8(0x23a)][_0x4b33f8(0x288)](this[_0x4b33f8(0x305)][_0x4b33f8(0x336)]['primitives'][_0x4b33f8(0x219)]),this['primitives'][_0x4b33f8(0x288)](this['particleSystem'][_0x4b33f8(0x336)]['primitives'][_0x4b33f8(0x2bc)]),this[_0x4b33f8(0x23a)]['add'](this[_0x4b33f8(0x305)]['particlesComputing'][_0x4b33f8(0x23a)]['updatePosition']),this[_0x4b33f8(0x23a)][_0x4b33f8(0x288)](this[_0x4b33f8(0x305)][_0x4b33f8(0x336)][_0x4b33f8(0x23a)][_0x4b33f8(0x200)]),this[_0x4b33f8(0x23a)][_0x4b33f8(0x288)](this[_0x4b33f8(0x305)]['particlesComputing'][_0x4b33f8(0x23a)][_0x4b33f8(0x243)]),this[_0x4b33f8(0x23a)][_0x4b33f8(0x288)](this[_0x4b33f8(0x305)][_0x4b33f8(0x331)]['primitives']['segments']),this['primitives'][_0x4b33f8(0x288)](this[_0x4b33f8(0x305)][_0x4b33f8(0x331)]['primitives'][_0x4b33f8(0x2fa)]),this[_0x4b33f8(0x23a)][_0x4b33f8(0x288)](this[_0x4b33f8(0x305)][_0x4b33f8(0x331)][_0x4b33f8(0x23a)][_0x4b33f8(0x304)]);}},{'key':_0x54c4a9(0x29b),'value':function(){var _0x2d3e55=_0x54c4a9,_0x47de19=this[_0x2d3e55(0x292)][_0x2d3e55(0x2ae)](this['scene'][_0x2d3e55(0x343)][_0x2d3e55(0x342)]);if(!_0x47de19){var _0x2339b0=this['_map'][_0x2d3e55(0x222)]();_0x47de19=_0x12f1d7['Rectangle']['fromDegrees'](_0x2339b0[_0x2d3e55(0x2a6)],_0x2339b0[_0x2d3e55(0x256)],_0x2339b0[_0x2d3e55(0x2c1)],_0x2339b0[_0x2d3e55(0x2f0)]);}var _0x575d60=_0x1459bf['viewRectangleToLonLatRange'](_0x47de19);this[_0x2d3e55(0x356)][_0x2d3e55(0x324)]['x']=_0x575d60['lon'][_0x2d3e55(0x2a0)],this[_0x2d3e55(0x356)]['lonRange']['y']=_0x575d60['lon'][_0x2d3e55(0x2e6)],this[_0x2d3e55(0x356)][_0x2d3e55(0x207)]['x']=_0x575d60['lat'][_0x2d3e55(0x2a0)],this['viewerParameters'][_0x2d3e55(0x207)]['y']=_0x575d60[_0x2d3e55(0x312)][_0x2d3e55(0x2e6)];var _0x2c2c45=this[_0x2d3e55(0x292)][_0x2d3e55(0x341)](this[_0x2d3e55(0x2f2)],this[_0x2d3e55(0x24b)][_0x2d3e55(0x22d)],this[_0x2d3e55(0x24b)]['drawingBufferHeight']);_0x2c2c45>0x0&&(this[_0x2d3e55(0x356)][_0x2d3e55(0x284)]=_0x2c2c45);}}]),_0x3ee646;}(_0x368ae8);_0x27ad42[_0x14990a(0x2de)][_0x14990a(0x2ca)](_0x14990a(0x2f8),_0x399ae4),_0x27ad42['layer']['WindLayer']=_0x399ae4;var _0x343457=function _0x3226f4(){var _0x121114=_0x14990a;_0xbf049a()(this,_0x3226f4),this['lng']=null,this[_0x121114(0x312)]=null,this[_0x121114(0x29a)]=null,this['tlat']=null,this[_0x121114(0x25d)]=null;},_0xd17988=function(){var _0x20d83e=_0x14990a;function _0x549804(_0x1a77c2,_0x47eb5c){var _0x5c99e2=a0_0x1ea9;_0xbf049a()(this,_0x549804),this[_0x5c99e2(0x2d2)]=_0x1a77c2['rows'],this[_0x5c99e2(0x211)]=_0x1a77c2[_0x5c99e2(0x211)],this[_0x5c99e2(0x2a6)]=_0x1a77c2['xmin'],this[_0x5c99e2(0x2c1)]=_0x1a77c2[_0x5c99e2(0x2c1)],this['ymin']=_0x1a77c2[_0x5c99e2(0x256)],this['ymax']=_0x1a77c2[_0x5c99e2(0x2f0)],this[_0x5c99e2(0x2c7)]=[];var _0x29843d=_0x1a77c2[_0x5c99e2(0x2d6)],_0x1405d7=_0x1a77c2[_0x5c99e2(0x296)],_0x115c14=!0x1;_0x29843d[_0x5c99e2(0x348)]===this[_0x5c99e2(0x2d2)]&&_0x29843d[0x0][_0x5c99e2(0x348)]===this[_0x5c99e2(0x211)]&&(_0x115c14=!0x0);for(var _0x1d52fa=0x0,_0x5c94d4=null,_0x2c383d=null,_0x26716a=0x0;_0x26716a<this['rows'];_0x26716a++){_0x5c94d4=[];for(var _0x329799=0x0;_0x329799<this[_0x5c99e2(0x211)];_0x329799++,_0x1d52fa++)_0x2c383d=_0x115c14?this['_calcUV'](_0x29843d[_0x26716a][_0x329799],_0x1405d7[_0x26716a][_0x329799]):this[_0x5c99e2(0x2e3)](_0x29843d[_0x1d52fa],_0x1405d7[_0x1d52fa]),_0x5c94d4[_0x5c99e2(0x220)](_0x2c383d);this['grid'][_0x5c99e2(0x220)](_0x5c94d4);}_0x47eb5c&&this[_0x5c99e2(0x2c7)]['reverse']();}return _0x42f999()(_0x549804,[{'key':_0x20d83e(0x214),'value':function(_0x2cdc14,_0x5e270c){var _0x44ba63=_0x20d83e;return{'x':(_0x2cdc14-this[_0x44ba63(0x2a6)])/(this['xmax']-this[_0x44ba63(0x2a6)])*(this[_0x44ba63(0x211)]-0x1),'y':(this[_0x44ba63(0x2f0)]-_0x5e270c)/(this[_0x44ba63(0x2f0)]-this['ymin'])*(this[_0x44ba63(0x2d2)]-0x1)};}},{'key':_0x20d83e(0x35e),'value':function(_0x4160b3,_0x5c0f8b){var _0xc66085=_0x20d83e;if(_0x4160b3<0x0||_0x4160b3>=this[_0xc66085(0x211)]||_0x5c0f8b>=this[_0xc66085(0x2d2)])return[0x0,0x0,0x0];var _0x42e5b8,_0xf81a3e,_0x49ca43=Math[_0xc66085(0x2bd)](_0x4160b3),_0x55e937=Math[_0xc66085(0x2bd)](_0x5c0f8b);if(_0x49ca43===_0x4160b3&&_0x55e937===_0x5c0f8b)return this['grid'][_0x5c0f8b][_0x4160b3];_0x42e5b8=_0x49ca43+0x1,_0xf81a3e=_0x55e937+0x1;var _0x5ed729=this[_0xc66085(0x35e)](_0x49ca43,_0x55e937),_0x31ad17=this['getUVByXY'](_0x42e5b8,_0x55e937),_0x4d69ca=this[_0xc66085(0x35e)](_0x49ca43,_0xf81a3e),_0x20aad9=this['getUVByXY'](_0x42e5b8,_0xf81a3e),_0x1b621f=null;try{_0x1b621f=this['_bilinearInterpolation'](_0x4160b3-_0x49ca43,_0x5c0f8b-_0x55e937,_0x5ed729,_0x31ad17,_0x4d69ca,_0x20aad9);}catch(_0x158fe7){console['log'](_0x4160b3,_0x5c0f8b);}return _0x1b621f;}},{'key':'_bilinearInterpolation','value':function(_0x3ce8b7,_0x51c7c4,_0x34c9a6,_0x22c3b4,_0x3c3624,_0x569b38){var _0x13728b=_0x20d83e,_0x21a98d=0x1-_0x3ce8b7,_0x2b4b1d=0x1-_0x51c7c4,_0x563335=_0x21a98d*_0x2b4b1d,_0x3767be=_0x3ce8b7*_0x2b4b1d,_0x2ef693=_0x21a98d*_0x51c7c4,_0x58d80d=_0x3ce8b7*_0x51c7c4,_0x3994c4=_0x34c9a6[0x0]*_0x563335+_0x22c3b4[0x0]*_0x3767be+_0x3c3624[0x0]*_0x2ef693+_0x569b38[0x0]*_0x58d80d,_0x45eeee=_0x34c9a6[0x1]*_0x563335+_0x22c3b4[0x1]*_0x3767be+_0x3c3624[0x1]*_0x2ef693+_0x569b38[0x1]*_0x58d80d;return this[_0x13728b(0x2e3)](_0x3994c4,_0x45eeee);}},{'key':_0x20d83e(0x2e3),'value':function(_0x1d1cec,_0x50dc34){var _0xafca85=_0x20d83e;return[+_0x1d1cec,+_0x50dc34,Math[_0xafca85(0x1fd)](_0x1d1cec*_0x1d1cec+_0x50dc34*_0x50dc34)];}},{'key':_0x20d83e(0x236),'value':function(_0x59588b,_0x467031){var _0x2a3c75=_0x20d83e;if(!this[_0x2a3c75(0x317)](_0x59588b,_0x467031))return null;var _0x4e6cab=this['toGridXY'](_0x59588b,_0x467031);return this[_0x2a3c75(0x35e)](_0x4e6cab['x'],_0x4e6cab['y']);}},{'key':_0x20d83e(0x317),'value':function(_0x219da0,_0x4e858e){var _0x40a736=_0x20d83e;return _0x219da0>=this[_0x40a736(0x2a6)]&&_0x219da0<=this[_0x40a736(0x2c1)]&&_0x4e858e>=this[_0x40a736(0x256)]&&_0x4e858e<=this[_0x40a736(0x2f0)];}},{'key':'getRandomLatLng','value':function(){var _0x53f40d=_0x20d83e,_0x1a3dcc=_0x512e5f(this[_0x53f40d(0x2a6)],this['xmax']);return{'lat':_0x512e5f(this[_0x53f40d(0x256)],this[_0x53f40d(0x2f0)]),'lng':_0x1a3dcc};}}]),_0x549804;}();function _0x512e5f(_0x37687e,_0x3e77d0){var _0x12b740=_0x14990a;return _0x37687e+Math[_0x12b740(0x22a)]()*(_0x3e77d0-_0x37687e);}function _0x16ca41(_0x4c68f9){var _0x425c00=function(){var _0xe0c753=a0_0x1ea9;if('undefined'==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect['construct'][_0xe0c753(0x338)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0xe0c753(0x21c)][_0xe0c753(0x235)](Reflect[_0xe0c753(0x248)](Boolean,[],function(){})),!0x0;}catch(_0x55867b){return!0x1;}}();return function(){var _0x2effa5=a0_0x1ea9,_0x4968e1,_0x27e036=_0x2f41e6()(_0x4c68f9);if(_0x425c00){var _0x45bae3=_0x2f41e6()(this)[_0x2effa5(0x337)];_0x4968e1=Reflect[_0x2effa5(0x248)](_0x27e036,arguments,_0x45bae3);}else _0x4968e1=_0x27e036[_0x2effa5(0x2c4)](this,arguments);return _0x43b61d()(this,_0x4968e1);};}var _0x34bcde=function(_0x4d4a39){var _0x3bc1c0=_0x14990a;_0x1b7e91()(_0x1bd0f1,_0x4d4a39);var _0x47730a=_0x16ca41(_0x1bd0f1);function _0x1bd0f1(){var _0x1de58a=a0_0x1ea9,_0x2693d4,_0x552f2f=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0xbf049a()(this,_0x1bd0f1),(_0x2693d4=_0x47730a[_0x1de58a(0x235)](this,_0x552f2f))[_0x1de58a(0x300)]=[0x0,0x0],_0x2693d4[_0x1de58a(0x278)]=[],_0x2693d4['speedRate']=_0x552f2f[_0x1de58a(0x23b)]||0x32,_0x2693d4['_particlesNumber']=_0x552f2f[_0x1de58a(0x307)]||0x4e20,_0x2693d4[_0x1de58a(0x20d)]=_0x552f2f[_0x1de58a(0x253)]||0x78,_0x2693d4['frameTime']=0x3e8/(_0x552f2f['frameRate']||0xa),_0x2693d4['_pointerEvents']=_0x12f1d7[_0x1de58a(0x2db)](_0x2693d4[_0x1de58a(0x242)][_0x1de58a(0x330)],!0x1),_0x2693d4[_0x1de58a(0x352)]=_0x552f2f[_0x1de58a(0x352)]||'#ffffff',_0x2693d4['lineWidth']=_0x552f2f['lineWidth']||0x1,_0x2693d4['fixedHeight']=_0x12f1d7[_0x1de58a(0x2db)](_0x552f2f[_0x1de58a(0x226)],0x0),_0x2693d4['reverseY']=_0x12f1d7['defaultValue'](_0x552f2f[_0x1de58a(0x2b3)],!0x1),_0x2693d4[_0x1de58a(0x321)]=null,_0x2693d4;}return _0x42f999()(_0x1bd0f1,[{'key':_0x3bc1c0(0x27b),'get':function(){return this['canvas'];}},{'key':_0x3bc1c0(0x2c9),'get':function(){var _0x14bb76=_0x3bc1c0;return this[_0x14bb76(0x2ce)][_0x14bb76(0x24b)]['canvas'][_0x14bb76(0x2d4)];}},{'key':'canvasHeight','get':function(){var _0x4a30a6=_0x3bc1c0;return this[_0x4a30a6(0x2ce)][_0x4a30a6(0x24b)]['canvas'][_0x4a30a6(0x21a)];}},{'key':_0x3bc1c0(0x330),'get':function(){var _0x5a6d8c=_0x3bc1c0;return this[_0x5a6d8c(0x2a1)];},'set':function(_0x22ec63){var _0x1aadf3=_0x3bc1c0;this[_0x1aadf3(0x2a1)]=_0x22ec63,this[_0x1aadf3(0x321)]&&(this[_0x1aadf3(0x321)][_0x1aadf3(0x2bb)][_0x1aadf3(0x24c)]=_0x22ec63?_0x1aadf3(0x2dc):_0x1aadf3(0x232));}},{'key':_0x3bc1c0(0x23b),'get':function(){var _0x3599da=_0x3bc1c0;return this[_0x3599da(0x270)];},'set':function(_0x32b6e6){var _0x397794=_0x3bc1c0;this[_0x397794(0x270)]=0x64*(0x64-(_0x32b6e6>0x63?0x63:_0x32b6e6)),this[_0x397794(0x28b)]();}},{'key':_0x3bc1c0(0x307),'get':function(){var _0x5f0e55=_0x3bc1c0;return this[_0x5f0e55(0x25e)];},'set':function(_0x519d03){var _0x179225=_0x3bc1c0,_0x148faa=this;this['_particlesNumber']=_0x519d03,clearTimeout(this[_0x179225(0x295)]),this[_0x179225(0x295)]=setTimeout(function(){var _0x1fac9c=_0x179225;_0x148faa[_0x1fac9c(0x217)]();},0x1f4);}},{'key':_0x3bc1c0(0x253),'get':function(){return this['_maxAge'];},'set':function(_0x3e34c3){var _0x1e02d0=_0x3bc1c0,_0x42416d=this;this[_0x1e02d0(0x20d)]=_0x3e34c3,clearTimeout(this[_0x1e02d0(0x295)]),this[_0x1e02d0(0x295)]=setTimeout(function(){var _0x41eb76=_0x1e02d0;_0x42416d[_0x41eb76(0x217)]();},0x1f4);}},{'key':_0x3bc1c0(0x32a),'get':function(){var _0x218d27=_0x3bc1c0;return this[_0x218d27(0x276)];},'set':function(_0x2b3845){var _0x3711ad=_0x3bc1c0;this[_0x3711ad(0x2aa)](_0x2b3845);}},{'key':_0x3bc1c0(0x25c),'value':function(_0x35fba0){var _0x254dba=_0x3bc1c0;_0x35fba0?this[_0x254dba(0x2b4)]():(this[_0x254dba(0x276)]&&(this['options'][_0x254dba(0x32a)]=this[_0x254dba(0x276)]),this[_0x254dba(0x297)]());}},{'key':_0x3bc1c0(0x328),'value':function(){}},{'key':_0x3bc1c0(0x2b4),'value':function(){var _0x2852fd=_0x3bc1c0;this[_0x2852fd(0x321)]=this[_0x2852fd(0x33b)](),this[_0x2852fd(0x212)]=this[_0x2852fd(0x321)][_0x2852fd(0x265)]('2d'),this[_0x2852fd(0x34a)](),this['options'][_0x2852fd(0x32a)]&&this['updateDate'](this[_0x2852fd(0x242)][_0x2852fd(0x32a)]);}},{'key':'_removedHook','value':function(){var _0x3bfc2a=_0x3bc1c0;this[_0x3bfc2a(0x316)](),this[_0x3bfc2a(0x2a9)](),this[_0x3bfc2a(0x321)]&&(this['_map'][_0x3bfc2a(0x27f)][_0x3bfc2a(0x262)](this[_0x3bfc2a(0x321)]),delete this['canvas']);}},{'key':_0x3bc1c0(0x33b),'value':function(){var _0x38e028=_0x3bc1c0,_0x5bcb44=document[_0x38e028(0x28c)](_0x38e028(0x321));_0x5bcb44[_0x38e028(0x2bb)][_0x38e028(0x2ff)]=_0x38e028(0x34c),_0x5bcb44['style'][_0x38e028(0x206)]=_0x38e028(0x2ec),_0x5bcb44[_0x38e028(0x2bb)]['left']=_0x38e028(0x2ec),_0x5bcb44[_0x38e028(0x2bb)]['width']=_0x38e028(0x20a),_0x5bcb44[_0x38e028(0x2bb)][_0x38e028(0x35f)]=_0x38e028(0x20a),_0x5bcb44[_0x38e028(0x2bb)]['pointerEvents']=this[_0x38e028(0x2a1)]?_0x38e028(0x1ec):_0x38e028(0x232),_0x5bcb44[_0x38e028(0x2bb)][_0x38e028(0x362)]=0xa,_0x5bcb44[_0x38e028(0x355)]('id',_0x38e028(0x2bf)),_0x5bcb44[_0x38e028(0x355)]('class',_0x38e028(0x2bf)),this[_0x38e028(0x2ce)][_0x38e028(0x27f)][_0x38e028(0x2d5)](_0x5bcb44);var _0x215151=this[_0x38e028(0x2ce)][_0x38e028(0x24b)];return _0x5bcb44[_0x38e028(0x2fb)]=_0x215151[_0x38e028(0x321)][_0x38e028(0x2d4)],_0x5bcb44['height']=_0x215151[_0x38e028(0x321)][_0x38e028(0x21a)],_0x5bcb44;}},{'key':_0x3bc1c0(0x325),'value':function(){var _0x4d4b93=_0x3bc1c0;this[_0x4d4b93(0x321)]&&(this[_0x4d4b93(0x321)]['width']=this['canvasWidth'],this[_0x4d4b93(0x321)][_0x4d4b93(0x35f)]=this['canvasHeight']);}},{'key':_0x3bc1c0(0x34a),'value':function(){var _0x4f9390=_0x3bc1c0,_0x2f184e=this,_0x1c0ae5=Date['now']();!function _0x35f759(){var _0x5aa39f=a0_0x1ea9;_0x2f184e[_0x5aa39f(0x237)]=window[_0x5aa39f(0x335)](_0x35f759);var _0xb4b914=Date[_0x5aa39f(0x202)](),_0x54808a=_0xb4b914-_0x1c0ae5;_0x54808a>_0x2f184e[_0x5aa39f(0x30b)]&&(_0x1c0ae5=_0xb4b914-_0x54808a%_0x2f184e['frameTime'],_0x2f184e[_0x5aa39f(0x301)]());}(),window[_0x4f9390(0x32d)](_0x4f9390(0x325),this['resize'][_0x4f9390(0x21b)](this),!0x1),this[_0x4f9390(0x1fa)]=!0x1,this[_0x4f9390(0x22f)]=!0x1,this[_0x4f9390(0x2ce)]['on'](_0x27ad42[_0x4f9390(0x346)][_0x4f9390(0x2c0)],this[_0x4f9390(0x30f)],this),this[_0x4f9390(0x2ce)]['on'](_0x27ad42['EventType'][_0x4f9390(0x224)],this[_0x4f9390(0x1f6)],this),this[_0x4f9390(0x2ce)]['on'](_0x27ad42[_0x4f9390(0x346)][_0x4f9390(0x2b5)],this['_onMouseUpEvent'],this),this[_0x4f9390(0x2ce)]['on'](_0x27ad42[_0x4f9390(0x346)][_0x4f9390(0x2e1)],this[_0x4f9390(0x208)],this);}},{'key':_0x3bc1c0(0x2a9),'value':function(){var _0xf0e321=_0x3bc1c0;window[_0xf0e321(0x221)](this[_0xf0e321(0x237)]),delete this['animateFrame'],window['removeEventListener'](_0xf0e321(0x325),this[_0xf0e321(0x325)]),this[_0xf0e321(0x2ce)][_0xf0e321(0x26d)](_0x27ad42[_0xf0e321(0x346)][_0xf0e321(0x2c0)],this[_0xf0e321(0x30f)],this),this[_0xf0e321(0x2ce)][_0xf0e321(0x26d)](_0x27ad42[_0xf0e321(0x346)][_0xf0e321(0x224)],this[_0xf0e321(0x1f6)],this),this[_0xf0e321(0x2ce)]['off'](_0x27ad42[_0xf0e321(0x346)][_0xf0e321(0x2b5)],this[_0xf0e321(0x249)],this),this[_0xf0e321(0x2ce)]['off'](_0x27ad42[_0xf0e321(0x346)][_0xf0e321(0x2e1)],this[_0xf0e321(0x208)],this);}},{'key':'_onMapWhellEvent','value':function(_0x3d7e4b){var _0x3cbc78=_0x3bc1c0,_0x5c0a2c=this;clearTimeout(this[_0x3cbc78(0x280)]),this['show']&&this[_0x3cbc78(0x321)]&&(this['canvas'][_0x3cbc78(0x2bb)][_0x3cbc78(0x2b1)]=_0x3cbc78(0x31f),this['refreshTimer']=setTimeout(function(){var _0x10015e=_0x3cbc78;_0x5c0a2c[_0x10015e(0x32f)]&&(_0x5c0a2c[_0x10015e(0x217)](),_0x5c0a2c[_0x10015e(0x321)][_0x10015e(0x2bb)]['visibility']='visible');},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0xe49f67){this['mouse_down']=!0x0;}},{'key':_0x3bc1c0(0x208),'value':function(_0x3b176a){var _0x468902=_0x3bc1c0;this['show']&&this[_0x468902(0x321)]&&this[_0x468902(0x1fa)]&&(this['canvas']['style'][_0x468902(0x2b1)]=_0x468902(0x31f),this['mouse_move']=!0x0);}},{'key':_0x3bc1c0(0x249),'value':function(_0x18cc11){var _0x57ef21=_0x3bc1c0;this[_0x57ef21(0x32f)]&&this[_0x57ef21(0x321)]&&(this[_0x57ef21(0x1fa)]&&this[_0x57ef21(0x22f)]&&this[_0x57ef21(0x217)](),this[_0x57ef21(0x321)]['style']['visibility']='visible',this['mouse_down']=!0x1,this['mouse_move']=!0x1);}},{'key':'redraw','value':function(){var _0x334f94=_0x3bc1c0;this[_0x334f94(0x32f)]&&this[_0x334f94(0x357)]&&(this[_0x334f94(0x278)]=[],this[_0x334f94(0x2f3)]());}},{'key':_0x3bc1c0(0x2aa),'value':function(_0xe694b8){var _0x2954cb=_0x3bc1c0;this[_0x2954cb(0x316)](),this['windData']=_0xe694b8,this[_0x2954cb(0x357)]=new _0xd17988(this['windData'],this[_0x2954cb(0x2b3)]),this['drawWind']();}},{'key':'drawWind','value':function(){var _0x5809b1=_0x3bc1c0;this[_0x5809b1(0x28b)]();for(var _0x34145c=0x0;_0x34145c<this[_0x5809b1(0x307)];_0x34145c++){var _0x5e9562=this[_0x5809b1(0x294)](new _0x343457());this['particles']['push'](_0x5e9562);}this[_0x5809b1(0x212)][_0x5809b1(0x2f9)]=_0x5809b1(0x2be),this[_0x5809b1(0x212)][_0x5809b1(0x334)]=0.6,this[_0x5809b1(0x301)]();}},{'key':_0x3bc1c0(0x28b),'value':function(){var _0x5dfd47=_0x3bc1c0;this['windField']&&(this[_0x5dfd47(0x300)]=[(this['windField'][_0x5dfd47(0x2c1)]-this['windField']['xmin'])/this['speedRate'],(this[_0x5dfd47(0x357)][_0x5dfd47(0x2f0)]-this[_0x5dfd47(0x357)]['ymin'])/this[_0x5dfd47(0x23b)]]);}},{'key':_0x3bc1c0(0x301),'value':function(){var _0x3b86f=_0x3bc1c0,_0x2274a9=this;if(this[_0x3b86f(0x32f)]&&!(this[_0x3b86f(0x278)][_0x3b86f(0x348)]<=0x0)){var _0xe77f82=null,_0x44b0e9=null,_0x4df2f4=null;this[_0x3b86f(0x278)][_0x3b86f(0x35a)](function(_0x3fab26){var _0x3ef073=_0x3b86f;if(_0x3fab26[_0x3ef073(0x25d)]<=0x0&&_0x2274a9['randomParticle'](_0x3fab26),_0x3fab26[_0x3ef073(0x25d)]>0x0){var _0x22c018=_0x3fab26[_0x3ef073(0x29a)],_0x3420ee=_0x3fab26[_0x3ef073(0x2c5)];(_0x4df2f4=_0x2274a9['windField']['getUVByPoint'](_0x22c018,_0x3420ee))?(_0xe77f82=_0x22c018+_0x2274a9['calc_speedRate'][0x0]*_0x4df2f4[0x0],_0x44b0e9=_0x3420ee+_0x2274a9[_0x3ef073(0x300)][0x1]*_0x4df2f4[0x1],_0x3fab26[_0x3ef073(0x24f)]=_0x22c018,_0x3fab26[_0x3ef073(0x312)]=_0x3420ee,_0x3fab26[_0x3ef073(0x29a)]=_0xe77f82,_0x3fab26[_0x3ef073(0x2c5)]=_0x44b0e9,_0x3fab26[_0x3ef073(0x25d)]--):_0x3fab26[_0x3ef073(0x25d)]=0x0;}}),this[_0x3b86f(0x33e)]();}}},{'key':'_tomap','value':function(_0x3c40d5,_0xe13037,_0x5a4551){var _0x470757=_0x3bc1c0,_0x18e8f1=_0x12f1d7[_0x470757(0x244)][_0x470757(0x281)](_0x3c40d5,_0xe13037,this[_0x470757(0x226)]),_0x4f8085=this[_0x470757(0x2ce)][_0x470757(0x24b)];if(_0x4f8085[_0x470757(0x203)]===_0x12f1d7[_0x470757(0x360)][_0x470757(0x2a7)]&&!new _0x12f1d7[(_0x470757(0x2c3))](_0x4f8085[_0x470757(0x343)][_0x470757(0x342)],_0x4f8085[_0x470757(0x292)]['positionWC'])[_0x470757(0x366)](_0x18e8f1))return _0x5a4551['age']=0x0,null;var _0x5a5001=_0x12f1d7[_0x470757(0x252)][_0x470757(0x2da)](this[_0x470757(0x2ce)][_0x470757(0x24b)],_0x18e8f1);return _0x5a5001?[_0x5a5001['x'],_0x5a5001['y']]:null;}},{'key':'_drawLines','value':function(){var _0x23aeac=_0x3bc1c0,_0xd483f7=this,_0x48d133=this[_0x23aeac(0x278)];this[_0x23aeac(0x212)][_0x23aeac(0x332)]=_0xd483f7[_0x23aeac(0x332)],this[_0x23aeac(0x212)][_0x23aeac(0x35d)]=_0x23aeac(0x361),this[_0x23aeac(0x212)][_0x23aeac(0x209)](0x0,0x0,this[_0x23aeac(0x2c9)],this[_0x23aeac(0x2b2)]),this[_0x23aeac(0x212)]['globalCompositeOperation']=_0x23aeac(0x285),this[_0x23aeac(0x212)]['globalAlpha']=0.9,this[_0x23aeac(0x212)][_0x23aeac(0x273)](),this[_0x23aeac(0x212)][_0x23aeac(0x287)]=this[_0x23aeac(0x352)];var _0x56e941=this['_map'][_0x23aeac(0x24b)][_0x23aeac(0x203)]!==_0x12f1d7['SceneMode']['SCENE3D'];_0x48d133['forEach'](function(_0x8efa49){var _0x385ef6=_0x23aeac,_0x14c473=_0xd483f7[_0x385ef6(0x329)](_0x8efa49['lng'],_0x8efa49['lat'],_0x8efa49),_0x1a4b07=_0xd483f7[_0x385ef6(0x329)](_0x8efa49[_0x385ef6(0x29a)],_0x8efa49[_0x385ef6(0x2c5)],_0x8efa49);if(null!=_0x14c473&&null!=_0x1a4b07){var _0x39c964=Math[_0x385ef6(0x230)](_0x14c473[0x0]-_0x1a4b07[0x0]);_0x56e941&&_0x39c964>=_0xd483f7[_0x385ef6(0x2c9)]||(_0xd483f7[_0x385ef6(0x212)][_0x385ef6(0x2fe)](_0x14c473[0x0],_0x14c473[0x1]),_0xd483f7[_0x385ef6(0x212)][_0x385ef6(0x1f5)](_0x1a4b07[0x0],_0x1a4b07[0x1]));}}),this['canvasContext'][_0x23aeac(0x349)]();}},{'key':_0x3bc1c0(0x294),'value':function(_0x158e3f){var _0x43c5b8=_0x3bc1c0;for(var _0x2b25ff,_0x153819,_0x51dad1=0x0;_0x51dad1<0x1e&&(_0x2b25ff=this['windField'][_0x43c5b8(0x2e4)](),!((_0x153819=this[_0x43c5b8(0x357)][_0x43c5b8(0x236)](_0x2b25ff[_0x43c5b8(0x24f)],_0x2b25ff[_0x43c5b8(0x312)]))&&_0x153819[0x2]>0x0));_0x51dad1++);if(!_0x153819)return _0x158e3f;var _0x5212dd=_0x2b25ff['lng']+this[_0x43c5b8(0x300)][0x0]*_0x153819[0x0],_0x7967e1=_0x2b25ff[_0x43c5b8(0x312)]+this['calc_speedRate'][0x1]*_0x153819[0x1];return _0x158e3f[_0x43c5b8(0x24f)]=_0x2b25ff[_0x43c5b8(0x24f)],_0x158e3f[_0x43c5b8(0x312)]=_0x2b25ff[_0x43c5b8(0x312)],_0x158e3f[_0x43c5b8(0x29a)]=_0x5212dd,_0x158e3f[_0x43c5b8(0x2c5)]=_0x7967e1,_0x158e3f[_0x43c5b8(0x25d)]=Math[_0x43c5b8(0x2f1)](Math[_0x43c5b8(0x22a)]()*this[_0x43c5b8(0x253)]),_0x158e3f;}},{'key':_0x3bc1c0(0x316),'value':function(){var _0x559b3b=_0x3bc1c0;this[_0x559b3b(0x278)]=[],delete this['windField'],delete this[_0x559b3b(0x276)];}}]),_0x1bd0f1;}(_0x27ad42[_0x14990a(0x27b)][_0x14990a(0x21e)]);function _0x26b446(_0x3d1614,_0x5a9939){var _0x6a4a87=_0x14990a;return _0x3d1614*Math[_0x6a4a87(0x1ed)](_0x12f1d7['Math'][_0x6a4a87(0x302)](_0x5a9939));}function _0x4f3fa9(_0x495d3f,_0x595311){var _0x154d74=_0x14990a;return _0x495d3f*Math[_0x154d74(0x2e5)](_0x12f1d7[_0x154d74(0x24a)][_0x154d74(0x302)](_0x595311));}function _0x504ff3(_0x474578,_0x2d7060){var _0x6e32ea=_0x14990a;return Math[_0x6e32ea(0x1fd)](Math[_0x6e32ea(0x318)](_0x474578,0x2)+Math[_0x6e32ea(0x318)](_0x2d7060,0x2));}function _0x17a5c4(_0x4adcaa,_0x468140){var _0x805765=_0x14990a,_0x22cf46=_0x12f1d7[_0x805765(0x24a)][_0x805765(0x231)](Math[_0x805765(0x29d)](_0x468140,_0x4adcaa));return _0x22cf46+=_0x22cf46<0x0?0x168:0x0;}_0x27ad42['LayerUtil'][_0x14990a(0x2ca)](_0x14990a(0x363),_0x34bcde),_0x27ad42['layer'][_0x14990a(0x255)]=_0x34bcde,_0x27ad42[_0x14990a(0x2a3)]=_0x550405;}]);}));function a0_0x372e(){var _0x47bcc9=['EventType','fragmentShaderSource','length','stroke','bindEvent','ShaderProgram','absolute','UNSIGNED_INT','6571818CGHDhp','fadeOpacity','segments','PixelFormat','color','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','RenderState','setAttribute','viewerParameters','windField','BufferUsage','destroyObject','forEach','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','symbol','globalCompositeOperation','getUVByXY','height','SceneMode','destination-in','zIndex','canvasWind','9ltDdca','south','isPointVisible','commandToExecute','auto','cos','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','currentTrails','createSegmentsGeometry','Draw','lon','Appearance','Cartesian2','lineTo','_onMouseDownEvent','key','__proto__','createTexture','mouse_down','PixelDatatype','removeEventListener','sqrt','WMS_URL','createRenderingTextures','postProcessingPosition','nextParticlesSpeed','now','mode','viewport','setPrototypeOf','top','latRange','_onMouseMoveEvent','fillRect','100%','PrimitiveType','windTextures','_maxAge','array','dropRateBump','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','cols','canvasContext','applyUserInput','toGridXY','lev','outputTexture','redraw','RGB','getWind','clientHeight','bind','valueOf','canvasResize','BaseLayer','Framebuffer','push','cancelAnimationFrame','getExtent','textures','mouseDown','fill','fixedHeight','east','createWindTextures','getUserInput','random','PrimitiveCollection','currentParticlesPosition','drawingBufferWidth','ComputeCommand','mouse_move','abs','toDegrees','none','vertexArray','defined','call','getUVByPoint','animateFrame','fromGeometry','getColorTexture','primitives','speedRate','segmentsColor','fromCache','function','dimensions','createFramebuffer','mod','options','postProcessingSpeed','Cartesian3','removeAll','PI_OVER_THREE','dropRate','construct','_onMouseUpEvent','Math','scene','pointer-events','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','NEAREST','lng','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','mars3d-cesium','SceneTransforms','maxAge','mars3dWind','CanvasWindLayer','ymin','getFullscreenQuad','clearFramebuffers','DEPTH_COMPONENT','execute','ShaderSource','_showHook','age','_particlesNumber','7OMSUfn','framebuffers','createRenderingPrimitives','removeChild','destroyParticlesTextures','nextTrailsColor','getContext','STATIC_DRAW','ALWAYS','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','currentParticlesSpeed','depthTest','OPAQUE','getV','off','TextureMagnificationFilter','primitiveType','_speedRate','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','commandType','beginPath','Color','LINEAR','windData','TWO_PI','particles','2578785urmCnS','randomBetween','layer','preRender','particlesWind','colorTable','container','refreshTimer','fromDegrees','2561804SuXUmn','depthTexture','pixelSize','lighter','commandList','strokeStyle','add','userInput','randomizeParticles','_calcStep','createElement','preExecute','FLOAT','1229547AIemKZ','Geometry','addPrimitives','camera','GeometryAttribute','randomParticle','canrefresh','vdata','_removedHook','Matrix4','2185270plmoHU','tlng','updateViewerParameters','configurable','atan2','clampToLatitudeRange','particlesTextures','min','_pointerEvents','west','WindUtil','currentTrailsDepth','currentTrailsColor','xmin','SCENE3D','TextureMinificationFilter','unbindEvent','updateDate','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','ComponentDatatype','drawingBufferHeight','computeViewRectangle','Sampler','ceil','visibility','canvasHeight','reverseY','_addedHook','mouseUp','mars3d','attributeLocations','WindLayer','__esModule','PI_OVER_TWO','style','updateSpeed','floor','rgba(0,\x200,\x200,\x200.97)','canvasWindy','wheel','xmax','ClearCommand','EllipsoidalOccluder','apply','tlat','refreshParticles','grid','rawRenderState','canvasWidth','register','GeometryAttributes','applyViewerParameters','segmentsDepth','_map','defineProperty','_onMap_preRenderEvent','8926360nIONjj','rows','once','clientWidth','appendChild','udata','maxParticles','enumerable','destroy','wgs84ToWindowCoordinates','defaultValue','all','ZERO','LayerUtil','updatePosition','nextTrails','mouseMove','toStringTag','_calcUV','getRandomLatLng','sin','max','Pass','uniformMap','create','writable','createComputingPrimitives','0px','speedFactor','depthMask','Compute','ymax','round','globeBoundingSphere','drawWind','setData','colorNum','Module','THREE_PI_OVER_TWO','wind','fillStyle','trails','width','string','exports','moveTo','position','calc_speedRate','update','toRadians','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','screen','particleSystem','TRIANGLES','particlesNumber','geometry','source','createRawRenderState','frameTime','north','undefined','4frtmWd','_onMapWhellEvent','Cesium','getDirection','lat','prototype','isDestroyed','3610443ZNtzXy','clear','isInExtent','pow','keys','object','createRenderingFramebuffers','nextParticlesPosition','VertexArray','createCommand','hidden','context','canvas','hasOwnProperty','DrawCommand','lonRange','resize','particleHeight','framebuffer','_mountedHook','_tomap','data','particlesTextureSize','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','addEventListener','vertexShaderSource','show','pointerEvents','particlesRendering','lineWidth','autoClear','globalAlpha','requestAnimationFrame','particlesComputing','constructor','sham','createParticlesTextures','UNSIGNED_BYTE','_createCanvas','default','clearCommand','_drawLines','blending','shaderProgram','getPixelSize','ellipsoid','globe','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','globeLayer'];a0_0x372e=function(){return _0x47bcc9;};return a0_0x372e();}